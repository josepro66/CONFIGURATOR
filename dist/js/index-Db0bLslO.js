const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/PagoFinalizado-BdhsGBXg.js","js/three-Bgh5ZKrJ.js","js/vendor-Bon8Abu2.js","js/ConfiguratorWrapper-CDusWMok.js","js/GLTFLoader-DIUHo4Jg.js","js/OrbitControls-DdcQk7R8.js"])))=>i.map(i=>d[i]);
import{j as e,u as t,_ as n,T as a,E as r,A as o,D as s,P as i,M as l,a as c,b as d,B as u,V as p,S as m,W as h,c as x,d as f,e as g,R as b,f as w,C as v,g as y,F as j,h as C,i as F}from"./three-Bgh5ZKrJ.js";import{r as k,R as E}from"./vendor-Bon8Abu2.js";import{A as S,m as N,g as O,S as I}from"./utils-zLwkOstC.js";import R from"./ui-BPY6V10C.js";import{P as L,a as z,M as _}from"./payment-kVf01mm0.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();
/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
var T="popstate";function B(e={}){return function(e,t,n,a={}){let{window:r=document.defaultView,v5Compat:o=!1}=a,s=r.history,i="POP",l=null,c=d();null==c&&(c=0,s.replaceState({...s.state,idx:c},""));function d(){return(s.state||{idx:null}).idx}function u(){i="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:i,location:x.location,delta:t})}function p(e,t){i="PUSH";let n=$(x.location,e,t);c=d()+1;let a=A(n,c),u=x.createHref(n);try{s.pushState(a,"",u)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;r.location.assign(u)}o&&l&&l({action:i,location:x.location,delta:1})}function m(e,t){i="REPLACE";let n=$(x.location,e,t);c=d();let a=A(n,c),r=x.createHref(n);s.replaceState(a,"",r),o&&l&&l({action:i,location:x.location,delta:0})}function h(e){return function(e,t=!1){let n="http://localhost";"undefined"!=typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href);D(n,"No window.location.(origin|href) available to create URL");let a="string"==typeof e?e:P(e);a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a);return new URL(a,n)}(e)}let x={get action(){return i},get location(){return e(r,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(T,u),l=e,()=>{r.removeEventListener(T,u),l=null}},createHref:e=>t(r,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:p,replace:m,go:e=>s.go(e)};return x}(function(e,t){let{pathname:n,search:a,hash:r}=e.location;return $("",{pathname:n,search:a,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:P(t)},0,e)}function D(e,t){if(!1===e||null==e)throw new Error(t)}function M(e,t){if(!e)try{throw new Error(t)}catch(n){}}function A(e,t){return{usr:e.state,key:e.key,idx:t}}function $(e,t,n=null,a){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?H(t):t,state:n,key:t&&t.key||a||Math.random().toString(36).substring(2,10)}}function P({pathname:e="/",search:t="",hash:n=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),n&&"#"!==n&&(e+="#"===n.charAt(0)?n:"#"+n),e}function H(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function U(e,t,n="/"){return function(e,t,n,a){let r="string"==typeof t?H(t):t,o=ae(r.pathname||"/",n);if(null==o)return null;let s=W(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let l=0;null==i&&l<s.length;++l){let e=ne(o);i=ee(s[l],e,a)}return i}(e,t,n,!1)}function W(e,t=[],n=[],a="",r=!1){let o=(e,o,s=r,i)=>{let l={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(a)&&s)return;D(l.relativePath.startsWith(a),`Absolute route path "${l.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(a.length)}let c=ie([a,l.relativePath]),d=n.concat(l);e.children&&e.children.length>0&&(D(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),W(e.children,t,d,c,s)),(null!=e.path||e.index)&&t.push({path:c,score:Q(c,e.index),routesMeta:d})};return e.forEach((e,t)=>{var n;if(""!==e.path&&(null==(n=e.path)?void 0:n.includes("?")))for(let a of G(e.path))o(e,t,!0,a);else o(e,t)}),t}function G(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===a.length)return r?[o,""]:[o];let s=G(a.join("/")),i=[];return i.push(...s.map(e=>""===e?o:[o,e].join("/"))),r&&i.push(...s),i.map(t=>e.startsWith("/")&&""===t?"/":t)}var V=/^:[\w-]+$/,K=3,Y=2,X=1,J=10,Z=-2,q=e=>"*"===e;function Q(e,t){let n=e.split("/"),a=n.length;return n.some(q)&&(a+=Z),t&&(a+=Y),n.filter(e=>!q(e)).reduce((e,t)=>e+(V.test(t)?K:""===t?X:J),a)}function ee(e,t,n=!1){let{routesMeta:a}=e,r={},o="/",s=[];for(let i=0;i<a.length;++i){let e=a[i],l=i===a.length-1,c="/"===o?t:t.slice(o.length)||"/",d=te({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!a[a.length-1].route.index&&(d=te({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),s.push({params:r,pathname:ie([o,d.pathname]),pathnameBase:le(ie([o,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(o=ie([o,d.pathnameBase]))}return s}function te(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=function(e,t=!1,n=!0){M("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");e.endsWith("*")?(a.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let o=new RegExp(r,t?void 0:"i");return[o,a]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let o=r[0],s=o.replace(/(.)\/+$/,"$1"),i=r.slice(1);return{params:a.reduce((e,{paramName:t,isOptional:n},a)=>{if("*"===t){let e=i[a]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const r=i[a];return e[t]=n&&!r?void 0:(r||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:s,pattern:e}}function ne(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return M(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ae(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}function re(e,t,n,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oe(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function se(e,t,n,a=!1){let r;"string"==typeof e?r=H(e):(r={...e},D(!r.pathname||!r.pathname.includes("?"),re("?","pathname","search",r)),D(!r.pathname||!r.pathname.includes("#"),re("#","pathname","hash",r)),D(!r.search||!r.search.includes("#"),re("#","search","hash",r)));let o,s=""===e||""===r.pathname,i=s?"/":r.pathname;if(null==i)o=n;else{let e=t.length-1;if(!a&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t="/"){let{pathname:n,search:a="",hash:r=""}="string"==typeof e?H(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:ce(a),hash:de(r)}}(r,o),c=i&&"/"!==i&&i.endsWith("/"),d=(s||"."===i)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var ie=e=>e.join("/").replace(/\/\/+/g,"/"),le=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ce=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",de=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var ue=["POST","PUT","PATCH","DELETE"];new Set(ue);var pe=["GET",...ue];new Set(pe);var me=k.createContext(null);me.displayName="DataRouter";var he=k.createContext(null);he.displayName="DataRouterState",k.createContext(!1);var xe=k.createContext({isTransitioning:!1});xe.displayName="ViewTransition",k.createContext(new Map).displayName="Fetchers",k.createContext(null).displayName="Await";var fe=k.createContext(null);fe.displayName="Navigation";var ge=k.createContext(null);ge.displayName="Location";var be=k.createContext({outlet:null,matches:[],isDataRoute:!1});be.displayName="Route";var we=k.createContext(null);function ve(){return null!=k.useContext(ge)}function ye(){return D(ve(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(ge).location}we.displayName="RouteError";var je="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ce(e){k.useContext(fe).static||k.useLayoutEffect(e)}function Fe(){let{isDataRoute:e}=k.useContext(be);return e?function(){let{router:e}=function(e){let t=k.useContext(me);return D(t,Re(e)),t}("useNavigate"),t=Le("useNavigate"),n=k.useRef(!1);return Ce(()=>{n.current=!0}),k.useCallback(async(a,r={})=>{M(n.current,je),n.current&&("number"==typeof a?e.navigate(a):await e.navigate(a,{fromRouteId:t,...r}))},[e,t])}():function(){D(ve(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(me),{basename:t,navigator:n}=k.useContext(fe),{matches:a}=k.useContext(be),{pathname:r}=ye(),o=JSON.stringify(oe(a)),s=k.useRef(!1);return Ce(()=>{s.current=!0}),k.useCallback((a,i={})=>{if(M(s.current,je),!s.current)return;if("number"==typeof a)return void n.go(a);let l=se(a,JSON.parse(o),r,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:ie([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)},[t,n,o,r,e])}()}function ke(e,{relative:t}={}){let{matches:n}=k.useContext(be),{pathname:a}=ye(),r=JSON.stringify(oe(n));return k.useMemo(()=>se(e,JSON.parse(r),a,"path"===t),[e,r,a,t])}function Ee(e,t,n,a,r){D(ve(),"useRoutes() may be used only in the context of a <Router> component.");let o,{navigator:s}=k.useContext(fe),{matches:i}=k.useContext(be),l=i[i.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",p=l&&l.route;{let e=p&&p.path||"";_e(d,!p||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}o=ye();let m=o.pathname||"/",h=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=U(e,{pathname:h});M(p||null!=x,`No routes matched location "${o.pathname}${o.search}${o.hash}" `),M(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,`Matched leaf route at location "${o.pathname}${o.search}${o.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let f=function(e,t=[],n=null,a=null){if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,o=null==n?void 0:n.errors;if(null!=o){let e=r.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));D(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,e+1))}let s=!1,i=-1;if(n)for(let l=0;l<r.length;l++){let e=r[l];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(i=l),e.route.id){let{loaderData:t,errors:a}=n,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!a||void 0===a[e.route.id]);if(e.route.lazy||o){s=!0,r=i>=0?r.slice(0,i+1):[r[0]];break}}}return r.reduceRight((e,l,c)=>{let d,u=!1,p=null,m=null;n&&(d=o&&l.route.id?o[l.route.id]:void 0,p=l.route.errorElement||Ne,s&&(i<0&&0===c?(_e("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,m=null):i===c&&(u=!0,m=l.route.hydrateFallbackElement||null)));let h=t.concat(r.slice(0,c+1)),x=()=>{let t;return t=d?p:u?m:l.route.Component?k.createElement(l.route.Component,null):l.route.element?l.route.element:e,k.createElement(Ie,{match:l,routeContext:{outlet:e,matches:h,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?k.createElement(Oe,{location:n.location,revalidation:n.revalidation,component:p,error:d,children:x(),routeContext:{outlet:null,matches:h,isDataRoute:!0},unstable_onError:a}):x()},null)}(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ie([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:ie([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,n,a,r);return f}function Se(){let e=function(){var e;let t=k.useContext(we),n=function(e){let t=k.useContext(he);return D(t,Re(e)),t}("useRouteError"),a=Le("useRouteError");if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[a]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},s=null;return s=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:o},"ErrorBoundary")," or"," ",k.createElement("code",{style:o},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:r},n):null,s)}k.createContext(null);var Ne=k.createElement(Se,null),Oe=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError&&this.props.unstable_onError(e,t)}render(){return void 0!==this.state.error?k.createElement(be.Provider,{value:this.props.routeContext},k.createElement(we.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ie({routeContext:e,match:t,children:n}){let a=k.useContext(me);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(be.Provider,{value:e},n)}function Re(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Le(e){let t=function(e){let t=k.useContext(be);return D(t,Re(e)),t}(e),n=t.matches[t.matches.length-1];return D(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}var ze={};function _e(e,t,n){t||ze[e]||(ze[e]=!0,M(!1,n))}function Te({basename:e="/",children:t=null,location:n,navigationType:a="POP",navigator:r,static:o=!1}){D(!ve(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),i=k.useMemo(()=>({basename:s,navigator:r,static:o,future:{}}),[s,r,o]);"string"==typeof n&&(n=H(n));let{pathname:l="/",search:c="",hash:d="",state:u=null,key:p="default"}=n,m=k.useMemo(()=>{let e=ae(l,s);return null==e?null:{location:{pathname:e,search:c,hash:d,state:u,key:p},navigationType:a}},[s,l,c,d,u,p,a]);return M(null!=m,`<Router basename="${s}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),null==m?null:k.createElement(fe.Provider,{value:i},k.createElement(ge.Provider,{children:t,value:m}))}k.memo(function({routes:e,future:t,state:n,unstable_onError:a}){return Ee(e,0,n,a,t)});var Be="get",De="application/x-www-form-urlencoded";function Me(e){return null!=e&&"string"==typeof e.tagName}var Ae=null;var $e=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pe(e){return null==e||$e.has(e)?e:(M(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${De}"`),null)}function He(e,t){let n,a,r,o,s;if(Me(i=e)&&"form"===i.tagName.toLowerCase()){let s=e.getAttribute("action");a=s?ae(s,t):null,n=e.getAttribute("method")||Be,r=Pe(e.getAttribute("enctype"))||De,o=new FormData(e)}else if(function(e){return Me(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Me(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let i=e.getAttribute("formaction")||s.getAttribute("action");if(a=i?ae(i,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Be,r=Pe(e.getAttribute("formenctype"))||Pe(s.getAttribute("enctype"))||De,o=new FormData(s,e),!function(){if(null===Ae)try{new FormData(document.createElement("form"),0),Ae=!1}catch(e){Ae=!0}return Ae}()){let{name:t,type:n,value:a}=e;if("image"===n){let e=t?`${t}.`:"";o.append(`${e}x`,"0"),o.append(`${e}y`,"0")}else t&&o.append(t,a)}}else{if(Me(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Be,a=null,r=De,s=e}var i;return o&&"text/plain"===r&&(s=o,o=void 0),{action:a,method:n.toLowerCase(),encType:r,formData:o,body:s}}function Ue(e,t){if(!1===e||null==e)throw new Error(t)}function We(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}async function Ge(e,t,n){return function(e,t){let n=new Set;return new Set(t),e.reduce((e,t)=>{let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let a of n)t[a]=e[a];return t}(t));return n.has(a)||(n.add(a),e.push({key:a,link:t})),e},[])}((await Promise.all(e.map(async e=>{let a=t.routes[e.route.id];if(a){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(a,n);return e.links?e.links():[]}return[]}))).flat(1).filter(We).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}function Ve(e,t,n,a,r,o){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,i=(e,t)=>{var a;return n[t].pathname!==e.pathname||(null==(a=n[t].route.path)?void 0:a.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===o?t.filter((e,t)=>s(e,t)||i(e,t)):"data"===o?t.filter((t,o)=>{var l;let c=a.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(s(t,o)||i(t,o))return!0;if(t.route.shouldRevalidate){let a=t.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:(null==(l=n[0])?void 0:l.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof a)return a}return!0}):[]}function Ke(e,t,{includeHydrateFallback:n}={}){return a=e.map(e=>{let a=t.routes[e.route.id];if(!a)return[];let r=[a.module];return a.clientActionModule&&(r=r.concat(a.clientActionModule)),a.clientLoaderModule&&(r=r.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(r=r.concat(a.hydrateFallbackModule)),a.imports&&(r=r.concat(a.imports)),r}).flat(1),[...new Set(a)];var a}function Ye(){let e=k.useContext(me);return Ue(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Xe=k.createContext(void 0);function Je(){let e=k.useContext(Xe);return Ue(e,"You must render this element inside a <HydratedRouter> element"),e}function Ze(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function qe({page:e,...t}){let{router:n}=Ye(),a=k.useMemo(()=>U(n.routes,e,n.basename),[n.routes,e,n.basename]);return a?k.createElement(Qe,{page:e,matches:a,...t}):null}function Qe({page:e,matches:t,...n}){let a=ye(),{manifest:r,routeModules:o}=Je(),{basename:s}=Ye(),{loaderData:i,matches:l}=function(){let e=k.useContext(he);return Ue(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}(),c=k.useMemo(()=>Ve(e,t,l,r,a,"data"),[e,t,l,r,a]),d=k.useMemo(()=>Ve(e,t,l,r,a,"assets"),[e,t,l,r,a]),u=k.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let n=new Set,l=!1;if(t.forEach(e=>{var t;let a=r.routes[e.route.id];a&&a.hasLoader&&(!c.some(t=>t.route.id===e.route.id)&&e.route.id in i&&(null==(t=o[e.route.id])?void 0:t.shouldRevalidate)||a.hasClientLoader?l=!0:n.add(e.route.id))}),0===n.size)return[];let d=function(e,t,n){let a="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===a.pathname?a.pathname=`_root.${n}`:t&&"/"===ae(a.pathname,t)?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}(e,s,"data");return l&&n.size>0&&d.searchParams.set("_routes",t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(",")),[d.pathname+d.search]},[s,i,a,r,c,t,e,o]),p=k.useMemo(()=>Ke(d,r),[d,r]),m=function(e){let{manifest:t,routeModules:n}=Je(),[a,r]=k.useState([]);return k.useEffect(()=>{let a=!1;return Ge(e,t,n).then(e=>{a||r(e)}),()=>{a=!0}},[e,t,n]),a}(d);return k.createElement(k.Fragment,null,u.map(e=>k.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...n})),p.map(e=>k.createElement("link",{key:e,rel:"modulepreload",href:e,...n})),m.map(({key:e,link:t})=>k.createElement("link",{key:e,nonce:n.nonce,...t})))}function et(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}Xe.displayName="FrameworkContext";var tt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{tt&&(window.__reactRouterVersion="7.8.2")}catch(Jt){}function nt({basename:e,children:t,window:n}){let a=k.useRef();null==a.current&&(a.current=B({window:n,v5Compat:!0}));let r=a.current,[o,s]=k.useState({action:r.action,location:r.location}),i=k.useCallback(e=>{k.startTransition(()=>s(e))},[s]);return k.useLayoutEffect(()=>r.listen(i),[r,i]),k.createElement(Te,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:r})}var at=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rt=k.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:a,reloadDocument:r,replace:o,state:s,target:i,to:l,preventScrollReset:c,viewTransition:d,...u},p){let m,{basename:h}=k.useContext(fe),x="string"==typeof l&&at.test(l),f=!1;if("string"==typeof l&&x&&(m=l,tt))try{let e=new URL(window.location.href),t=l.startsWith("//")?new URL(e.protocol+l):new URL(l),n=ae(t.pathname,h);t.origin===e.origin&&null!=n?l=n+t.search+t.hash:f=!0}catch(Jt){M(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=function(e,{relative:t}={}){D(ve(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=k.useContext(fe),{hash:r,pathname:o,search:s}=ke(e,{relative:t}),i=o;return"/"!==n&&(i="/"===o?n:ie([n,o])),a.createHref({pathname:i,search:s,hash:r})}(l,{relative:a}),[b,w,v]=function(e,t){let n=k.useContext(Xe),[a,r]=k.useState(!1),[o,s]=k.useState(!1),{onFocus:i,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:u}=t,p=k.useRef(null);k.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),k.useEffect(()=>{if(a){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[a]);let m=()=>{r(!0)},h=()=>{r(!1),s(!1)};return n?"intent"!==e?[o,p,{}]:[o,p,{onFocus:Ze(i,m),onBlur:Ze(l,h),onMouseEnter:Ze(c,m),onMouseLeave:Ze(d,h),onTouchStart:Ze(u,m)}]:[!1,p,{}]}(n,u),y=function(e,{target:t,replace:n,state:a,preventScrollReset:r,relative:o,viewTransition:s}={}){let i=Fe(),l=ye(),c=ke(e,{relative:o});return k.useCallback(d=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(d,t)){d.preventDefault();let t=void 0!==n?n:P(l)===P(c);i(e,{replace:t,state:a,preventScrollReset:r,relative:o,viewTransition:s})}},[l,i,c,n,a,t,e,r,o,s])}(l,{replace:o,state:s,target:i,preventScrollReset:c,relative:a,viewTransition:d});let j=k.createElement("a",{...u,...v,href:m||g,onClick:f||r?e:function(t){e&&e(t),t.defaultPrevented||y(t)},ref:et(p,w),target:i,"data-discover":x||"render"!==t?void 0:"true"});return b&&!x?k.createElement(k.Fragment,null,j,k.createElement(qe,{page:g})):j});function ot(e){let t=k.useContext(me);return D(t,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(e)),t}rt.displayName="Link",k.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:a=!1,style:r,to:o,viewTransition:s,children:i,...l},c){let d=ke(o,{relative:l.relative}),u=ye(),p=k.useContext(he),{navigator:m,basename:h}=k.useContext(fe),x=null!=p&&function(e,{relative:t}={}){let n=k.useContext(xe);D(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=ot("useViewTransitionState"),r=ke(e,{relative:t});if(!n.isTransitioning)return!1;let o=ae(n.currentLocation.pathname,a)||n.currentLocation.pathname,s=ae(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=te(r.pathname,s)||null!=te(r.pathname,o)}(d)&&!0===s,f=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,g=u.pathname,b=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;t||(g=g.toLowerCase(),b=b?b.toLowerCase():null,f=f.toLowerCase()),b&&h&&(b=ae(b,h)||b);const w="/"!==f&&f.endsWith("/")?f.length-1:f.length;let v,y=g===f||!a&&g.startsWith(f)&&"/"===g.charAt(w),j=null!=b&&(b===f||!a&&b.startsWith(f)&&"/"===b.charAt(f.length)),C={isActive:y,isPending:j,isTransitioning:x},F=y?e:void 0;v="function"==typeof n?n(C):[n,y?"active":null,j?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let E="function"==typeof r?r(C):r;return k.createElement(rt,{...l,"aria-current":F,className:v,ref:c,style:E,to:o,viewTransition:s},"function"==typeof i?i(C):i)}).displayName="NavLink",k.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:r,state:o,method:s=Be,action:i,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:u,...p},m)=>{let h=function(){let{router:e}=ot("useSubmit"),{basename:t}=k.useContext(fe),n=Le("useRouteId");return k.useCallback(async(a,r={})=>{let{action:o,method:s,encType:i,formData:l,body:c}=He(a,t);if(!1===r.navigate){let t=r.fetcherKey||it();await e.fetch(t,n,r.action||o,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||s,formEncType:r.encType||i,flushSync:r.flushSync})}else await e.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||s,formEncType:r.encType||i,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}(),x=function(e,{relative:t}={}){let{basename:n}=k.useContext(fe),a=k.useContext(be);D(a,"useFormAction must be used inside a RouteContext");let[r]=a.matches.slice(-1),o={...ke(e||".",{relative:t})},s=ye();if(null==e){o.search=s.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?`?${n}`:""}}e&&"."!==e||!r.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(o.pathname="/"===o.pathname?n:ie([n,o.pathname]));return P(o)}(i,{relative:c}),f="get"===s.toLowerCase()?"get":"post",g="string"==typeof i&&at.test(i);return k.createElement("form",{ref:m,method:f,action:x,onSubmit:a?l:e=>{if(l&&l(e),e.defaultPrevented)return;e.preventDefault();let a=e.nativeEvent.submitter,i=(null==a?void 0:a.getAttribute("formmethod"))||s;h(a||e.currentTarget,{fetcherKey:t,method:i,navigate:n,replace:r,state:o,relative:c,preventScrollReset:d,viewTransition:u})},...p,"data-discover":g||"render"!==e?void 0:"true"})}).displayName="Form";var st=0,it=()=>`__${String(++st)}__`;const lt=({isVisible:t,onComplete:n})=>{const[a,r]=k.useState(0),[o]=k.useState(Date.now()),[s,i]=k.useState(!1),[l,c]=k.useState(!1),d=k.useRef(null);return k.useEffect(()=>{if(t){const e=setInterval(()=>{const t=Date.now()-o,a=Math.min(t/4100*100,100);r(e=>Math.abs(e-a)>=1||a>=100?a:e),a>=100&&(clearInterval(e),d.current&&(d.current.pause(),d.current.currentTime=0),null==n||n())},100);return()=>clearInterval(e)}r(0)},[t,o]),k.useEffect(()=>{if(d.current&&t){const e=d.current;e.playbackRate=1,e.volume=0;const t=()=>{c(!0),e.play().catch(e=>{i(!0)})},n=e=>{i(!0)},a=()=>{},r=()=>{},o=()=>{},s=()=>{};return e.addEventListener("canplay",t),e.addEventListener("error",n),e.addEventListener("loadstart",a),e.addEventListener("loadeddata",r),e.addEventListener("waiting",o),e.addEventListener("playing",s),e.load(),()=>{e.removeEventListener("canplay",t),e.removeEventListener("error",n),e.removeEventListener("loadstart",a),e.removeEventListener("loadeddata",r),e.removeEventListener("waiting",o),e.removeEventListener("playing",s)}}if(d.current&&!t){const e=d.current;e.pause(),e.currentTime=0,c(!1),i(!1)}},[t]),e.jsx(S,{children:t&&e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:9999,color:"white",fontFamily:"Arial, sans-serif",overflow:"hidden"},children:[e.jsxs("video",{ref:d,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:-2},muted:!0,loop:!0,playsInline:!0,preload:"metadata",crossOrigin:"anonymous",autoPlay:!0,children:[e.jsx("source",{src:"/CONFIGURATOR/videos/video.mp4",type:"video/mp4"}),e.jsx("img",{src:"/CONFIGURATOR/textures/carga.jpg",alt:"Loading background",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})]}),e.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:-1}}),e.jsx(N.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},style:{fontSize:"32px",fontWeight:"bold",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 20px #00FFFF, 0 0 40px #00FFFF, 0 0 60px #00FFFF",position:"relative",zIndex:1},children:"BEATO8"}),e.jsx(N.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeOut"},style:{fontSize:"18px",fontWeight:"bold",marginBottom:"40px",color:"#FFFFFF",textShadow:"0 0 15px #FFFFFF, 0 0 30px #FFFFFF",position:"relative",zIndex:1},children:"Features: Metal body, 8 ARCADE buttons, and 4 assignable knobs."}),e.jsx(N.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},style:{width:"100px",height:"100px",border:"6px solid rgba(0, 255, 255, 0.3)",borderTop:"6px solid #00FFFF",borderRadius:"50%",marginBottom:"40px",boxShadow:"0 0 30px rgba(0, 255, 255, 0.8), 0 0 60px rgba(0, 255, 255, 0.4)",position:"relative",zIndex:1}}),e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},style:{fontSize:"20px",fontWeight:"bold",textAlign:"center",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 15px #00FFFF, 0 0 30px #00FFFF",position:"relative",zIndex:1},children:["Cargando BEATO8... ",Math.round(a),"%"]}),a>=100&&e.jsx(N.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.8},style:{fontSize:"18px",color:"#00FF80",fontWeight:"bold",marginBottom:"30px",textShadow:"0 0 15px #00FF80, 0 0 30px #00FF80",position:"relative",zIndex:1},children:"¡BEATO8 listo para configurar!"}),e.jsx(N.div,{style:{width:"400px",height:"8px",backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:"4px",overflow:"hidden",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.3)",marginBottom:"40px",position:"relative",zIndex:1},children:e.jsx(N.div,{initial:{width:0},animate:{width:`${a}%`},transition:{duration:.1,ease:"linear"},style:{width:"100%",height:"100%",background:"linear-gradient(90deg, #00FFFF, #00CCFF, #00FFFF)",borderRadius:"4px",boxShadow:"0 0 20px rgba(0, 255, 255, 0.8), 0 0 40px rgba(0, 255, 255, 0.4)",backgroundSize:"200% 100%",animation:"shimmer 2s infinite"}})}),e.jsx(N.div,{style:{display:"flex",gap:"12px",marginTop:"20px",position:"relative",zIndex:1},children:[0,1,2].map(t=>e.jsx(N.div,{animate:{scale:[1,1.3,1],opacity:[.4,1,.4]},transition:{duration:2,repeat:1/0,delay:.3*t,ease:"easeInOut"},style:{width:"12px",height:"12px",backgroundColor:"#00FFFF",borderRadius:"50%",boxShadow:"0 0 15px rgba(0, 255, 255, 0.8), 0 0 30px rgba(0, 255, 255, 0.4)"}},t))}),e.jsx("style",{children:"\n            @keyframes shimmer {\n              0% { background-position: -200% 0; }\n              100% { background-position: 200% 0; }\n            }\n          "})]})})},ct=({type:t="default",className:n=""})=>{const a="animate-pulse bg-gray-700 rounded";switch(t){case"configurator":return e.jsxs("div",{className:`w-full h-screen ${n}`,children:[e.jsx("div",{className:`${a} w-full h-3/4 mb-4`}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsx("div",{className:`${a} w-24 h-10`}),e.jsx("div",{className:`${a} w-24 h-10`}),e.jsx("div",{className:`${a} w-24 h-10`})]}),e.jsx("div",{className:"flex gap-2",children:Array.from({length:8}).map((t,n)=>e.jsx("div",{className:`${a} w-12 h-12 rounded-full`},n))})]});case"payment":return e.jsxs("div",{className:`w-full max-w-md mx-auto p-6 ${n}`,children:[e.jsx("div",{className:`${a} w-full h-12 mb-4`}),e.jsx("div",{className:`${a} w-full h-12 mb-4`}),e.jsx("div",{className:`${a} w-full h-12 mb-4`}),e.jsx("div",{className:`${a} w-32 h-12 mx-auto`})]});case"product":return e.jsxs("div",{className:`w-full ${n}`,children:[e.jsx("div",{className:`${a} w-full h-64 mb-4`}),e.jsx("div",{className:`${a} w-3/4 h-6 mb-2`}),e.jsx("div",{className:`${a} w-1/2 h-4 mb-4`}),e.jsx("div",{className:`${a} w-24 h-10`})]});default:return e.jsx("div",{className:`w-full h-32 ${n}`,children:e.jsx("div",{className:`${a} w-full h-full`})})}};class dt extends k.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?this.props.fallback||e.jsxs("div",{className:"error-boundary-fallback",children:[e.jsx("h2",{children:"Algo salió mal"}),e.jsx("p",{children:"No se pudo cargar el componente. Por favor, recarga la página."}),e.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"10px 20px",backgroundColor:"#00FFFF",color:"#000",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Recargar página"})]}):this.props.children}}E.lazy(()=>n(()=>Promise.resolve().then(()=>ht),[]).then(e=>({default:e.default}))),E.lazy(()=>n(()=>Promise.resolve().then(()=>wt),void 0).then(e=>({default:e.default}))),E.lazy(()=>n(()=>Promise.resolve().then(()=>Rt),void 0).then(e=>({default:e.default}))),E.lazy(()=>n(()=>Promise.resolve().then(()=>Bt),void 0).then(e=>({default:e.default}))),E.lazy(()=>n(()=>Promise.resolve().then(()=>Pt),void 0).then(e=>({default:e.default}))),E.lazy(()=>n(()=>Promise.resolve().then(()=>Vt),void 0).then(e=>({default:e.default})));const ut=E.lazy(()=>n(()=>import("./PagoFinalizado-BdhsGBXg.js"),__vite__mapDeps([0,1,2])).then(e=>({default:e.default}))),pt=E.lazy(()=>n(()=>import("./ConfiguratorWrapper-CDusWMok.js"),__vite__mapDeps([3,1,2])).then(e=>({default:e.default}))),mt=({onProductChange:t})=>{const v=k.useRef(null),y=k.useRef(null),j=k.useRef(null),C=k.useRef(null),F=k.useRef(null),E=k.useRef(null),S=k.useRef(null),[N,_]=k.useState("normal"),[T,B]=k.useState(null),[D,M]=k.useState(()=>{const e=localStorage.getItem("beato_chosenColors");if(e)try{return JSON.parse(e)}catch(Jt){}return{type:"configUpdate",chasis:"Gris",buttons:{},knobs:{}}}),[A,$]=k.useState({chasis:[],buttons:[],knobs:[]}),[P,H]=k.useState(!1),[U,W]=k.useState(null),[G,V]=k.useState("USD"),[K,Y]=k.useState(!1),[X,J]=k.useState(!1);D.chasis,D.buttons,D.knobs;const Z=k.useRef(N),[q,Q]=k.useState([]),[ee,te]=k.useState([]),ne={chasis:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},buttons:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},knobs:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}}},ae={normal:{pos:new p(2,1,-.1),target:new p(0,-.5,-.1)},top:{pos:new p(1,1.95,-.3),target:new p(-.35,-2.2,-.3)}},re=k.useRef(null),oe=k.useRef(null);k.useEffect(()=>{const e=()=>{J(window.innerWidth>window.innerHeight)};return e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),k.useCallback(async()=>{if(v.current)try{const e=v.current.querySelector("canvas");if(e){const t=e.toDataURL("image/png");W(t)}}catch(e){}H(!0)},[D]),k.useCallback(()=>{},[]);const[se,ie]=k.useState(null);k.useEffect(()=>{(new a).load("/CONFIGURATOR/textures/blackhole.jpg.avif",e=>{e.mapping=r,ie(e)})},[]);const le=k.useCallback((e,t)=>{const n=new o(16777215,.9);e.add(n);const a=new s(16777215,1.2);a.position.set(5,4,-1),a.castShadow=!0,a.shadow.mapSize.width=4096,a.shadow.mapSize.height=4096,a.shadow.camera.near=.5,a.shadow.camera.far=50,a.shadow.normalBias=.02,e.add(a);const r=new s(10079487,1);r.position.set(-8,3,-9),e.add(r);const l=new s(10079487,1);l.position.set(-8,3,15),e.add(l);const c=new i(16777215,.7,.5);c.position.set(0,5,5),e.add(c);const d=new s(16777215,1.2);d.position.set(-5,30,0),d.castShadow=!0,d.shadow.mapSize.width=2048,d.shadow.mapSize.height=2048,d.shadow.camera.near=.5,d.shadow.camera.far=50,d.shadow.normalBias=.02,e.add(d)},[]),ce=k.useCallback(e=>{const t={chasis:[],buttons:[],knobs:[]};let n={type:"configUpdate",chasis:"Gris",buttons:{},knobs:{}};try{const e=localStorage.getItem("beato_chosenColors");if(e){const t=JSON.parse(e);t&&"object"==typeof t&&(n={type:"configUpdate",chasis:t.chasis||n.chasis,buttons:t.buttons||{},knobs:t.knobs||{}})}}catch(Jt){}e.traverse(e=>{var a;if(!(e instanceof l))return;e.castShadow=!0,e.receiveShadow=!0;const r="string"==typeof e.name?e.name.toLowerCase():"";if((r.includes("logo")||r.includes("beato")||r.includes("crearttech")||r.includes("custom midi"))&&e.material&&"map"in e.material&&e.material.map&&(e.material.transparent=!0,e.material.alphaTest=.9),r.includes("cubechasis")){const a=n.chasis&&ne.chasis[n.chasis]?n.chasis:"Gris";e.material=new c({color:ne.chasis[a].hex,metalness:.8,roughness:.35,clearcoat:.85,clearcoatRoughness:.1}),t.chasis.push(e),n.chasis=a}else if(r.includes("boton")){const a=n.buttons[e.name],r=a&&ne.buttons[a]?a:"Negro";e.material=new c({color:ne.buttons[r].hex,metalness:.4,roughness:.68,clearcoat:.85,clearcoatRoughness:.08,reflectivity:.3,sheen:.5,sheenColor:1842204}),t.buttons.push(e),n.buttons[e.name]=r}else if(r.includes("knob")){if(null==(a=e.material)?void 0:a.color){const a=e.material;if((a.color.r+a.color.g+a.color.b)/3<.5){const a=n.knobs[e.name],r=a&&ne.knobs[a]?a:"Negro";e.material=new d({color:ne.knobs[r].hex,metalness:0,roughness:1}),t.knobs.push(e),n.knobs[e.name]=r}else e.material=new d({color:16777215})}}else r.includes("aro")&&(e.material=new c({color:0,metalness:0,roughness:.2,clearcoat:.8,clearcoatRoughness:.1,reflectivity:.5,transmission:.3,thickness:.5,ior:1.4,attenuationDistance:1,attenuationColor:16777215,transparent:!0,opacity:.7}),t.buttons.push(e),newChosenColors.buttons[e.name]="Negro")}),$(t),M(n)},[se]),de=k.useCallback(e=>{const t=(new u).setFromObject(e),n=t.getSize(new p),a=t.getCenter(new p),r=1.8/Math.max(n.x,n.y,n.z);e.scale.set(r,r,r),e.position.copy(a).multiplyScalar(-r),e.position.y-=n.y/2*r},[]),ue=k.useCallback(async()=>{try{const{GLTFLoader:e}=await n(async()=>{const{GLTFLoader:e}=await import("./GLTFLoader-DIUHo4Jg.js");return{GLTFLoader:e}},__vite__mapDeps([4,1,2])),t=new e,a="/CONFIGURATOR/models/BEATO3.glb";t.load(a,e=>{var t;const n=e.scene;E.current=n,ce(n),de(n),null==(t=y.current)||t.add(n),S.current||(S.current=n.position.clone());n.traverse(e=>{e.isMesh&&("string"==typeof e.name&&e.name.toLowerCase().includes("boton")||"string"==typeof e.name&&e.name.toLowerCase().includes("aro"))&&e.material&&"color"in e.material&&e.material.color.setHex(1842204),e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&(e.material=e.material.clone())}),E.current.traverse(e=>{})},void 0,e=>{alert("No se pudo cargar el modelo 3D. Revisa la ruta o el archivo.")})}catch(e){}},[ce,de]);k.useEffect(()=>{if(!v.current)return;const e=new m;e.background=null,y.current=e;const t=new h({antialias:!0,alpha:!0,preserveDrawingBuffer:!0});t.setSize(v.current.clientWidth,v.current.clientHeight),t.setPixelRatio(Math.min(window.devicePixelRatio,2)),t.outputColorSpace=x,t.shadowMap.enabled=!0,t.shadowMap.type=f,j.current=t,v.current.appendChild(t.domElement);const a=new g(45,v.current.clientWidth/v.current.clientHeight,.1,200);let r;a.position.copy(ae.normal.pos),C.current=a,n(async()=>{const{OrbitControls:e}=await import("./OrbitControls-DdcQk7R8.js");return{OrbitControls:e}},__vite__mapDeps([5,1,2])).then(({OrbitControls:e})=>{const n=new e(a,t.domElement);n.target.copy(ae.normal.target),n.enableDamping=!0,n.minDistance=2,n.maxDistance=5,F.current=n}),le(e,t),ue();const o=()=>{r=requestAnimationFrame(o),F.current&&F.current.update(),t.render(e,a)};return o(),()=>{r&&cancelAnimationFrame(r),v.current&&t.domElement&&v.current.removeChild(t.domElement),t.dispose()}},[le,ue]),k.useEffect(()=>{const e=()=>{if(v.current&&C.current&&j.current){const e=v.current.clientWidth,t=v.current.clientHeight;C.current.aspect=e/t,C.current.updateProjectionMatrix(),j.current.setSize(e,t)}};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),k.useEffect(()=>{localStorage.setItem("beato_currentView",N)},[N]),k.useEffect(()=>{localStorage.setItem("beato_chosenColors",JSON.stringify(D))},[D]),k.useEffect(()=>{if(A.chasis.length>0||A.buttons.length>0||A.knobs.length>0){if(D.chasis&&ne.chasis[D.chasis]){const e=ne.chasis[D.chasis].hex;A.chasis.forEach(t=>{t.material&&"color"in t.material&&t.material.color.setHex(parseInt(e.replace("#",""),16))})}Object.entries(D.buttons).forEach(([e,t])=>{if(ne.buttons[t]){const n=ne.buttons[t].hex,a=A.buttons.find(t=>t.name===e);a&&a.material&&"color"in a.material&&a.material.color.setHex(parseInt(n.replace("#",""),16))}}),Object.entries(D.knobs).forEach(([e,t])=>{if(ne.knobs[t]){const n=ne.knobs[t].hex,a=A.knobs.find(t=>t.name===e);a&&a.material&&"color"in a.material&&a.material.color.setHex(parseInt(n.replace("#",""),16))}})}},[A,D]);const pe=k.useCallback((e,t=0)=>{var n;e&&(null==(n=e.material)?void 0:n.emissive)&&e.material.emissive.setHex(t)},[]),me=k.useCallback(e=>{var t;if(!C.current||!j.current)return;if("chasis"===N)return B(null),void Q([]);const n=new b,a=new w,r=j.current.domElement.getBoundingClientRect();a.x=(e.clientX-r.left)/r.width*2-1,a.y=-(e.clientY-r.top)/r.height*2+1,n.setFromCamera(a,C.current);let o=[];if("buttons"===N?o=A.buttons:"knobs"===N?o=A.knobs:"normal"===N&&(o=A.buttons),0===o.length)return;const s=n.intersectObjects(o,!1);if("buttons"===N&&A.buttons.forEach(e=>pe(e,0)),T&&"normal"!==N&&pe(T,0),s.length>0){const e=s[0].object;if("normal"===N)return;if("buttons"===N){let n=e;if(e.name.toLowerCase().includes("aro")){const a=parseInt((null==(t=e.name.match(/\d+/))?void 0:t[0])||"1",10),r=A.buttons.find(e=>e.name.toLowerCase().includes("boton")&&e.name.includes(a.toString()));if(!r)return;n=r}B(null),Q(e=>{const t=e.includes(n)?e.filter(e=>e!==n):[...e,n];return A.buttons.forEach(e=>pe(e,0)),t.forEach(e=>pe(e,4473924)),t})}else"knobs"===N?(B(null),te(t=>{const n=t.includes(e)?t.filter(t=>t!==e):[...t,e];return A.knobs.forEach(e=>pe(e,0)),n.forEach(e=>pe(e,4473924)),n})):(Q([]),B(e),pe(e,4473924))}else B(null),Q([])},[N,A,T,pe,q]),he=k.useCallback(e=>{var t;if(!E.current)return null;let n=null;const a=null==(t=e.match(/\d+/))?void 0:t[0];return a?(E.current.traverse(e=>{var t;if(e instanceof l&&e.name.toLowerCase().includes("aro")){(null==(t=e.name.match(/\d+/))?void 0:t[0])===a&&(n=e)}}),n):null},[]),xe=k.useCallback(e=>{if(_(e),"chasis"===e&&A.chasis.length>0?B(A.chasis[0]):B(null),"normal"===e&&(T&&pe(T,0),q.forEach(e=>pe(e,0)),ee.forEach(e=>pe(e,0)),Q([]),te([]),B(null)),!C.current||!F.current)return;let t;"normal"===e?(t=ae.normal,F.current.enabled=!0):(t=ae.top,F.current.enabled=!1);const n="undefined"!=typeof window&&window.innerWidth<=768?.12:.35,a=t.pos.clone(),r=t.target.clone();"normal"!==e&&(a.x-=n,r.x-=n),O.to(C.current.position,{duration:1.2,ease:"power3.inOut",x:a.x,y:a.y,z:a.z}),O.to(F.current.target,{duration:1.2,ease:"power3.inOut",x:r.x,y:r.y,z:r.z,onUpdate:()=>F.current.update()})},[A,T,q,ee,pe]),fe=k.useCallback((e,t)=>{if("chasis"===N)return A.chasis.forEach(e=>{e.material.color.set(t.hex)}),void M(t=>({...t,chasis:e}));if("buttons"===N&&q.length>0){const n={...D,buttons:{...D.buttons}};return q.forEach(a=>{a.material.color.set(t.hex),n.buttons[a.name]=e;const r=he(a.name);r&&r.material&&r.material.color.set(t.hex)}),M(n),q.forEach(e=>pe(e,0)),void Q([])}if("knobs"===N&&ee.length>0){const n={...D,knobs:{...D.knobs}};return ee.forEach(a=>{a.material.color.set(t.hex),n.knobs[a.name]=e}),M(n),ee.forEach(e=>pe(e,0)),void te([])}if(!T)return void I.fire({title:"Selecciona una parte",text:"Haz clic en una pieza del controlador para aplicar el color.",imageUrl:"models/logo.png",imageWidth:120,imageHeight:120,background:"#232846",color:"#FFFFFF",confirmButtonColor:"#a259ff",confirmButtonText:"Entendido"});T.material.color.set(t.hex);const n={...D},a=T.name;if(A.buttons.includes(T)){if(n.buttons[a]=e,a.toLowerCase().includes("boton")){const e=he(a);e&&e.material&&e.material.color.set(t.hex)}pe(T,0)}else A.knobs.includes(T)&&(n.knobs[a]=e);M(n)},[T,q,D,A,N,he,ee]);k.useCallback(()=>{const e=`\nHola,\n\nEsta es mi configuración para el Beato8:\n\n- Chasis: ${D.chasis}\n- Botones: ${Object.values(D.buttons).join(", ")||"Default"}\n- Knobs: ${Object.values(D.knobs).join(", ")||"Default"}\n\n(Adjunto también los datos en formato JSON para precisión: ${JSON.stringify(D)})\n\n¡Gracias!\n`,t=`mailto:tu-email-de-negocio@ejemplo.com?subject=${encodeURIComponent("Configuración de Beato8")}&body=${encodeURIComponent(e)}`;window.location.href=t},[D]);const ge=k.useCallback(()=>{if(!j.current)return null;try{return j.current.domElement.toDataURL("image/png")}catch(Jt){return null}},[]),be=k.useCallback(()=>{if(!(j.current&&C.current&&F.current&&y.current))return null;const e=j.current,t=C.current,n=F.current,a=t.position.clone(),r=n.target.clone(),o=n.enabled;t.position.copy(ae.normal.pos),n.target.copy(ae.normal.target),n.enabled=!1,n.update(),e.render(y.current,t);let s=null;try{s=e.domElement.toDataURL("image/png")}catch(Jt){}return t.position.copy(a),n.target.copy(r),n.enabled=o,n.update(),e.render(y.current,t),s},[]),we={Verde:"Green",Amarillo:"Yellow",Azul:"Blue",Blanco:"White",Naranja:"Orange",Morado:"Purple",Rojo:"Red",Negro:"Black",Rosa:"Pink",Gris:"Gray"},ve=e=>we[e]||e,ye=e=>(e=>e.replace(/Boton/gi,"Button"))(e).replace(/_1\b/i,""),je=k.useCallback(async()=>{var e,t;const a=be();a&&W(a);const r=Object.entries(D.buttons||{}),o=Object.entries(D.knobs||{}),s=(e,t)=>e.length?e.map(([e,t])=>`<li style="margin:4px 0"><strong>${ye(e)}</strong>: ${ve(t)}</li>`).join(""):`<li>${t}</li>`,i=`\n      <div style="display:flex; flex-direction:column; gap:12px; text-align:left;">\n        <div style="display:flex; gap:16px; align-items:flex-start;">\n          ${a?`<img src="${a}" alt="Screenshot" style="width:280px; height:auto; border-radius:8px; border:1px solid #4b5563"/>`:'<div style="width:280px;height:180px;display:flex;align-items:center;justify-content:center;border:1px solid #4b5563;border-radius:8px;">No screenshot</div>'}\n          <div style="flex:1">\n            <p style="margin:0 0 8px 0"><strong style="color:#FCD34D">Chassis:</strong> ${ve(D.chasis)}</p>\n            <div style="display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:12px; align-items:start;"> \n              <div>\n                <p style="margin:0 0 6px 0; color:#FCD34D"><strong>Buttons:</strong></p>\n                <ul style="margin:0; padding-left:16px; columns:2; column-gap:16px;">${s(r,"Default")}</ul>\n              </div>\n              <div>\n                <p style="margin:0 0 6px 0; color:#FCD34D"><strong>Knobs:</strong></p>\n                <ul style="margin:0; padding-left:16px; columns:2; column-gap:16px;">${s(o,"Default")}</ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>`;if((await I.fire({title:"Configuration Summary",html:i,width:860,background:"#0b1220",color:"#e5e7eb",showCancelButton:!0,showDenyButton:!0,confirmButtonText:"Send by email",denyButtonText:"Download image",cancelButtonText:"Close",focusConfirm:!1,allowOutsideClick:!1,preDeny:async()=>{var e,t;try{const a=null==(t=(e=I).getPopup)?void 0:t.call(e);if(!a)return;const{default:r}=await n(async()=>{const{default:e}=await import("./ui-BPY6V10C.js");return{default:e}},[]),o=(await r(a,{background:"#0b1220"})).toDataURL("image/png"),s=document.createElement("a");s.href=o,s.download="beato8-configuration-summary.png",document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(Jt){}}})).isConfirmed){try{const a=null==(t=(e=I).getPopup)?void 0:t.call(e);if(a){const{default:e}=await n(async()=>{const{default:e}=await import("./ui-BPY6V10C.js");return{default:e}},[]),t=(await e(a,{background:"#0b1220"})).toDataURL("image/png"),r=document.createElement("a");r.href=t,r.download="beato8-configuration-summary.png",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}catch(Jt){}const a="info@crearttech.com",r="Beato8 Configuration",o=`Hello,\n\nHere is my configuration for the Beato8:\n\n- Chassis: ${ve(D.chasis)}\n- Buttons: ${Object.entries(D.buttons).map(([e,t])=>`${ye(e)}: ${ve(t)}`).join(", ")||"Default"}\n- Knobs: ${Object.entries(D.knobs).map(([e,t])=>`${ye(e)}: ${ve(t)}`).join(", ")||"Default"}\n\nI have downloaded the configuration image automatically. Please find it attached.\n`,s=`https://mail.google.com/mail/?view=cm&fs=1&to=${encodeURIComponent(a)}&su=${encodeURIComponent(r)}&body=${encodeURIComponent(o)}&tf=1`;window.open(s,"_blank")}},[D,ge]);k.useEffect(()=>{Z.current=N},[N]),k.useEffect(()=>{setTimeout(()=>{C.current&&F.current&&(re.current=C.current.position.clone(),oe.current=F.current.target.clone())},100)},[]);const[Ce,Fe]=k.useState([]);return e.jsxs(L,{options:{clientId:"sb",currency:"USD"},children:[!X&&window.innerWidth<=768&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col items-center justify-center text-white text-center p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mx-auto mb-4 animate-bounce text-cyan-400",children:[e.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),e.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),e.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]})}),e.jsx("h2",{className:"text-2xl font-bold mb-4 text-cyan-400",children:"Rotate your device!"}),e.jsx("p",{className:"text-lg mb-2",children:"to use the configurator"}),e.jsx("p",{className:"text-base opacity-80",children:"Please turn your device to landscape mode"}),e.jsxs("div",{className:"mt-8 flex items-center space-x-2 text-sm opacity-60",children:[e.jsx("div",{className:"w-8 h-5 border-2 border-current rounded-sm"}),e.jsx("span",{children:"→"}),e.jsx("div",{className:"w-5 h-8 border-2 border-current rounded-sm"})]})]}),e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"stretch",zIndex:1,color:"white",fontFamily:"Arial, sans-serif",overflow:"hidden"},children:[e.jsx("div",{className:"fixed inset-0 bg-cover bg-center bg-no-repeat bg-fixed -z-10",style:{backgroundImage:"url(/CONFIGURATOR/textures/fondo.jpg)"}}),e.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"stretch",zIndex:1,color:"white",fontFamily:"Arial, sans-serif",overflow:"hidden"},children:[e.jsx("div",{className:"fixed top-2 md:top-4 z-50 flex items-center gap-2 md:gap-3",style:{left:"70px"},children:e.jsx("button",{onClick:()=>window.location.href="https://www.crearttech.com/",className:"relative px-3 md:px-5 py-1 md:py-2 rounded-full font-bold text-xs md:text-sm uppercase tracking-wider text-white transition-all duration-300 hover:-translate-y-0.5 bg-gradient-to-r from-cyan-500/20 via-purple-500/20 to-pink-500/20 border border-cyan-500/55",children:e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:[e.jsx("path",{d:"M3 10.5L12 3l9 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M5 9.5V21h14V9.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{children:"Home"})]})})}),e.jsx("div",{className:"absolute top-4 md:top-10 left-0 right-0 z-30 flex justify-center items-center",children:e.jsx("h1",{className:"text-xl md:text-3xl lg:text-4xl font-bold leading-none m-0 font-gotham text-white tracking-wide drop-shadow-[0_0_12px_#a259ff] drop-shadow-[0_0_24px_#0ff] drop-shadow-[0_0_2px_#FFFFFF]",children:"BEATO8"})}),e.jsx("main",{style:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"stretch",zIndex:10,overflow:"hidden"},children:e.jsx("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex",justifyContent:"flex-start",alignItems:"stretch",zIndex:10,overflow:"hidden"},children:e.jsx("div",{ref:v,style:{position:"relative",width:"100%",height:"100%",zIndex:10,cursor:"pointer"},onClick:me})})}),e.jsxs("div",{style:{position:"fixed",top:0,width:"normal"===N?"clamp(80px, 20vw, 112px)":"clamp(300px, 35vw, 360px)",height:"100vh",display:"flex",zIndex:100,transition:"all 0.4s ease",right:"undefined"!=typeof window&&window.innerWidth<=768?-35:-20},className:"mobile-panel",children:[e.jsx("div",{style:{width:"clamp(60px, 15vw, 112px)",flexShrink:0,paddingTop:"clamp(20px, 5vh, 160px)",position:"relative",zIndex:50},children:e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(4px, 1vw, 6px)"},children:[{id:"normal",icon:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5M12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17M12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z",title:"Full View - See complete MIDI controller"},{id:"chasis",icon:"beato.png",isImage:!0,title:"Customize Chassis - Change main body color"},{id:"buttons",icon:"M12 1.999c5.524 0 10.002 4.478 10.002 10.002c0 5.523-4.478 10.001-10.002 10.001S1.998 17.524 1.998 12.001C1.998 6.477 6.476 1.999 12 1.999m0 1.5a8.502 8.502 0 1 0 0 17.003A8.502 8.502 0 0 0 12 3.5M11.996 6a5.998 5.998 0 1 1 0 11.996a5.998 5.998 0 0 1 0-11.996",title:"Customize Buttons - Change trigger pad colors"},{id:"knobs",icon:"M9.42 4.074a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56M11.554 8.8a.5.5 0 0 1 0 .707l-1.78 1.78a.5.5 0 1 1-.708-.707l1.78-1.78a.5.5 0 0 1 .708 0 M9.42 15.444c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.03 1.32-3.19 1.32m0-1.1a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82M6.757 5.2a.56.56 0 1 0-.965.567l.465.809l.005.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm5.315.012a.55.55 0 0 1 .761-.206c.277.152.36.5.203.764l-.458.797a.56.56 0 0 1-.478.277a.564.564 0 0 1-.487-.834zm7.598 5.722a.5.5 0 0 1 .5-.5h2.52a.5.5 0 1 1 0 1h-2.52a.5.5 0 0 1-.5-.5 M22.69 15.454c2.49 0 4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52s2.03 4.52 4.52 4.52m0-1.11a3.41 3.41 0 1 1 0-6.82a3.41 3.41 0 0 1 0 6.82m-.56-9.7c0-.308.252-.56.56-.56s.56.252.56.56v.945a.566.566 0 0 1-.56.535a.56.56 0 0 1-.56-.56zm-2.103.566a.557.557 0 0 0-.763-.202a.566.566 0 0 0-.204.753l.468.815l.004.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm6.086-.204a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759c.1.067.217.078.282.078a.6.6 0 0 0 .478-.262l.005-.006l.463-.806a.55.55 0 0 0-.203-.764M11.93 22.636H9.42a.5.5 0 0 0 0 1h2.51a.5.5 0 1 0 0-1 M4.9 23.136c0 2.49 2.03 4.52 4.52 4.52s4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52m7.93 0a3.41 3.41 0 1 1-6.82 0a3.41 3.41 0 0 1 6.82 0m-3.41-6.86a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56m-3.418.93a.566.566 0 0 1 .755.206l.464.807c.137.258.06.6-.205.753a.53.53 0 0 1-.276.074a.58.58 0 0 1-.478-.261l-.005-.007l-.468-.814a.566.566 0 0 1 .207-.755zm6.08.209a.55.55 0 0 1 .761-.206c.277.151.36.499.203.764l-.462.802a.567.567 0 0 1-.766.194a.55.55 0 0 1-.194-.76zm8.475 3.588a.5.5 0 0 1 .707 0l1.78 1.78a.5.5 0 0 1-.707.707l-1.78-1.78a.5.5 0 0 1 0-.707 M22.69 27.656c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.04 1.32-3.19 1.32m0-1.11a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82 M22.13 16.836c0-.308.252-.56.56-.56s.56.252.56.56v.945a.57.57 0 0 1-.56.545a.56.56 0 0 1-.56-.56zm-2.103.576a.566.566 0 0 0-.755-.206l-.006.003a.565.565 0 0 0-.206.755l.468.814l.004.007a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.074a.566.566 0 0 0 .205-.753zm6.086-.203a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759a.5.5 0 0 0 .282.077a.6.6 0 0 0 .478-.261l.005-.007l.463-.805a.55.55 0 0 0-.203-.764 M1 5.75A4.75 4.75 0 0 1 5.75 1h20.52a4.75 4.75 0 0 1 4.75 4.75v20.48a4.75 4.75 0 0 1-4.75 4.75H5.75A4.75 4.75 0 0 1 1 26.23zM5.75 3A2.75 2.75 0 0 0 3 5.75v20.48a2.75 2.75 0 0 0 2.75 2.75h20.52a2.75 2.75 0 0 0 2.75-2.75V5.75A2.75 2.75 0 0 0 26.27 3z",title:"Customize Knobs - Change rotary control colors"}].map(t=>e.jsx("div",{className:"relative group",children:e.jsx("button",{onClick:"faders"===t.id?void 0:()=>xe(t.id),style:{width:"clamp(40px, 10vw, 70px)",height:"clamp(40px, 10vw, 70px)",padding:"clamp(4px, 1vw, 8px)",aspectRatio:"1 / 1",border:"2px solid #22d3ee",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",zIndex:100,transition:"all 0.3s ease",color:"white",cursor:"faders"===t.id?"not-allowed":"pointer",background:N===t.id?"linear-gradient(to bottom right, #22d3ee, #3b82f6)":"linear-gradient(to bottom right, #000000, #374151)",boxShadow:N===t.id?"0 10px 15px -3px rgba(0, 0, 0, 0.1)":"none"},disabled:"faders"===t.id,onMouseEnter:e=>{"faders"!==t.id&&(e.currentTarget.style.background="linear-gradient(to bottom right, #22d3ee, #3b82f6)",e.currentTarget.style.boxShadow="0 10px 15px -3px rgba(0, 0, 0, 0.1)");const n=document.createElement("div");n.className="custom-tooltip",n.textContent=t.title,n.style.cssText=`\n                        position: fixed;\n                        left: ${e.clientX-32}px;\n                        top: ${e.clientY-32}px;\n                        transform: translateX(-100%);\n                        background: #8503adcc;\n                        color: white;\n                        padding: 12px 16px;\n                        border-radius: 8px;\n                        font-size: 14px;\n                        font-weight: bold;\n                        white-space: nowrap;\n                        z-index: 999999;\n                        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n                        border: 2px solid #f87171;\n                        pointer-events: none;\n                      `,n.id="temp-tooltip",document.body.appendChild(n)},onMouseLeave:e=>{"faders"!==t.id&&N!==t.id&&(e.currentTarget.style.background="linear-gradient(to bottom right, #000000, #374151)",e.currentTarget.style.boxShadow="none");const n=document.getElementById("temp-tooltip");n&&n.remove()},children:t.isImage?e.jsx("img",{src:`textures/${t.icon}`,alt:"Menu icon",style:{width:"clamp(20px, 5vw, 40px)",height:"clamp(20px, 5vw, 40px)",objectFit:"contain",margin:"auto",pointerEvents:"none"}}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"chasis"===t.id||"knobs"===t.id?"0 0 32 32":"faders"===t.id?"0 0 256 256":"0 0 24 24",style:{width:"clamp(20px, 5vw, 40px)",height:"clamp(20px, 5vw, 40px)",fill:"white",color:"white",margin:"auto",pointerEvents:"none"},fill:"#FFFFFF",children:e.jsx("path",{d:t.icon})})})},t.id))})}),e.jsxs("div",{style:{flex:1,padding:"normal"===N?"clamp(4px, 1vw, 8px)":"clamp(12px, 2vw, 16px)",display:"flex",flexDirection:"column",background:"normal"===N?"transparent":"rgba(17, 24, 39, 0.65)",borderLeft:"normal"===N?"none":"1px solid #4b5563",backdropFilter:"normal"===N?void 0:"blur(6px)",overflowY:"normal"===N?"visible":"auto"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",paddingBottom:"clamp(12px, 3vw, 20px)",borderBottom:"1px solid #4b5563",paddingLeft:0,justifyContent:"center",gap:"normal"===N?0:"clamp(4px, 1vw, 8px)",minHeight:"normal"===N?"clamp(40px, 10vw, 48px)":"auto"},children:e.jsx("img",{src:"/CONFIGURATOR/models/logo.png",alt:"Logo",style:{height:"normal"===N?"clamp(20px, 5vw, 24px)":"clamp(28px, 7vw, 32px)",width:"auto",filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}})}),"normal"!==N&&e.jsxs("div",{style:{marginTop:"clamp(12px, 2.5vw, 20px)"},className:"animate-fadeIn",children:[e.jsx("p",{style:{fontWeight:900,fontSize:"clamp(12px, 3vw, 16px)",letterSpacing:"0.05em",textTransform:"uppercase",margin:"0 0 clamp(10px, 2vw, 14px) 0",color:"#e5e7eb",textAlign:"left"},className:"animate-fadeIn",children:(()=>{switch(N){case"chasis":return"CHOOSE THE CHASSIS COLOR";case"buttons":return"CUSTOMIZE THE BUTTONS";case"knobs":return"CHOOSE FOR THE KNOBS";default:return"CHOOSE A COLOR"}})()}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",rowGap:"5px",columnGap:"0px",padding:0,justifyItems:"start",marginLeft:"undefined"!=typeof window&&window.innerWidth<=768?"-24px":"35px",transform:"undefined"!=typeof window&&window.innerWidth<=768?"translateX(-36px)":"none",transition:"transform 150ms ease"},className:"animate-scaleIn",children:Object.entries((()=>{switch(N){case"chasis":return ne.chasis;case"buttons":return ne.buttons;case"knobs":return ne.knobs;default:return{}}})()).map(([t,n],a)=>e.jsx("div",{style:{width:"clamp(30px, 7vw, 44px)",height:"clamp(30px, 7vw, 44px)",borderRadius:"50%",cursor:"pointer",border:"1px solid #a259ff",boxShadow:"0 0 6px 1px rgba(162, 89, 255, 0.33)",transition:"transform 0.15s ease, margin-left 0.15s ease",backgroundColor:n.hex,animationDelay:40*a+"ms",marginLeft:"0px"},title:t,onClick:()=>fe(t,n),onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.07)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)"},className:"animate-fadeInUp"},t))})]})]})]}),"normal"===N&&e.jsx("button",{onClick:je,className:"fixed bottom-4 md:bottom-10 left-1/2 transform -translate-x-1/2 z-50 px-3 md:px-6 py-2 md:py-3 text-sm md:text-lg font-bold uppercase tracking-wide text-black bg-purple-400 border-none rounded cursor-pointer transition-all duration-200 shadow-lg hover:bg-yellow-200 hover:scale-105 hover:shadow-xl shadow-[0_0_8px_2px_#a259ff80,0_0_16px_4px_#0ff5]",children:"Finish and Send Configuration"}),P&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"relative bg-[#3a4060] rounded-2xl shadow-2xl border-2 border-purple-400 p-4 md:py-6 md:px-8 w-full max-w-4xl animate-fade-in",children:[e.jsx("button",{onClick:()=>H(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-pink-400 text-2xl font-bold",children:"×"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-purple-400 mb-4 text-center tracking-widest",children:"PAGO SEGURO"}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center mb-4",children:[e.jsx("div",{className:"w-full max-w-[280px] sm:max-w-[320px] lg:max-w-[380px] aspect-[4/3] flex items-center justify-center",children:U&&e.jsx("img",{src:U,alt:"Controlador personalizado",className:"w-full h-full object-contain bg-none shadow-none border-none"})}),e.jsxs("div",{className:"flex-1 mt-4 lg:mt-0",children:[e.jsx("h3",{className:"text-lg md:text-xl font-semibold mb-2 text-cyan-400",children:"Your Configuration:"}),e.jsxs("ul",{className:"text-sm md:text-base space-y-1",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Chassis:"})," ",D.chasis]}),e.jsxs("li",{children:[e.jsx("b",{children:"Buttons:"})," ",Object.values(D.buttons).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Knobs:"})," ",Object.values(D.knobs).join(", ")||"Default"]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-base md:text-lg font-semibold mb-3 text-cyan-400",children:"Select your currency:"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center",children:[e.jsx("button",{onClick:()=>V("USD"),className:"px-4 md:px-6 py-2 md:py-3 rounded-lg font-bold text-sm md:text-lg transition-all "+("USD"===G?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"USD $185.00"}),e.jsx("button",{onClick:()=>V("COP"),className:"px-4 md:px-6 py-2 md:py-3 rounded-lg font-bold text-sm md:text-lg transition-all "+("COP"===G?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"COP $735,000"})]}),e.jsx("p",{className:"text-center text-xs md:text-sm text-gray-400 mt-2",children:"Selected price: $185 USD"})]}),e.jsx("div",{className:"flex flex-col gap-4 mt-4",children:e.jsx(z,{style:{layout:"horizontal",color:"blue",shape:"rect",label:"paypal",height:48},createOrder:async()=>{try{let t="";try{const e=document.querySelector("canvas");if(e){t=(await R(e,{useCORS:!0,allowTaint:!0})).toDataURL("image/jpeg",.6)}}catch(e){}D.chasis,D.buttons,D.knobs;return"temp-order-id"}catch(e){return alert("No se pudo iniciar el pago. Inténtalo de nuevo."),Promise.reject(e)}},onApprove:async e=>{await(async()=>{try{return!0}catch(e){return alert("Hubo un problema al verificar tu pago. Por favor, contacta a soporte."),!1}})(e.orderID)?(alert("¡Pago verificado y completado! Recibirás un correo de confirmación."),H(!1)):alert("Error en la verificación del pago. Por favor, contacta a soporte.")},onError:e=>{alert("Error en el pago con PayPal: "+e)}})}),e.jsx("p",{className:"text-xs text-gray-400 mt-6 text-center",children:"Your purchase is 100% safe and protected."})]})}),K&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"relative bg-[#232846] rounded-2xl shadow-2xl border-2 border-purple-400 p-4 md:p-6 w-full max-w-2xl animate-fade-in flex flex-col items-center",children:[e.jsx("button",{onClick:()=>Y(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-pink-400 text-2xl font-bold",children:"×"}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-purple-400 mb-4 text-center tracking-widest",children:"Product Added!"}),e.jsx("p",{className:"text-white text-center mb-4",children:"Your custom product has been added to the Wix cart. You can continue shopping or complete your purchase on the main site."}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center w-full",children:[e.jsx("div",{className:"w-full max-w-[200px] sm:max-w-[220px] aspect-[4/3] flex items-center justify-center",children:U&&e.jsx("img",{src:U,alt:"Custom controller",className:"w-full h-full object-contain bg-none shadow-none border-none"})}),e.jsxs("div",{className:"flex-1 mt-4 lg:mt-0 w-full",children:[e.jsx("h3",{className:"text-base md:text-lg font-semibold mb-2 text-cyan-400",children:"Your Product:"}),e.jsxs("ul",{className:"text-sm md:text-base space-y-1 mb-2",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Chassis:"})," ",D.chasis]}),e.jsxs("li",{children:[e.jsx("b",{children:"Buttons:"})," ",Object.values(D.buttons).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Knobs:"})," ",Object.values(D.knobs).join(", ")||"Default"]})]})]})]}),e.jsx("div",{className:"flex flex-col gap-4 mt-6 w-full",children:e.jsx("button",{onClick:()=>Y(!1),className:"w-full py-2 md:py-3 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold text-sm md:text-lg shadow-[0_0_12px_2px_#ff00ff80] hover:scale-105 transition-all mt-2",children:"Continue Customizing"})})]})})]})]})]})},ht=Object.freeze(Object.defineProperty({__proto__:null,default:mt},Symbol.toStringTag,{value:"Module"})),xt=({className:t="",style:n={}})=>{const[a,r]=k.useState(!1),[o]=k.useState(Date.now());return k.useEffect(()=>{const e=setTimeout(()=>{r(!0)},1e3);return()=>clearTimeout(e)},[]),e.jsxs("div",{className:t,style:n,children:[e.jsx(lt,{isVisible:!a}),e.jsx("div",{style:{width:"100%",height:"100%",opacity:a?1:0},children:e.jsx(mt,{})})]})},ft=Object.freeze(Object.defineProperty({__proto__:null,default:xt},Symbol.toStringTag,{value:"Module"})),gt=({isVisible:t,onComplete:n})=>{const[a,r]=k.useState(0),[o]=k.useState(Date.now()),[s,i]=k.useState(!1),[l,c]=k.useState(!1),d=k.useRef(null);return k.useEffect(()=>{if(t){const e=setInterval(()=>{const t=Date.now()-o,a=Math.min(t/4100*100,100);r(e=>Math.abs(e-a)>=1||a>=100?a:e),a>=100&&(clearInterval(e),d.current&&(d.current.pause(),d.current.currentTime=0),null==n||n())},100);return()=>clearInterval(e)}r(0)},[t,o]),k.useEffect(()=>{if(d.current&&t){const e=d.current;e.playbackRate=1,e.volume=0;const t=()=>{c(!0),e.play().catch(e=>{i(!0)})},n=e=>{i(!0)},a=()=>{},r=()=>{},o=()=>{},s=()=>{};return e.addEventListener("canplay",t),e.addEventListener("error",n),e.addEventListener("loadstart",a),e.addEventListener("loadeddata",r),e.addEventListener("waiting",o),e.addEventListener("playing",s),e.load(),()=>{e.removeEventListener("canplay",t),e.removeEventListener("error",n),e.removeEventListener("loadstart",a),e.removeEventListener("loadeddata",r),e.removeEventListener("waiting",o),e.removeEventListener("playing",s)}}if(d.current&&!t){const e=d.current;e.pause(),e.currentTime=0,c(!1),i(!1)}},[t]),e.jsx(S,{children:t&&e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:9999,color:"white",fontFamily:"Arial, sans-serif",overflow:"hidden"},children:[e.jsxs("video",{ref:d,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:-2},muted:!0,loop:!0,playsInline:!0,preload:"metadata",crossOrigin:"anonymous",autoPlay:!0,children:[e.jsx("source",{src:"/CONFIGURATOR/videos/video.mp4",type:"video/mp4"}),e.jsx("img",{src:"/CONFIGURATOR/textures/carga.jpg",alt:"Loading background",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})]}),e.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:-1}}),e.jsx(N.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},style:{fontSize:"32px",fontWeight:"bold",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 20px #00FFFF, 0 0 40px #00FFFF, 0 0 60px #00FFFF",position:"relative",zIndex:1},children:"BEATO16"}),e.jsx(N.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeOut"},style:{fontSize:"18px",fontWeight:"bold",marginBottom:"40px",color:"#FFFFFF",textShadow:"0 0 15px #FFFFFF, 0 0 30px #FFFFFF",position:"relative",zIndex:1},children:"Features: Metal body, 16 ARCADE buttons, and 4 assignable knobs."}),e.jsx(N.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},style:{width:"100px",height:"100px",border:"6px solid rgba(0, 255, 255, 0.3)",borderTop:"6px solid #00FFFF",borderRadius:"50%",marginBottom:"40px",boxShadow:"0 0 30px rgba(0, 255, 255, 0.8), 0 0 60px rgba(0, 255, 255, 0.4)",position:"relative",zIndex:1}}),e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},style:{fontSize:"20px",fontWeight:"bold",textAlign:"center",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 15px #00FFFF, 0 0 30px #00FFFF",position:"relative",zIndex:1},children:["Cargando BEATO16... ",Math.round(a),"%"]}),a>=100&&e.jsx(N.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.8},style:{fontSize:"18px",color:"#00FF80",fontWeight:"bold",marginBottom:"30px",textShadow:"0 0 15px #00FF80, 0 0 30px #00FF80",position:"relative",zIndex:1},children:"¡BEATO16 listo para configurar!"}),e.jsx(N.div,{style:{width:"400px",height:"8px",backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:"4px",overflow:"hidden",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.3)",marginBottom:"40px",position:"relative",zIndex:1},children:e.jsx(N.div,{initial:{width:0},animate:{width:`${a}%`},transition:{duration:.1,ease:"linear"},style:{width:"100%",height:"100%",background:"linear-gradient(90deg, #00FFFF, #00CCFF, #00FFFF)",borderRadius:"4px",boxShadow:"0 0 20px rgba(0, 255, 255, 0.8), 0 0 40px rgba(0, 255, 255, 0.4)",backgroundSize:"200% 100%",animation:"shimmer 2s infinite"}})}),e.jsx(N.div,{style:{display:"flex",gap:"12px",marginTop:"20px",position:"relative",zIndex:1},children:[0,1,2].map(t=>e.jsx(N.div,{animate:{scale:[1,1.3,1],opacity:[.4,1,.4]},transition:{duration:2,repeat:1/0,delay:.3*t,ease:"easeInOut"},style:{width:"12px",height:"12px",backgroundColor:"#00FFFF",borderRadius:"50%",boxShadow:"0 0 15px rgba(0, 255, 255, 0.8), 0 0 30px rgba(0, 255, 255, 0.4)"}},t))}),e.jsx("style",{children:"\n            @keyframes shimmer {\n              0% { background-position: -200% 0; }\n              100% { background-position: 200% 0; }\n            }\n          "})]})})},bt=()=>{const t=k.useRef(null),v=k.useRef(null),y=k.useRef(null),j=k.useRef(null),C=k.useRef(null),F=k.useRef(null),E=k.useRef(null),[S,N]=k.useState("normal"),[R,L]=k.useState(null),[z,_]=k.useState(()=>{const e=localStorage.getItem("beato16_chosenColors");if(e)try{return JSON.parse(e)}catch(Jt){}return{type:"configUpdate",chasis:"Gris",buttons:{},knobs:{},teclas:{},faders:{}}}),[T,B]=k.useState({chasis:[],buttons:[],knobs:[],teclas:[],faders:[]}),D=k.useRef(S),[M,A]=k.useState([]),[$,P]=k.useState([]),[H,U]=k.useState([]),[W,G]=k.useState([]),V={chasis:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},buttons:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},knobs:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},teclas:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},faders:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}}},K={normal:{pos:new p(2,1,-.1),target:new p(0,-.5,-.1)},top:{pos:new p(1,1.95,-.3),target:new p(-.35,-1.2,-.3)}},Y=k.useRef(null),X=k.useRef(null),J=k.useCallback(()=>{if(!y.current)return null;try{return y.current.domElement.toDataURL("image/png")}catch(Jt){return null}},[]),Z=k.useCallback(async()=>{const e=J(),t={Verde:"Green",Amarillo:"Yellow",Azul:"Blue",Blanco:"White",Naranja:"Orange",Morado:"Purple",Rojo:"Red",Negro:"Black",Rosa:"Pink",Gris:"Gray"},a=e=>t[e]||e,r=e=>e.replace(/Boton/gi,"Button").replace(/tecla/gi,"Key").replace(/fader/gi,"Fader").replace(/_\d+\b/i,""),o=(e,t)=>e.length?e.map(([e,t])=>`<li style="margin:4px 0"><strong>${r(e)}</strong>: ${a(t)}</li>`).join(""):`<li>${t}</li>`,s=`\n      <div style="display:flex; flex-direction:column; gap:12px; text-align:left;">\n        <div style="display:flex; gap:16px; align-items:flex-start;">\n          ${e?`<img src="${e}" alt="Screenshot" style="width:240px; height:auto; border-radius:8px; border:1px solid #4b5563"/>`:'<div style="width:240px;height:160px;display:flex;align-items:center;justify-content:center;border:1px solid #4b5563;border-radius:8px;">No screenshot</div>'}\n          <div style="flex:1">\n            <p style="margin:0 0 4px 0"><strong>Chassis:</strong> ${a(z.chasis)}</p>\n            <div style="display:grid; grid-template-columns:1fr 1fr; gap:16px; align-items:start;">\n              <div>\n                <p style="margin:0 0 6px 0; color:#FCD34D;"><strong>Buttons:</strong></p>\n                <ul style="margin:0; padding-left:16px; columns:2; column-gap:16px;">${o(Object.entries(z.buttons||{}),"Default")}</ul>\n              </div>\n              <div>\n                <div style="display:flex; flex-direction:column; gap:10px;">\n                  <div>\n                    <p style="margin:0 0 6px 0; color:#FCD34D;"><strong>Knobs:</strong></p>\n                    <ul style="margin:0; padding-left:16px; columns:2; column-gap:16px;">${o(Object.entries(z.knobs||{}),"Default")}</ul>\n                  </div>\n                  <div>\n                    <p style="margin:0 0 6px 0; color:#FCD34D;"><strong>Keys:</strong></p>\n                    <ul style="margin:0; padding-left:16px; columns:2; column-gap:16px;">${o(Object.entries(z.teclas||{}),"Default")}</ul>\n                  </div>\n                  <div>\n                    <p style="margin:0 0 6px 0; color:#FCD34D;"><strong>Faders:</strong></p>\n                    <ul style="margin:0; padding-left:16px; columns:2; column-gap:16px;">${o(Object.entries(z.faders||{}),"Default")}</ul>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>`;if((await I.fire({title:"Configuration Summary",html:s,width:900,background:"#0b1220",color:"#e5e7eb",showCancelButton:!0,showDenyButton:!0,confirmButtonText:"Send by email",denyButtonText:"Download image",cancelButtonText:"Close",focusConfirm:!1,allowOutsideClick:!1,preDeny:async()=>{var e,t;try{const a=null==(t=(e=I).getPopup)?void 0:t.call(e);if(!a)return;const{default:r}=await n(async()=>{const{default:e}=await import("./ui-BPY6V10C.js");return{default:e}},[]),o=(await r(a,{background:"#0b1220"})).toDataURL("image/png"),s=document.createElement("a");s.href=o,s.download="beato16-configuration-summary.png",document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(Jt){}}})).isConfirmed){const e="your-business-email@example.com",t="Beato16 Configuration",n=`\nHello,\n\nHere is my configuration for the Beato16:\n\n- Chassis: ${a(z.chasis)}\n- Buttons: ${Object.entries(z.buttons).map(([e,t])=>`${r(e)}: ${a(t)}`).join(", ")||"Default"}\n- Knobs: ${Object.entries(z.knobs).map(([e,t])=>`${r(e)}: ${a(t)}`).join(", ")||"Default"}\n- Keys: ${Object.entries(z.teclas).map(([e,t])=>`${r(e)}: ${a(t)}`).join(", ")||"Default"}\n- Faders: ${Object.entries(z.faders).map(([e,t])=>`${r(e)}: ${a(t)}`).join(", ")||"Default"}\n\n(Attached is the image downloaded from the configurator)\n`,o=`mailto:${e}?subject=${encodeURIComponent(t)}&body=${encodeURIComponent(n)}`;window.location.href=o}},[z,J]),[q,Q]=k.useState(null);k.useEffect(()=>{(new a).load("public/textures/blackhole.jpg.avif",e=>{e.mapping=r,Q(e)})},[]);const ee=k.useCallback((e,t)=>{const n=new o(16777215,.9);e.add(n);const a=new s(16777215,1.2);a.position.set(5,4,-1),a.castShadow=!0,e.add(a);const r=new s(10079487,1);r.position.set(-8,3,-9),e.add(r);const l=new s(10079487,1);l.position.set(-8,3,15),e.add(l);const c=new i(16777215,.7,.5);c.position.set(0,5,5),e.add(c);const d=new s(16777215,1.2);d.position.set(-5,30,0),d.castShadow=!0,e.add(d)},[]),te=k.useCallback(e=>{const t={chasis:[],buttons:[],knobs:[],teclas:[],faders:[]};let n={type:"configUpdate",chasis:"Gris",buttons:{},knobs:{},teclas:{},faders:{}};try{const e=localStorage.getItem("beato16_chosenColors");if(e){const t=JSON.parse(e);t&&"object"==typeof t&&(n={type:"configUpdate",chasis:t.chasis||"Gris",buttons:t.buttons||{},knobs:t.knobs||{},teclas:t.teclas||{},faders:t.faders||{}})}}catch(Jt){}e.traverse(e=>{var a;if(!(e instanceof l))return;e.castShadow=!0,e.receiveShadow=!0;const r="string"==typeof e.name?e.name.toLowerCase():"";if((r.includes("logo")||r.includes("beato")||r.includes("crearttech")||r.includes("custom midi"))&&e.material&&"map"in e.material&&e.material.map&&(e.material.transparent=!0,e.material.alphaTest=.9),r.includes("cubechasis")){const a=n.chasis&&V.chasis[n.chasis]?n.chasis:"Gris";e.material=new c({color:V.chasis[a].hex,metalness:.8,roughness:.35,clearcoat:.85,clearcoatRoughness:.1}),t.chasis.push(e),n.chasis=a}else if(r.includes("boton")){const a=n.buttons[e.name],r=a&&V.buttons[a]?a:"Negro";e.material=new c({color:V.buttons[r].hex,metalness:.4,roughness:.68,clearcoat:.85,clearcoatRoughness:.08,reflectivity:.3,sheen:.5,sheenColor:1842204}),t.buttons.push(e),n.buttons[e.name]=r}else if(r.includes("aro")||r.includes("fader")&&(r.includes("ring")||r.includes("circle")))e.material=new c({color:0,metalness:0,roughness:.2,clearcoat:.8,clearcoatRoughness:.1,reflectivity:.5,transmission:.3,thickness:.5,ior:1.4,attenuationDistance:1,attenuationColor:16777215,transparent:!0,opacity:.7}),t.buttons.push(e),newChosenColors.buttons[e.name]="Negro";else if(r.includes("knob")){if(null==(a=e.material)?void 0:a.color){const a=e.material;if((a.color.r+a.color.g+a.color.b)/3<.5){const a=n.knobs[e.name],r=a&&V.knobs[a]?a:"Negro";e.material=new d({color:V.knobs[r].hex,metalness:0,roughness:1}),t.knobs.push(e),n.knobs[e.name]=r}else e.material=new d({color:16777215})}}else if(r.includes("tecla")){const a=n.teclas[e.name],r=a&&V.teclas[a]?a:"Negro";e.material=new c({color:V.teclas[r].hex,metalness:.4,roughness:.68,clearcoat:.85,clearcoatRoughness:.08,reflectivity:.3,sheen:.5,sheenColor:1842204}),t.teclas.push(e),n.teclas[e.name]=r}else if(r.includes("fader"))if("fader1_1"===r||"fader2_1"===r||"fader3_1"===r||"fader4_1"===r){const a=n.faders[e.name],r=a&&V.knobs[a]?a:"Negro";e.material=new d({color:V.knobs[r].hex,metalness:0,roughness:1}),t.faders.push(e),n.faders[e.name]=r}else if(e.material){const a=e.material;if(a.color){if((a.color.r+a.color.g+a.color.b)/3<.8){const r=n.faders[e.name],o=r&&V.knobs[r]?r:"Negro";a.color.setHex(parseInt(V.knobs[o].hex.replace("#",""),16)),t.faders.push(e),n.faders[e.name]=o}}}}),B(t),_(n)},[q]),ne=k.useCallback(e=>{const t=(new u).setFromObject(e),n=t.getSize(new p),a=t.getCenter(new p),r=1.8/Math.max(n.x,n.y,n.z);e.scale.set(r,r,r),e.position.copy(a).multiplyScalar(-r),e.position.y-=n.y/2*r},[]),ae=k.useCallback(async()=>{try{const{GLTFLoader:e}=await n(async()=>{const{GLTFLoader:e}=await import("./GLTFLoader-DIUHo4Jg.js");return{GLTFLoader:e}},__vite__mapDeps([4,1,2]));(new e).load("./models/beato16.glb",e=>{var t;const n=e.scene;F.current=n,te(n),ne(n),null==(t=v.current)||t.add(n),E.current||(E.current=n.position.clone());n.traverse(e=>{var t;const n=(null==(t=e.name)?void 0:t.toLowerCase())||"",a=n.includes("aro"),r=n.includes("fader")&&(n.includes("ring")||n.includes("circle"));e.isMesh&&"string"==typeof e.name&&(a||r)&&(e.material&&"color"in e.material&&e.material.color.setHex(1842204),e.material=e.material.clone()),e.isMesh&&"string"==typeof e.name&&n.includes("fader")})},void 0,e=>{})}catch(e){}},[te,ne]);k.useEffect(()=>{if(!t.current)return;const e=new m;e.background=null,v.current=e;const a=new h({antialias:!0,alpha:!0,preserveDrawingBuffer:!0});a.setSize(t.current.clientWidth,t.current.clientHeight),a.setPixelRatio(Math.min(window.devicePixelRatio,2)),a.outputColorSpace=x,a.shadowMap.enabled=!0,a.shadowMap.type=f,y.current=a,t.current.appendChild(a.domElement);const r=new g(45,t.current.clientWidth/t.current.clientHeight,.1,200);let o;r.position.copy(K.normal.pos),j.current=r,n(async()=>{const{OrbitControls:e}=await import("./OrbitControls-DdcQk7R8.js");return{OrbitControls:e}},__vite__mapDeps([5,1,2])).then(({OrbitControls:e})=>{const t=new e(r,a.domElement);t.target.copy(K.normal.target),t.enableDamping=!0,t.minDistance=2,t.maxDistance=5,C.current=t}),ee(e,a),ae();const s=()=>{o=requestAnimationFrame(s),C.current&&C.current.update(),a.render(e,r)};return s(),()=>{o&&cancelAnimationFrame(o),t.current&&a.domElement&&t.current.removeChild(a.domElement),a.dispose()}},[ee,ae]),k.useEffect(()=>{const e=()=>{if(t.current&&j.current&&y.current){const e=t.current.clientWidth,n=t.current.clientHeight;j.current.aspect=e/n,j.current.updateProjectionMatrix(),y.current.setSize(e,n)}};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),k.useEffect(()=>{localStorage.setItem("beato16_currentView",S)},[S]),k.useEffect(()=>{localStorage.setItem("beato16_chosenColors",JSON.stringify(z))},[z]),k.useEffect(()=>{if(T.chasis.length>0){if(z.chasis&&V.chasis[z.chasis]){const e=V.chasis[z.chasis].hex;T.chasis.forEach(t=>{t.material&&"color"in t.material&&t.material.color.setHex(parseInt(e.replace("#",""),16))})}Object.entries(z.buttons).forEach(([e,t])=>{if(V.buttons[t]){const n=V.buttons[t].hex,a=T.buttons.find(t=>t.name===e);a&&a.material&&"color"in a.material&&a.material.color.setHex(parseInt(n.replace("#",""),16))}}),Object.entries(z.knobs).forEach(([e,t])=>{if(V.knobs[t]){const n=V.knobs[t].hex,a=T.knobs.find(t=>t.name===e);a&&a.material&&"color"in a.material&&a.material.color.setHex(parseInt(n.replace("#",""),16))}})}},[T,z]);const re=k.useCallback((e,t=0)=>{var n;e&&(null==(n=e.material)?void 0:n.emissive)&&e.material.emissive.setHex(t)},[]),oe=k.useCallback(e=>{if(!j.current||!y.current)return;if("chasis"===S)return L(null),void A([]);const t=new b,n=new w,a=y.current.domElement.getBoundingClientRect();n.x=(e.clientX-a.left)/a.width*2-1,n.y=-(e.clientY-a.top)/a.height*2+1,t.setFromCamera(n,j.current);let r=[];if("buttons"===S?r=T.buttons:"knobs"===S?r=T.knobs:"teclas"===S?r=T.teclas:"faders"===S?r=T.faders:"normal"===S&&(r=T.buttons),0===r.length)return;const o=t.intersectObjects(r,!1);if("normal"!==S&&[...T.buttons,...T.knobs,...T.teclas,...T.faders].forEach(e=>re(e,0)),o.length>0){const e=o[0].object;if("normal"===S)return;const t=(t,n,a)=>{L(null);const r=n.some(t=>t.uuid===e.uuid)?n.filter(t=>t.uuid!==e.uuid):[...n,e];a.forEach(e=>re(e,0)),r.forEach(e=>re(e,4473924)),t(r)};"buttons"===S?t(A,M,T.buttons):"knobs"===S?t(P,$,T.knobs):"teclas"===S?t(U,H,T.teclas):"faders"===S?t(G,W,T.faders):(L(e),re(e,4473924))}else L(null),A([]),P([]),U([]),G([])},[S,T,re,M,$,H,W]),se=k.useCallback(e=>{var t;if(!F.current)return null;let n=null;const a=null==(t=e.match(/\d+/))?void 0:t[0];return a?(F.current.traverse(e=>{var t;if(e instanceof l&&e.name.toLowerCase().includes("aro")){(null==(t=e.name.match(/\d+/))?void 0:t[0])===a&&(n=e)}}),n):null},[]),ie=k.useCallback(e=>{if(N(e),"chasis"===e&&T.chasis.length>0?L(T.chasis[0]):L(null),"normal"===e&&(R&&re(R,0),[...M,...$,...H,...W].forEach(e=>re(e,0)),A([]),P([]),U([]),G([]),L(null)),!j.current||!C.current)return;let t;"normal"===e?(t=K.normal,C.current.enabled=!0):(t=K.top,C.current.enabled=!1),O.to(j.current.position,{duration:1.2,ease:"power3.inOut",...t.pos}),O.to(C.current.target,{duration:1.2,ease:"power3.inOut",...t.target,onUpdate:()=>C.current.update()})},[T]),le=k.useCallback((e,t)=>{const n=(n,a,r)=>{const o={...z,[a]:{...z[a]}};n.forEach(n=>{n.material.color.set(t.hex),o[a][n.name]=e}),_(o),n.forEach(e=>re(e,0)),r([])};if("chasis"===S)return T.chasis.forEach(e=>e.material.color.set(t.hex)),void _(t=>({...t,chasis:e}));if("buttons"===S&&M.length>0)return n(M,"buttons",A);if("knobs"===S&&$.length>0)return n($,"knobs",P);if("teclas"===S&&H.length>0)return n(H,"teclas",U);if("faders"===S&&W.length>0)return n(W,"faders",G);if(R){R.material.color.set(t.hex);const n=R.name;let a;T.buttons.includes(R)?a="buttons":T.knobs.includes(R)?a="knobs":T.teclas.includes(R)?a="teclas":T.faders.includes(R)&&(a="faders"),a&&_(t=>({...t,[a]:{...t[a],[n]:e}})),re(R,0)}else I.fire({title:"Selecciona una parte",text:"Haz clic en una pieza del controlador para aplicar el color.",imageUrl:"models/logo.png",imageWidth:120,imageHeight:120,background:"#232846",color:"#fff",confirmButtonColor:"#a259ff",confirmButtonText:"Entendido"})},[R,M,$,H,W,z,T,S,se]);k.useEffect(()=>{D.current=S},[S]),k.useEffect(()=>{setTimeout(()=>{j.current&&C.current&&(Y.current=j.current.position.clone(),X.current=C.current.target.clone())},100)},[]);const[ce,de]=k.useState(!1),[ue,pe]=k.useState(()=>window.innerWidth<=768);return k.useEffect(()=>{const e=()=>{de(window.innerWidth>window.innerHeight)},t=()=>{pe(window.innerWidth<=768)};return e(),t(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),window.addEventListener("resize",t),window.addEventListener("orientationchange",t),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e),window.removeEventListener("resize",t),window.removeEventListener("orientationchange",t)}},[]),e.jsxs("div",{children:[!ce&&window.innerWidth<=768&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col items-center justify-center text-white text-center p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mx-auto mb-4 animate-bounce text-cyan-400",children:[e.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),e.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),e.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]})}),e.jsx("h2",{className:"text-2xl font-bold mb-4 text-cyan-400",children:"Rotate your device!"}),e.jsx("p",{className:"text-lg mb-2",children:"to use the configurator"}),e.jsx("p",{className:"text-base opacity-80",children:"Please turn your device to landscape mode"}),e.jsxs("div",{className:"mt-8 flex items-center space-x-2 text-sm opacity-60",children:[e.jsx("div",{className:"w-8 h-5 border-2 border-current rounded-sm"}),e.jsx("span",{children:"→"}),e.jsx("div",{className:"w-5 h-8 border-2 border-current rounded-sm"})]})]}),e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:-1,backgroundImage:"url(/textures/fondo.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}}),e.jsxs("div",{className:"w-full h-screen text-gray-200 overflow-hidden relative",style:{background:"transparent"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none",background:"transparent"}}),e.jsx("div",{className:"fixed top-2 md:top-4 z-50 flex items-center gap-2 md:gap-3",style:{left:"70px"},children:e.jsx("button",{onClick:()=>window.location.href="https://www.crearttech.com/",className:"relative px-3 md:px-5 py-1 md:py-2 rounded-full font-bold text-xs md:text-sm uppercase tracking-wider text-white transition-all duration-300 hover:-translate-y-0.5 bg-gradient-to-r from-cyan-500/20 via-purple-500/20 to-pink-500/20 border border-cyan-500/55",children:e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:[e.jsx("path",{d:"M3 10.5L12 3l9 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M5 9.5V21h14V9.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{children:"Home"})]})})}),e.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 z-10 flex items-center gap-3",children:e.jsx("h1",{className:"text-2xl font-bold leading-none m-0",style:{fontFamily:"Gotham Black, Arial, sans-serif",color:"#fff",textShadow:"0 0 12px #a259ff, 0 0 24px #0ff, 0 0 2px #fff",letterSpacing:"0.04em"},children:"BEATO16"})}),e.jsx("main",{className:"flex w-full h-full",style:{minHeight:"100vh",height:"100vh",position:"relative",zIndex:1,overflow:"hidden",background:"transparent"},children:e.jsx("div",{className:"flex-grow h-full",style:{position:"relative",zIndex:1,background:"transparent"},children:e.jsx("div",{ref:t,className:"w-full h-full transition-all duration-300",onClick:oe,style:{position:"relative",zIndex:1}})})}),e.jsxs("div",{style:{position:"fixed",top:0,width:"normal"===S?"clamp(80px, 20vw, 112px)":"clamp(300px, 35vw, 360px)",height:"100vh",display:"flex",zIndex:100,transition:"all 0.4s ease",right:window.innerWidth<=768?-35:-20},className:"mobile-panel",children:[e.jsx("div",{style:{width:"clamp(60px, 15vw, 112px)",flexShrink:0,paddingTop:"clamp(20px, 5vh, 160px)",position:"relative",zIndex:50},children:e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(4px, 1vw, 6px)"},children:[{id:"normal",icon:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5M12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17M12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z",title:"Full View - See complete MIDI controller"},{id:"chasis",icon:"beato16.png",isImage:!0,title:"Customize Chassis - Change main body color"},{id:"buttons",icon:"M12 1.999c5.524 0 10.002 4.478 10.002 10.002c0 5.523-4.478 10.001-10.002 10.001S1.998 17.524 1.998 12.001C1.998 6.477 6.476 1.999 12 1.999m0 1.5a8.502 8.502 0 1 0 0 17.003A8.502 8.502 0 0 0 12 3.5M11.996 6a5.998 5.998 0 1 1 0 11.996a5.998 5.998 0 0 1 0-11.996",title:"Customize Buttons - Change trigger pad colors"},{id:"knobs",icon:"M9.42 4.074a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56M11.554 8.8a.5.5 0 0 1 0 .707l-1.78 1.78a.5.5 0 1 1-.708-.707l1.78-1.78a.5.5 0 0 1 .708 0 M9.42 15.444c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.03 1.32-3.19 1.32m0-1.1a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82M6.757 5.2a.56.56 0 1 0-.965.567l.465.809l.005.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm5.315.012a.55.55 0 0 1 .761-.206c.277.152.36.5.203.764l-.458.797a.56.56 0 0 1-.478.277a.564.564 0 0 1-.487-.834zm7.598 5.722a.5.5 0 0 1 .5-.5h2.52a.5.5 0 1 1 0 1h-2.52a.5.5 0 0 1-.5-.5 M22.69 15.454c2.49 0 4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52s2.03 4.52 4.52 4.52m0-1.11a3.41 3.41 0 1 1 0-6.82a3.41 3.41 0 0 1 0 6.82m-.56-9.7c0-.308.252-.56.56-.56s.56.252.56.56v.945a.566.566 0 0 1-.56.535a.56.56 0 0 1-.56-.56zm-2.103.566a.557.557 0 0 0-.763-.202a.566.566 0 0 0-.204.753l.468.815l.004.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm6.086-.204a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759c.1.067.217.078.282.078a.6.6 0 0 0 .478-.262l.005-.006l.463-.806a.55.55 0 0 0-.203-.764M11.93 22.636H9.42a.5.5 0 0 0 0 1h2.51a.5.5 0 1 0 0-1 M4.9 23.136c0 2.49 2.03 4.52 4.52 4.52s4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52m7.93 0a3.41 3.41 0 1 1-6.82 0a3.41 3.41 0 0 1 6.82 0m-3.41-6.86a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56m-3.418.93a.566.566 0 0 1 .755.206l.464.807c.137.258.06.6-.205.753a.53.53 0 0 1-.276.074a.58.58 0 0 1-.478-.261l-.005-.007l-.468-.814a.566.566 0 0 1 .207-.755zm6.08.209a.55.55 0 0 1 .761-.206c.277.151.36.499.203.764l-.462.802a.567.567 0 0 1-.766.194a.55.55 0 0 1-.194-.76zm8.475 3.588a.5.5 0 0 1 .707 0l1.78 1.78a.5.5 0 0 1-.707.707l-1.78-1.78a.5.5 0 0 1 0-.707 M22.69 27.656c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.04 1.32-3.19 1.32m0-1.11a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82 M22.13 16.836c0-.308.252-.56.56-.56s.56.252.56.56v.945a.57.57 0 0 1-.56.545a.56.56 0 0 1-.56-.56zm-2.103.576a.566.566 0 0 0-.755-.206l-.006.003a.565.565 0 0 0-.206.755l.468.814l.004.007a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.074a.566.566 0 0 0 .205-.753zm6.086-.203a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759a.5.5 0 0 0 .282.077a.6.6 0 0 0 .478-.261l.005-.007l.463-.805a.55.55 0 0 0-.203-.764 M1 5.75A4.75 4.75 0 0 1 5.75 1h20.52a4.75 4.75 0 0 1 4.75 4.75v20.48a4.75 4.75 0 0 1-4.75 4.75H5.75A4.75 4.75 0 0 1 1 26.23zM5.75 3A2.75 2.75 0 0 0 3 5.75v20.48a2.75 2.75 0 0 0 2.75 2.75h20.52a2.75 2.75 0 0 0 2.75-2.75V5.75A2.75 2.75 0 0 0 26.27 3z",title:"Customize Knobs - Change rotary control colors"},{id:"teclas",icon:"M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6zm3-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H6zm2 2h8v4H8V8z",title:"Customize Keys - Change piano key colors"},{id:"faders",icon:"fader.png",isImage:!0,title:"Customize Faders - Change slider control colors"}].map(t=>e.jsx("div",{className:"relative group",children:e.jsx("button",{onClick:()=>ie(t.id),style:{width:"clamp(40px, 10vw, 70px)",height:"clamp(40px, 10vw, 70px)",padding:"clamp(4px, 1vw, 8px)",aspectRatio:"1 / 1",border:"2px solid #00FFFF",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",zIndex:100,transition:"all 0.3s ease",color:"white",cursor:"pointer",background:S===t.id?"linear-gradient(to bottom right, #00FFFF, #0080FF)":"linear-gradient(to bottom right, #000000, #1a1a1a)",boxShadow:S===t.id?"0 10px 15px -3px rgba(0, 0, 0, 0.1)":"none"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(to bottom right, #00FFFF, #0080FF)",e.currentTarget.style.boxShadow="0 10px 15px -3px rgba(0, 0, 0, 0.1)";const n=document.createElement("div");n.className="custom-tooltip",n.textContent=t.title,n.style.cssText=`\n                        position: fixed;\n                        left: ${e.clientX-20}px;\n                        top: ${e.clientY-20}px;\n                        transform: translateX(-100%);\n                        background: #8503adcc;\n                        color: white;\n                        padding: 12px 16px;\n                        border-radius: 8px;\n                        font-size: 14px;\n                        font-weight: bold;\n                        white-space: nowrap;\n                        z-index: 999999;\n                        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n                        border: 2px solid #22d3ee;\n                        pointer-events: none;\n                      `,n.id="temp-tooltip",document.body.appendChild(n)},onMouseLeave:e=>{S!==t.id&&(e.currentTarget.style.background="linear-gradient(to bottom right, #000000, #1a1a1a)",e.currentTarget.style.boxShadow="none");const n=document.getElementById("temp-tooltip");n&&n.remove()},children:t.isImage?e.jsx("img",{src:`textures/${t.icon}`,alt:"Menu icon",style:{width:"clamp(20px, 5vw, 40px)",height:"clamp(20px, 5vw, 40px)",objectFit:"contain",margin:"auto",pointerEvents:"none",filter:"faders"===t.id?"brightness(1.5) contrast(1.3) saturate(1.2) drop-shadow(0 0 6px rgba(0, 255, 255, 0.5))":"none",backgroundColor:"faders"===t.id?"rgba(0, 0, 0, 0.1)":"transparent"},onError:e=>{}}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"chasis"===t.id||"knobs"===t.id?"0 0 32 32":(t.id,"0 0 24 24"),style:{width:"clamp(20px, 5vw, 40px)",height:"clamp(20px, 5vw, 40px)",fill:"white",color:"white",margin:"auto",pointerEvents:"none"},fill:"#fff",children:e.jsx("path",{d:t.icon})})})},t.id))})}),e.jsxs("div",{style:{flex:1,padding:"normal"===S?"clamp(4px, 1vw, 8px)":"clamp(12px, 2vw, 16px)",display:"flex",flexDirection:"column",background:"normal"===S?"transparent":"rgba(17, 24, 39, 0.65)",borderLeft:"normal"===S?"none":"1px solid #4b5563",backdropFilter:"normal"===S?void 0:"blur(6px)",overflowY:"normal"===S?"visible":"auto"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",paddingBottom:"clamp(12px, 3vw, 20px)",borderBottom:"1px solid #4b5563",paddingLeft:0,justifyContent:"center",gap:"normal"===S?0:"clamp(4px, 1vw, 8px)",minHeight:"normal"===S?"clamp(40px, 10vw, 48px)":"auto"},children:e.jsx("img",{src:"models/logo.png",alt:"Logo",style:{height:"normal"===S?"clamp(20px, 5vw, 24px)":"clamp(28px, 7vw, 32px)",width:"auto",filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}})}),"normal"!==S&&e.jsxs("div",{style:{marginTop:"clamp(12px, 2.5vw, 20px)"},className:"animate-fadeIn",children:[e.jsx("p",{style:{fontWeight:900,fontSize:"clamp(12px, 3vw, 16px)",letterSpacing:"0.05em",textTransform:"uppercase",margin:"0 0 clamp(10px, 2vw, 14px) 0",color:"#e5e7eb",textAlign:"left"},className:"animate-fadeIn",children:(()=>{switch(S){case"chasis":return"CHOOSE THE CHASSIS COLOR";case"buttons":return"CUSTOMIZE THE BUTTONS";case"knobs":return"CHOOSE FOR THE KNOBS";case"teclas":return"CUSTOMIZE THE KEYS";case"faders":return"CUSTOMIZE THE FADERS";default:return"CHOOSE A COLOR"}})()}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",rowGap:"5px",columnGap:"0px",padding:0,justifyItems:"start",marginLeft:ue?"-24px":"35px",transform:ue?"translateX(-36px)":"none",transition:"transform 150ms ease"},className:"animate-scaleIn",children:Object.entries(V[S]||{}).map(([t,n],a)=>e.jsx("div",{style:{width:"clamp(30px, 7vw, 44px)",height:"clamp(30px, 7vw, 44px)",borderRadius:"50%",cursor:"pointer",border:"1px solid #a259ff",boxShadow:"0 0 6px 1px rgba(162, 89, 255, 0.33)",transition:"transform 0.15s ease, margin-left 0.15s ease",backgroundColor:n.hex,animationDelay:40*a+"ms",marginLeft:"0px"},title:t,onClick:()=>le(t,n),onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.07)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)"},className:"animate-fadeInUp"},t))})]})]})]})]}),"normal"===S&&e.jsx("button",{onClick:Z,className:"fixed bottom-10 left-1/2 transform -translate-x-1/2 z-50 px-6 py-3 text-lg font-bold uppercase tracking-wide text-black bg-purple-400 border-none rounded cursor-pointer transition-all duración-200 shadow-lg hover:bg-yellow-200 hover:scale-105 hover:shadow-xl shadow-[0_0_8px_2px_#a259ff80,0_0_16px_4px_#0ff5]",children:"Finish and Send Configuration"})]})},wt=Object.freeze(Object.defineProperty({__proto__:null,default:bt},Symbol.toStringTag,{value:"Module"})),vt=({className:t="",style:n={}})=>{const[a,r]=k.useState(!1),[o]=k.useState(Date.now());return k.useEffect(()=>{const e=setTimeout(()=>{r(!0)},4100);return()=>clearTimeout(e)},[]),e.jsxs("div",{className:t,style:n,children:[e.jsx(gt,{isVisible:!a}),e.jsx("div",{style:{width:"100%",height:"100%",opacity:a?1:0},children:e.jsx(bt,{})})]})},yt=Object.freeze(Object.defineProperty({__proto__:null,default:vt},Symbol.toStringTag,{value:"Module"})),jt=({isVisible:t,onComplete:n})=>{const[a,r]=k.useState(0),[o]=k.useState(Date.now()),[s,i]=k.useState(!1),[l,c]=k.useState(!1),d=k.useRef(null);return k.useEffect(()=>{if(t){const e=setInterval(()=>{const t=Date.now()-o,a=Math.min(t/4100*100,100);r(e=>Math.abs(e-a)>=1||a>=100?a:e),a>=100&&(clearInterval(e),d.current&&(d.current.pause(),d.current.currentTime=0),null==n||n())},100);return()=>clearInterval(e)}r(0)},[t,o]),k.useEffect(()=>{if(d.current&&t){const e=d.current;e.playbackRate=1,e.volume=0;const t=()=>{c(!0),e.play().catch(e=>{i(!0)})},n=e=>{i(!0)},a=()=>{},r=()=>{},o=()=>{},s=()=>{};return e.addEventListener("canplay",t),e.addEventListener("error",n),e.addEventListener("loadstart",a),e.addEventListener("loadeddata",r),e.addEventListener("waiting",o),e.addEventListener("playing",s),e.load(),()=>{e.removeEventListener("canplay",t),e.removeEventListener("error",n),e.removeEventListener("loadstart",a),e.removeEventListener("loadeddata",r),e.removeEventListener("waiting",o),e.removeEventListener("playing",s)}}if(d.current&&!t){const e=d.current;e.pause(),e.currentTime=0,c(!1),i(!1)}},[t]),e.jsx(S,{children:t&&e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:9999,color:"white",fontFamily:"Arial, sans-serif",overflow:"hidden"},children:[e.jsxs("video",{ref:d,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:-2},muted:!0,loop:!0,playsInline:!0,preload:"metadata",crossOrigin:"anonymous",autoPlay:!0,children:[e.jsx("source",{src:"/CONFIGURATOR/videos/video.mp4",type:"video/mp4"}),e.jsx("img",{src:"/CONFIGURATOR/textures/carga.jpg",alt:"Loading background",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})]}),e.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:-1}}),e.jsx(N.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},style:{fontSize:"32px",fontWeight:"bold",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 20px #00FFFF, 0 0 40px #00FFFF, 0 0 60px #00FFFF",position:"relative",zIndex:1},children:"KNOBO"}),e.jsx(N.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeOut"},style:{fontSize:"18px",fontWeight:"bold",marginBottom:"40px",color:"#FFFFFF",textShadow:"0 0 15px #FFFFFF, 0 0 30px #FFFFFF",position:"relative",zIndex:1},children:"Features: Professional knob controller with 4 assignable knobs and LED feedback."}),e.jsx(N.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},style:{width:"100px",height:"100px",border:"6px solid rgba(0, 255, 255, 0.3)",borderTop:"6px solid #00FFFF",borderRadius:"50%",marginBottom:"40px",boxShadow:"0 0 30px rgba(0, 255, 255, 0.8), 0 0 60px rgba(0, 255, 255, 0.4)",position:"relative",zIndex:1}}),e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},style:{fontSize:"20px",fontWeight:"bold",textAlign:"center",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 15px #00FFFF, 0 0 30px #00FFFF",position:"relative",zIndex:1},children:["Cargando KNOBO... ",Math.round(a),"%"]}),a>=100&&e.jsx(N.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.8},style:{fontSize:"18px",color:"#00FF80",fontWeight:"bold",marginBottom:"30px",textShadow:"0 0 15px #00FF80, 0 0 30px #00FF80",position:"relative",zIndex:1},children:"¡KNOBO listo para configurar!"}),e.jsx(N.div,{style:{width:"400px",height:"8px",backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:"4px",overflow:"hidden",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.3)",marginBottom:"40px",position:"relative",zIndex:1},children:e.jsx(N.div,{initial:{width:0},animate:{width:`${a}%`},transition:{duration:.1,ease:"linear"},style:{width:"100%",height:"100%",background:"linear-gradient(90deg, #00FFFF, #00CCFF, #00FFFF)",borderRadius:"4px",boxShadow:"0 0 20px rgba(0, 255, 255, 0.8), 0 0 40px rgba(0, 255, 255, 0.4)",backgroundSize:"200% 100%",animation:"shimmer 2s infinite"}})}),e.jsx(N.div,{style:{display:"flex",gap:"12px",marginTop:"20px",position:"relative",zIndex:1},children:[0,1,2].map(t=>e.jsx(N.div,{animate:{scale:[1,1.3,1],opacity:[.4,1,.4]},transition:{duration:2,repeat:1/0,delay:.3*t,ease:"easeInOut"},style:{width:"12px",height:"12px",backgroundColor:"#00FFFF",borderRadius:"50%",boxShadow:"0 0 15px rgba(0, 255, 255, 0.8), 0 0 30px rgba(0, 255, 255, 0.4)"}},t))}),e.jsx("style",{children:"\n            @keyframes shimmer {\n              0% { background-position: -200% 0; }\n              100% { background-position: 200% 0; }\n            }\n          "})]})})},Ct="4Vj8eK4rloUd272L48hsrarnUA",Ft="508029",kt="https://example.com/payu/confirmation",Et="https://example.com/payu/response",St="https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/";function Nt(e){const t={USD:{accountId:"512321",amount:"200.00",symbol:"$",language:"en",url:St},COP:{accountId:"512322",amount:"800000",symbol:"$",language:"es",url:St}};return t[e]||t.USD}function Ot(e){const t={USD:{accountId:"512321",amount:"100.00",symbol:"$",language:"en",url:St},COP:{accountId:"512322",amount:"400000",symbol:"$",language:"es",url:St}};return t[e]||t.USD}const It=({onProductChange:t})=>{const[v,y]=k.useState(""),[j,C]=k.useState(""),[F,E]=k.useState(()=>{const e=navigator.userAgent.toLowerCase();return/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/.test(e)&&window.innerWidth<=768}),[S,N]=k.useState(!1);k.useEffect(()=>{const e=()=>{N(window.innerWidth>window.innerHeight)};return e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]);const L=k.useRef(null),_=k.useRef(null),T=k.useRef(null),B=k.useRef(null),D=k.useRef(null),M=k.useRef(null),A=k.useRef(null),[$,P]=k.useState("normal"),[H,U]=k.useState(null),[W,G]=k.useState(()=>{const e=localStorage.getItem("knobo_chosenColors");if(e)try{return JSON.parse(e)}catch(Jt){}return{type:"configUpdate",chasis:"Gris",buttons:{},knobs:{}}}),[V,K]=k.useState({chasis:[],buttons:[],knobs:[]}),[Y,X]=k.useState(!1),[J,Z]=k.useState(null),[q,Q]=k.useState(!1),ee=k.useRef($),[te,ne]=k.useState([]),[ae,re]=k.useState([]),oe={chasis:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},buttons:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},knobs:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}}},se={normal:{pos:new p(2,1,-.1),target:new p(0,-.5,-.1)},top:{pos:new p(1,1.65,-.4),target:new p(-.35,-.9,-.4)}},ie=k.useRef(null),le=k.useRef(null);k.useCallback(()=>{const e={productId:"3d58a487-8b74-2a0b-7e04-43fca04e5333",quantity:1,options:{choices:{"Tipo de Configuración":"Paquete Pro"},customTextFields:[{title:"Especificaciones",value:`Chasis: ${W.chasis}, Botones: ${Object.values(W.buttons).join(", ")}, Knobs: ${Object.values(W.knobs).join(", ")}`}]}};window.parent&&window.parent.postMessage(e,"*"),X(!1),Q(!0)},[W]);const ce=k.useCallback(()=>{window.parent&&window.parent.postMessage(W,"*")},[W]);k.useCallback(()=>{if(!T.current)return null;try{return T.current.domElement.toDataURL("image/png")}catch(Jt){return null}},[]);const de=k.useCallback(()=>{if(!(T.current&&B.current&&D.current&&_.current))return null;const e=T.current,t=B.current,n=D.current,a=t.position.clone(),r=n.target.clone(),o=n.enabled;t.position.copy(se.normal.pos),n.target.copy(se.normal.target),n.enabled=!1,n.update(),e.render(_.current,t);let s=null;try{s=e.domElement.toDataURL("image/png")}catch(Jt){}return t.position.copy(a),n.target.copy(r),n.enabled=o,n.update(),e.render(_.current,t),s},[]),ue=k.useCallback(async()=>{const e=de();e&&Z(e),Object.entries(W.buttons||{});const t=Object.entries(W.knobs||{}),n={Verde:"Green",Amarillo:"Yellow",Azul:"Blue",Blanco:"White",Naranja:"Orange",Morado:"Purple",Rojo:"Red",Negro:"Black",Rosa:"Pink",Gris:"Gray"},a=e=>n[e]||e,r=e=>(e=>e.replace(/Boton/gi,"Button"))(e).replace(/_\d+\b/i,""),o=`\n      <div style="display:flex; flex-direction:column; gap:12px; text-align:left;">\n        <div style="display:flex; gap:16px; align-items:flex-start;">\n          ${e?`<img src="${e}" alt="Screenshot" style="width:260px; height:auto; border-radius:8px; border:1px solid #4b5563"/>`:'<div style="width:260px;height:160px;display:flex;align-items:center;justify-content:center;border:1px solid #4b5563;border-radius:8px;">No screenshot</div>'}\n          <div style="flex:1">\n            <p style="margin:0 0 6px 0"><strong style="color:#FCD34D">Chassis:</strong> ${a(W.chasis)}</p>\n            <div>\n              <p style="margin:8px 0 6px 0; color:#FCD34D;"><strong>Knobs:</strong></p>\n              <ul style="margin:0; padding-left:16px; columns:2; column-gap:16px;">${s=t,i="Default",s.length?s.map(([e,t])=>`<li style="margin:4px 0"><strong>${r(e)}</strong>: ${a(t)}</li>`).join(""):`<li>${i}</li>`}</ul>\n            </div>\n          </div>\n        </div>\n      </div>`;var s,i;if((await I.fire({title:"Configuration Summary",html:o,width:860,background:"#0b1220",color:"#e5e7eb",showCancelButton:!0,showDenyButton:!0,confirmButtonText:"Send by email",denyButtonText:"Download image",cancelButtonText:"Close",focusConfirm:!1,allowOutsideClick:!1,preDeny:async()=>{var e,t;try{const n=null==(t=(e=I).getPopup)?void 0:t.call(e);if(!n)return;const a=(await R(n,{background:"#0b1220"})).toDataURL("image/png"),r=document.createElement("a");r.href=a,r.download="knobo-configuration-summary.png",document.body.appendChild(r),r.click(),document.body.removeChild(r)}catch(Jt){}},customClass:{popup:"swal2-border-radius",confirmButton:"swal2-confirm-custom",denyButton:"swal2-deny-custom",cancelButton:"swal2-cancel-custom"}})).isConfirmed){const e="your-business-email@example.com",t="Knobo Configuration",n=`\nHello,\n\nHere is my configuration for the Knobo:\n\n- Chassis: ${a(W.chasis)}\n- Knobs: ${Object.entries(W.knobs).map(([e,t])=>`${r(e)}: ${a(t)}`).join(", ")||"Default"}\n\n(Attached is the image downloaded from the configurator)\n`,o=`mailto:${e}?subject=${encodeURIComponent(t)}&body=${encodeURIComponent(n)}`;window.location.href=o}},[W,de]),[pe,me]=k.useState(null);k.useEffect(()=>{(new a).load("public/textures/blackhole.jpg.avif",e=>{e.mapping=r,me(e)})},[]);const he=k.useCallback((e,t)=>{const n=new o(16777215,.9);e.add(n);const a=new s(16777215,1.2);a.position.set(5,4,-1),a.castShadow=!0,a.shadow.mapSize.width=4096,a.shadow.mapSize.height=4096,a.shadow.camera.near=.5,a.shadow.camera.far=50,a.shadow.normalBias=.02,e.add(a);const r=new s(10079487,1);r.position.set(-8,3,-9),e.add(r);const l=new s(10079487,1);l.position.set(-8,3,15),e.add(l);const c=new i(16777215,.7,.5);c.position.set(0,5,5),e.add(c);const d=new s(16777215,1.2);d.position.set(-5,30,0),d.castShadow=!0,d.shadow.mapSize.width=2048,d.shadow.mapSize.height=2048,d.shadow.camera.near=.5,d.shadow.camera.far=50,d.shadow.normalBias=.02,e.add(d)},[]),xe=k.useCallback(e=>{const t={chasis:[],buttons:[],knobs:[]};let n={type:"configUpdate",chasis:"Azul",buttons:{},knobs:{}};try{const e=localStorage.getItem("knobo_chosenColors");if(e){const t=JSON.parse(e);t&&"object"==typeof t&&(n={type:"configUpdate",chasis:t.chasis||n.chasis,buttons:t.buttons||{},knobs:t.knobs||{}})}}catch(Jt){}e.traverse(e=>{var a;if(!(e instanceof l))return;e.castShadow=!0,e.receiveShadow=!0;const r="string"==typeof e.name?e.name.toLowerCase():"";if((r.includes("logo")||r.includes("beato")||r.includes("knobo02")||r.includes("knobo-02")||r.includes("crearttech")||r.includes("custom midi"))&&e.material&&"map"in e.material&&e.material.map&&(e.material.transparent=!0,e.material.alphaTest=.9),r.includes("cubechasis")){const a=n.chasis&&oe.chasis[n.chasis]?n.chasis:"Gris";e.material=new c({color:oe.chasis[a].hex,metalness:.8,roughness:.35,clearcoat:.85,clearcoatRoughness:.1}),t.chasis.push(e),n.chasis=a}else if(r.includes("boton")){const a=n.buttons[e.name],r=a&&oe.buttons[a]?a:"Negro";e.material=new c({color:oe.buttons[r].hex,metalness:.4,roughness:.68,clearcoat:.85,clearcoatRoughness:.08,reflectivity:.3,sheen:.5,sheenColor:1842204}),t.buttons.push(e),n.buttons[e.name]=r}else if(r.includes("aro"))e.material=new c({color:0,metalness:0,roughness:.2,clearcoat:.8,clearcoatRoughness:.1,reflectivity:.5,transmission:.3,thickness:.5,ior:1.4,attenuationDistance:1,attenuationColor:16777215,transparent:!0,opacity:.7}),t.buttons.push(e),newChosenColors.buttons[e.name]="Negro";else if(r.includes("knob")&&!r.includes("knobo-02")&&(null==(a=e.material)?void 0:a.color)){const a=e.material;if((a.color.r+a.color.g+a.color.b)/3<.5){const a=n.knobs[e.name],r=a&&oe.knobs[a]?a:"Negro";e.material=new d({color:oe.knobs[r].hex,metalness:0,roughness:1}),t.knobs.push(e),n.knobs[e.name]=r}else e.material=new d({color:16777215})}}),K(t),G(n)},[pe]),fe=k.useCallback(e=>{const t=(new u).setFromObject(e),n=t.getSize(new p),a=t.getCenter(new p),r=1.8/Math.max(n.x,n.y,n.z);e.scale.set(r,r,r),e.position.copy(a).multiplyScalar(-r),e.position.y-=n.y/2*r},[]),ge=k.useCallback(async()=>{try{const{GLTFLoader:e}=await n(async()=>{const{GLTFLoader:e}=await import("./GLTFLoader-DIUHo4Jg.js");return{GLTFLoader:e}},__vite__mapDeps([4,1,2]));(new e).load("./models/knobo2.glb",e=>{var t;const n=e.scene;M.current=n,xe(n),fe(n),null==(t=_.current)||t.add(n),A.current||(A.current=n.position.clone());n.traverse(e=>{e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&e.material&&"color"in e.material&&e.material.color.setHex(1842204),e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&(e.material=e.material.clone())})},void 0,e=>{})}catch(e){}},[xe,fe]);k.useEffect(()=>{if(!L.current)return;const e=new m;e.background=null,_.current=e;const t=new h({antialias:!0,alpha:!0,preserveDrawingBuffer:!0});t.setSize(L.current.clientWidth,L.current.clientHeight),t.setPixelRatio(Math.min(window.devicePixelRatio,2)),t.outputColorSpace=x,t.shadowMap.enabled=!0,t.shadowMap.type=f,T.current=t,L.current.appendChild(t.domElement);const a=new g(45,L.current.clientWidth/L.current.clientHeight,.1,200);let r;a.position.copy(se.normal.pos),B.current=a,n(async()=>{const{OrbitControls:e}=await import("./OrbitControls-DdcQk7R8.js");return{OrbitControls:e}},__vite__mapDeps([5,1,2])).then(({OrbitControls:e})=>{const n=new e(a,t.domElement);n.target.copy(se.normal.target),n.enableDamping=!0,n.minDistance=2,n.maxDistance=5,D.current=n}),he(e,t),ge();const o=()=>{r=requestAnimationFrame(o),D.current&&D.current.update(),t.render(e,a)};return o(),()=>{r&&cancelAnimationFrame(r),L.current&&t.domElement&&L.current.removeChild(t.domElement),t.dispose()}},[he,ge]),k.useEffect(()=>{const e=()=>{if(L.current&&B.current&&T.current){const e=L.current.clientWidth,t=L.current.clientHeight;B.current.aspect=e/t,B.current.updateProjectionMatrix(),T.current.setSize(e,t)}};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),k.useEffect(()=>{const e=()=>{const e=navigator.userAgent.toLowerCase(),t=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/.test(e);E(t&&window.innerWidth<=768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),k.useEffect(()=>{localStorage.setItem("knobo_currentView",$)},[$]),k.useEffect(()=>{localStorage.setItem("knobo_chosenColors",JSON.stringify(W))},[W]),k.useEffect(()=>{if(V.chasis.length>0||V.buttons.length>0||V.knobs.length>0){if(W.chasis&&oe.chasis[W.chasis]){const e=oe.chasis[W.chasis].hex;V.chasis.forEach(t=>{t.material&&"color"in t.material&&t.material.color.setHex(parseInt(e.replace("#",""),16))})}Object.entries(W.buttons).forEach(([e,t])=>{if(oe.buttons[t]){const n=oe.buttons[t].hex,a=V.buttons.find(t=>t.name===e);a&&a.material&&"color"in a.material&&a.material.color.setHex(parseInt(n.replace("#",""),16))}}),Object.entries(W.knobs).forEach(([e,t])=>{if(oe.knobs[t]){const n=oe.knobs[t].hex,a=V.knobs.find(t=>t.name===e);a&&a.material&&"color"in a.material&&a.material.color.setHex(parseInt(n.replace("#",""),16))}})}},[V,W]),k.useCallback(()=>{localStorage.removeItem("knobo_currentView"),localStorage.removeItem("knobo_chosenColors"),P("normal"),G({type:"configUpdate",chasis:"Gris",buttons:{},knobs:{}}),ne([]),re([]),U(null),I.fire({title:"Configuración reseteada",text:"Todas las configuraciones han sido restauradas a los valores por defecto",icon:"success",confirmButtonText:"OK"})},[]);const be=k.useCallback((e,t=0)=>{var n;e&&(null==(n=e.material)?void 0:n.emissive)&&e.material.emissive.setHex(t)},[]),we=k.useCallback(e=>{var t;if(!B.current||!T.current)return;if("chasis"===$)return U(null),void ne([]);const n=new b,a=new w,r=T.current.domElement.getBoundingClientRect();a.x=(e.clientX-r.left)/r.width*2-1,a.y=-(e.clientY-r.top)/r.height*2+1,n.setFromCamera(a,B.current);let o=[];if("buttons"===$?o=V.buttons:"knobs"===$?o=V.knobs:"normal"===$&&(o=V.buttons),0===o.length)return;const s=n.intersectObjects(o,!1);if(s.length>0){const e=s[0].object;if("normal"===$)return;if("buttons"===$){let n=e;if(e.name.toLowerCase().includes("aro")){const a=parseInt((null==(t=e.name.match(/\d+/))?void 0:t[0])||"1",10),r=V.buttons.find(e=>e.name.toLowerCase().includes("boton")&&e.name.includes(a.toString()));if(!r)return;n=r}U(null),ne(e=>{const t=e.includes(n)?e.filter(e=>e!==n):[...e,n];return V.buttons.forEach(e=>be(e,0)),t.forEach(e=>be(e,4473924)),t})}else"knobs"===$?(U(null),re(t=>{const n=t.includes(e)?t.filter(t=>t!==e):[...t,e];return V.knobs.forEach(e=>be(e,0)),n.forEach(e=>be(e,4473924)),n})):(ne([]),U(e),be(e,4473924))}else U(null),ne([]),re([])},[$,V,H,be,te]),ve=k.useCallback(e=>{var t;if(!M.current)return null;let n=null;const a=null==(t=e.match(/\d+/))?void 0:t[0];return a?(M.current.traverse(e=>{var t;if(e instanceof l&&e.name.toLowerCase().includes("aro")){(null==(t=e.name.match(/\d+/))?void 0:t[0])===a&&(n=e)}}),n):null},[]),ye=k.useCallback(e=>{if(P(e),"chasis"===e&&V.chasis.length>0?U(V.chasis[0]):U(null),"normal"===e&&(H&&be(H,0),te.forEach(e=>be(e,0)),ae.forEach(e=>be(e,0)),ne([]),re([]),U(null)),!B.current||!D.current)return;let t;"normal"===e?(t=se.normal,D.current.enabled=!0):(t=se.top,D.current.enabled=!1),O.to(B.current.position,{duration:1.2,ease:"power3.inOut",...t.pos}),O.to(D.current.target,{duration:1.2,ease:"power3.inOut",...t.target,onUpdate:()=>D.current.update()})},[V,H,te,ae,be]),je=k.useCallback((e,t)=>{if("chasis"===$)return V.chasis.forEach(e=>{e.material.color.set(t.hex)}),void G(t=>({...t,chasis:e}));if("buttons"===$&&te.length>0){const n={...W,buttons:{...W.buttons}};return te.forEach(a=>{a.material.color.set(t.hex),n.buttons[a.name]=e;const r=ve(a.name);r&&r.material&&r.material.color.set(t.hex)}),G(n),te.forEach(e=>be(e,0)),void ne([])}if("knobs"===$&&ae.length>0){const n={...W,knobs:{...W.knobs}};return ae.forEach(a=>{a.material.color.set(t.hex),n.knobs[a.name]=e}),G(n),ae.forEach(e=>be(e,0)),void re([])}if(!H)return void I.fire({title:"Selecciona una parte",text:"Haz clic en una pieza del controlador para aplicar el color.",imageUrl:"models/logo.png",imageWidth:120,imageHeight:120,background:"#232846",color:"#fff",confirmButtonColor:"#a259ff",confirmButtonText:"Entendido"});H.material.color.set(t.hex);const n={...W},a=H.name;if(V.buttons.includes(H)){if(n.buttons[a]=e,a.toLowerCase().includes("boton")){const e=ve(a);e&&e.material&&e.material.color.set(t.hex)}be(H,0)}else V.knobs.includes(H)&&(n.knobs[a]=e);G(n)},[H,te,W,V,$,ve,ae]);k.useCallback(()=>{if(!T.current||!_.current||!B.current)return;const e=B.current.position.clone(),t=D.current?D.current.target.clone():null,n=B.current.fov,a=se.normal.pos.clone(),r=se.normal.target.clone();B.current.position.copy(a),B.current.fov=35,B.current.updateProjectionMatrix(),D.current&&(D.current.target.copy(r),D.current.update()),setTimeout(()=>{T.current.render(_.current,B.current);const a=T.current.domElement.toDataURL("image/png");Z(a),B.current.position.copy(e),B.current.fov=n,B.current.updateProjectionMatrix(),D.current&&t&&(D.current.target.copy(t),D.current.update()),X(!0)},50)},[T,_,B,D,se,Z,X]);k.useEffect(()=>{ce()},[ce]),k.useEffect(()=>{ee.current=$},[$]),k.useEffect(()=>{setTimeout(()=>{B.current&&D.current&&(ie.current=B.current.position.clone(),le.current=D.current.target.clone())},100)},[]);const[Ce,Fe]=k.useState("USD"),[ke,Ee]=k.useState({referenceCode:`knobo_${Date.now()}`,amount:"100.00",currency:"USD",signature:"",description:"Knobo Configurator",buyerEmail:"customer@email.com"});k.useEffect(()=>{const e=Ot(Ce);Ee(t=>({...t,amount:e.amount,currency:Ce,description:`Knobo Configurator - ${Ce} ${e.symbol}${e.amount}`}))},[Ce]),k.useEffect(()=>{if(q||Y){const e=`knobo-${Date.now()}`;Ee(t=>({...t,referenceCode:e}))}},[q,Y]);const[Se,Ne]=k.useState([]);return e.jsxs("div",{children:[!S&&window.innerWidth<=768&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col items-center justify-center text-white text-center p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mx-auto mb-4 animate-bounce text-cyan-400",children:[e.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),e.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),e.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]})}),e.jsx("h2",{className:"text-2xl font-bold mb-4 text-cyan-400",children:"Rotate your device!"}),e.jsx("p",{className:"text-lg mb-2",children:"to use the configurator"}),e.jsx("p",{className:"text-base opacity-80",children:"Please turn your device to landscape mode"}),e.jsxs("div",{className:"mt-8 flex items-center space-x-2 text-sm opacity-60",children:[e.jsx("div",{className:"w-8 h-5 border-2 border-current rounded-sm"}),e.jsx("span",{children:"→"}),e.jsx("div",{className:"w-5 h-8 border-2 border-current rounded-sm"})]})]}),e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:-1,backgroundImage:"url(/textures/fondo.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}}),e.jsxs("div",{className:"w-full h-screen text-gray-200 overflow-hidden relative",style:{background:"transparent"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none",background:"transparent"}}),e.jsx("div",{className:"fixed top-2 md:top-4 z-50 flex items-center gap-2 md:gap-3",style:{left:"-20px"},children:e.jsx("button",{onClick:()=>window.location.href="https://www.crearttech.com/",className:"relative px-3 md:px-5 py-1 md:py-2 rounded-full font-bold text-xs md:text-sm uppercase tracking-wider text-white transition-all duration-300 hover:-translate-y-0.5 bg-gradient-to-r from-cyan-500/20 via-purple-500/20 to-pink-500/20 border border-cyan-500/55",children:e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:[e.jsx("path",{d:"M3 10.5L12 3l9 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M5 9.5V21h14V9.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{children:"Home"})]})})}),e.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 z-10 flex items-center gap-3",children:e.jsx("h1",{className:"text-2xl font-bold leading-none m-0",style:{fontFamily:"Gotham Black, Arial, sans-serif",color:"#fff",textShadow:"0 0 12px #a259ff, 0 0 24px #0ff, 0 0 2px #fff",letterSpacing:"0.04em"},children:"KNOBO"})}),e.jsx("main",{className:"flex w-full h-full",style:{minHeight:"100vh",height:"100vh",position:"relative",zIndex:1,overflow:"hidden",background:"transparent"},children:e.jsx("div",{className:"flex-grow h-full",style:{position:"relative",zIndex:1,background:"transparent"},children:e.jsx("div",{ref:L,className:"w-full h-full transition-all duration-300",onClick:we,style:{position:"relative",zIndex:1}})})}),e.jsxs("div",{className:"mobile-panel",style:{position:"fixed",top:0,width:"normal"===$?"clamp(80px, 20vw, 112px)":"clamp(300px, 35vw, 360px)",height:"100vh",display:"flex",zIndex:100,transition:"all 0.4s ease",right:window.innerWidth<=768?-35:-20},children:[e.jsx("div",{style:{width:"clamp(60px, 15vw, 112px)",flexShrink:0,paddingTop:"clamp(20px, 5vh, 160px)",position:"relative",zIndex:50},children:e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(4px, 1vw, 6px)"},children:[{id:"normal",icon:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5M12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17M12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z",title:"Full View - See complete MIDI controller"},{id:"chasis",icon:"knobo.png",title:"Customize Chassis - Change main body color",isImage:!0},{id:"knobs",icon:"M9.42 4.074a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56M11.554 8.8a.5.5 0 0 1 0 .707l-1.78 1.78a.5.5 0 1 1-.708-.707l1.78-1.78a.5.5 0 0 1 .708 0 M9.42 15.444c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.03 1.32-3.19 1.32m0-1.1a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82M6.757 5.2a.56.56 0 1 0-.965.567l.465.809l.005.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm5.315.012a.55.55 0 0 1 .761-.206c.277.152.36.5.203.764l-.458.797a.56.56 0 0 1-.478.277a.564.564 0 0 1-.487-.834zm7.598 5.722a.5.5 0 0 1 .5-.5h2.52a.5.5 0 1 1 0 1h-2.52a.5.5 0 0 1-.5-.5 M22.69 15.454c2.49 0 4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52s2.03 4.52 4.52 4.52m0-1.11a3.41 3.41 0 1 1 0-6.82a3.41 3.41 0 0 1 0 6.82m-.56-9.7c0-.308.252-.56.56-.56s.56.252.56.56v.945a.566.566 0 0 1-.56.535a.56.56 0 0 1-.56-.56zm-2.103.566a.557.557 0 0 0-.763-.202a.566.566 0 0 0-.204.753l.468.815l.004.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm6.086-.204a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759a.5.5 0 0 0 .282.077a.6.6 0 0 0 .478-.261l.005-.007l.463-.805a.55.55 0 0 0-.203-.764 M11.93 22.636H9.42a.5.5 0 0 0 0 1h2.51a.5.5 0 1 0 0-1 M4.9 23.136c0 2.49 2.03 4.52 4.52 4.52s4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52m7.93 0a3.41 3.41 0 1 1-6.82 0a3.41 3.41 0 0 1 6.82 0m-3.41-6.86a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56m-3.418.93a.566.566 0 0 1 .755.206l.464.807c.137.258.06.6-.205.753a.53.53 0 0 1-.276.074a.58.58 0 0 1-.478-.261l-.005-.007l-.468-.814a.566.566 0 0 1 .207-.755zm6.08.209a.55.55 0 0 1 .761-.206c.277.151.36.499.203.764l-.462.802a.567.567 0 0 1-.766.194a.55.55 0 0 1-.194-.76zm8.475 3.588a.5.5 0 0 1 .707 0l1.78 1.78a.5.5 0 0 1-.707.707l-1.78-1.78a.5.5 0 0 1 0-.707 M22.69 27.656c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.04 1.32-3.19 1.32m0-1.11a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82 M22.13 16.836c0-.308.252-.56.56-.56s.56.252.56.56v.945a.57.57 0 0 1-.56.545a.56.56 0 0 1-.56-.56zm-2.103.576a.566.566 0 0 0-.755-.206l-.006.003a.565.565 0 0 0-.206.755l.468.814l.004.007a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.074a.566.566 0 0 0 .205-.753zm6.086-.203a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759a.5.5 0 0 0 .282.077a.6.6 0 0 0 .478-.261l.005-.007l.463-.805a.55.55 0 0 0-.203-.764 M1 5.75A4.75 4.75 0 0 1 5.75 1h20.52a4.75 4.75 0 0 1 4.75 4.75v20.48a4.75 4.75 0 0 1-4.75 4.75H5.75A4.75 4.75 0 0 1 1 26.23zM5.75 3A2.75 2.75 0 0 0 3 5.75v20.48a2.75 2.75 0 0 0 2.75 2.75h20.52a2.75 2.75 0 0 0 2.75-2.75V5.75A2.75 2.75 0 0 0 26.27 3z",title:"Knobs"}].map(({id:t,icon:n,title:a,isImage:r})=>e.jsx("button",{onClick:"faders"===t?void 0:()=>ye(t),style:{width:"clamp(40px, 10vw, 70px)",height:"clamp(40px, 10vw, 70px)",padding:"clamp(4px, 1vw, 8px)",aspectRatio:"1 / 1",border:"2px solid #00FFFF",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",zIndex:100,transition:"all 0.3s ease",color:"white",cursor:"faders"===t?"not-allowed":"pointer",background:$===t?"linear-gradient(to bottom right, #00FFFF, #0080FF)":"linear-gradient(to bottom right, #000000, #1a1a1a)",boxShadow:$===t?"0 10px 15px -3px rgba(0, 0, 0, 0.1)":"none"},disabled:"faders"===t,onMouseEnter:e=>{"faders"!==t&&(e.currentTarget.style.background="linear-gradient(to bottom right, #00FFFF, #0080FF)",e.currentTarget.style.boxShadow="0 10px 15px -3px rgba(0, 0, 0, 0.1)");const n=document.createElement("div");n.className="custom-tooltip",n.textContent=a,n.style.cssText=`\n            position: fixed;\n            left: ${e.clientX-20}px;\n            top: ${e.clientY-20}px;\n            transform: translateX(-100%);\n            background: #8503adcc;\n            color: white;\n            padding: 12px 16px;\n            border-radius: 8px;\n            font-size: 14px;\n            font-weight: bold;\n            white-space: nowrap;\n            z-index: 999999;\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n            border: 2px solid #f87171;\n            pointer-events: none;\n          `,n.id="temp-tooltip",document.body.appendChild(n)},onMouseLeave:e=>{"faders"!==t&&$!==t&&(e.currentTarget.style.background="linear-gradient(to bottom right, #000000, #1a1a1a)",e.currentTarget.style.boxShadow="none");const n=document.getElementById("temp-tooltip");n&&n.remove()},children:r?e.jsx("img",{src:`textures/${n}`,alt:a,style:{width:"clamp(20px, 5vw, 40px)",height:"clamp(20px, 5vw, 40px)",objectFit:"contain",margin:"auto",pointerEvents:"none"},onError:e=>{}}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"knobs"===t?"0 0 32 32":"faders"===t?"0 0 256 256":"0 0 24 24",style:{width:"clamp(20px, 5vw, 40px)",height:"clamp(20px, 5vw, 40px)",fill:"white",color:"white",margin:"auto",pointerEvents:"none"},fill:"#fff",children:e.jsx("path",{d:n})})},t))})}),e.jsxs("div",{style:{flex:1,padding:"normal"===$?"clamp(4px, 1vw, 8px)":"clamp(12px, 2vw, 16px)",display:"flex",flexDirection:"column",background:"normal"===$?"transparent":"rgba(17, 24, 39, 0.65)",borderLeft:"normal"===$?"none":"1px solid #4b5563",backdropFilter:"normal"===$?void 0:"blur(6px)",overflowY:"normal"===$?"visible":"auto"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",paddingBottom:"clamp(12px, 3vw, 20px)",borderBottom:"1px solid #4b5563",paddingLeft:0,justifyContent:"center",gap:"normal"===$?0:"clamp(4px, 1vw, 8px)",minHeight:"normal"===$?"clamp(40px, 10vw, 48px)":"auto"},children:e.jsx("img",{src:"models/logo.png",alt:"Logo",style:{height:"normal"===$?"clamp(20px, 5vw, 24px)":"clamp(28px, 7vw, 32px)",width:"auto",filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}})}),"normal"!==$&&e.jsxs("div",{style:{marginTop:"clamp(12px, 2.5vw, 20px)"},className:"animate-fadeIn",children:[e.jsx("p",{style:{fontWeight:900,fontSize:"clamp(12px, 3vw, 16px)",letterSpacing:"0.05em",textTransform:"uppercase",margin:"0 0 clamp(10px, 2vw, 14px) 0",color:"#e5e7eb",textAlign:"left"},className:"animate-fadeIn",children:(()=>{switch($){case"chasis":return"CHOOSE THE CHASSIS COLOR";case"buttons":return"CUSTOMIZE THE BUTTONS";case"knobs":return"CUSTOMIZE THE KNOBS";default:return"CHOOSE A COLOR"}})()}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",rowGap:"5px",columnGap:"0px",padding:0,justifyItems:"start",marginLeft:F?"-24px":"35px",transform:F?"translateX(-36px)":"none",transition:"transform 150ms ease"},className:"animate-scaleIn",children:Object.entries((()=>{switch($){case"chasis":return oe.chasis;case"buttons":return oe.buttons;case"knobs":return oe.knobs;default:return{}}})()).map(([t,n],a)=>e.jsx("div",{style:{width:"clamp(30px, 7vw, 44px)",height:"clamp(30px, 7vw, 44px)",borderRadius:"50%",cursor:"pointer",border:"1px solid #a259ff",boxShadow:"0 0 6px 1px rgba(162, 89, 255, 0.33)",transition:"transform 0.15s ease, margin-left 0.15s ease",backgroundColor:n.hex,animationDelay:40*a+"ms",marginLeft:"0px"},title:t,onClick:()=>je(t,n),onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.07)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)"},className:"animate-fadeInUp"},t))})]})]})]}),"normal"===$&&e.jsx("button",{onClick:ue,className:"fixed bottom-10 left-1/2 transform -translate-x-1/2 z-50 px-6 py-3 text-lg font-bold uppercase tracking-wide text-black bg-purple-400 border-none rounded cursor-pointer transition-all duración-200 shadow-lg hover:bg-yellow-200 hover:scale-105 hover:shadow-xl shadow-[0_0_8px_2px_#a259ff80,0_0_16px_4px_#0ff5]",children:"Finish and Send Configuration"}),Y&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:e.jsxs("div",{className:"relative bg-[#3a4060] rounded-2xl shadow-2xl border-2 border-[#a259ff] p-4 md:py-4 md:px-8 w-full max-w-4xl mx-4 animate-fade-in",children:[e.jsx("button",{onClick:()=>X(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-pink-400 text-2xl font-bold",children:"×"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-purple-400 mb-4 text-center tracking-widest",children:"PAGO SEGURO - KNOBO"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center mb-4",children:[e.jsx("div",{className:"w-full max-w-[320px] md:max-w-[380px] aspect-[4/3] flex items-center justify-center ml-16 md:ml-24",children:J&&e.jsx("img",{src:J,alt:"Custom controller",className:"w-full h-full object-contain",style:{background:"none",boxShadow:"none",border:"none"}})}),e.jsxs("div",{className:"flex-1 mt-8 md:mt-0",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2 text-cyan-400",children:"Tu configuración:"}),e.jsxs("ul",{className:"text-base space-y-1",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Chassis:"})," ",W.chasis]}),e.jsxs("li",{children:[e.jsx("b",{children:"Buttons:"})," ",Object.values(W.buttons).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Knobs:"})," ",Object.values(W.knobs).join(", ")||"Default"]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-cyan-400",children:"Select your currency:"}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx("button",{onClick:()=>Fe("USD"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("USD"===Ce?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"USD $100.00"}),e.jsx("button",{onClick:()=>Fe("COP"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("COP"===Ce?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"COP $400,000"})]}),e.jsxs("p",{className:"text-center text-sm text-gray-400 mt-2",children:["Selected price: ",Ce," ",Ot(Ce).symbol,Ot(Ce).amount]})]}),e.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[e.jsx("div",{className:"w-full py-3 rounded-lg bg-gray-600 text-gray-400 font-bold text-lg text-center",children:"PayPal temporarily unavailable"}),e.jsxs("button",{onClick:()=>{const e="payu_checkout";if(!window.open("",e))return void alert("Please allow popups to continue with payment");const t=Ot(Ce),n=`${Ct}~${Ft}~${ke.referenceCode}~${t.amount}~${Ce}`,a=MD5(n).toString(),r=document.createElement("form");r.method="POST",r.action=t.url,r.target=e;const o={merchantId:Ft,accountId:t.accountId,description:`Knobo Configurator - ${Ce} ${t.symbol}${t.amount}`,referenceCode:ke.referenceCode,amount:t.amount,currency:Ce,buyerEmail:ke.buyerEmail,signature:a,test:"1",confirmationUrl:kt,responseUrl:Et,lng:t.language,extra1:"Knobo",extra2:W.chasis||"Custom",extra3:`Applied colors - Buttons: ${Object.keys(W.buttons||{}).length}, Knobs: ${Object.keys(W.knobs||{}).length}`,extra4:`Knobo Configurator - ${Ce} ${t.symbol}${t.amount}`,payerCountry:"CO",payerCity:"Bogota",payerPhone:"+57-300-1234567",country:"CO",ipAddress:"8.8.4.4"};Object.entries(o).forEach(([e,t])=>{const n=document.createElement("input");n.type="hidden",n.name=e,n.value=t,r.appendChild(n)}),document.body.appendChild(r),r.submit(),document.body.removeChild(r)},className:"w-full py-3 rounded-lg bg-gradient-to-r from-green-400 to-cyan-400 text-white font-bold text-lg shadow-[0_0_12px_2px_#0ff580] hover:scale-105 transition-all mt-2",children:["Pay with PayU (",Ce," ",Ot(Ce).symbol,Ot(Ce).amount,")"]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-6 text-center",children:"Your purchase is 100% safe and protected."})]})}),q&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:e.jsxs("div",{className:"relative bg-[#232846] rounded-2xl shadow-2xl border-2 border-[#a259ff] p-6 w-full max-w-2xl mx-4 animate-fade-in flex flex-col items-center",children:[e.jsx("button",{onClick:()=>Q(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-pink-400 text-2xl font-bold",children:"×"}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-purple-400 mb-4 text-center tracking-widest",children:"Cart"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center w-full",children:[e.jsx("div",{className:"w-full max-w-[220px] aspect-[4/3] flex items-center justify-center",children:J&&e.jsx("img",{src:J,alt:"Custom controller",className:"w-full h-full object-contain",style:{background:"none",boxShadow:"none",border:"none"}})}),e.jsxs("div",{className:"flex-1 mt-4 md:mt-0 w-full",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-cyan-400",children:"Your Product:"}),e.jsxs("ul",{className:"text-base space-y-1 mb-2",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Chassis:"})," ",W.chasis]}),e.jsxs("li",{children:[e.jsx("b",{children:"Buttons:"})," ",Object.values(W.buttons).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Knobs:"})," ",Object.values(W.knobs).join(", ")||"Default"]})]}),e.jsxs("div",{className:"text-xl font-bold text-green-300 mb-2",children:["$",ke.amount," USD"]})]})]}),e.jsxs("div",{className:"flex flex-col gap-4 mt-6 w-full",children:[e.jsx(z,{style:{layout:"horizontal",color:"blue",shape:"rect",label:"paypal",height:48},createOrder:(e,t)=>t.order?t.order.create({intent:"CAPTURE",purchase_units:[{amount:{value:ke.amount||"185.00",currency_code:"USD"},description:"Custom MIDI controller"}]}):Promise.reject("PayPal actions.order no disponible"),onApprove:async(e,t)=>{var n;if(t&&t.order){const r=await t.order.capture(),o=(null==(n=null==r?void 0:r.payer)?void 0:n.email_address)||"";try{await fetch("http://localhost:4000/api/paypal-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({colors:W,screenshot:J,paypalOrderId:e.orderID,buyerEmail:o})})}catch(a){alert("Error guardando configuración personalizada en backend: "+a)}alert("¡Pago realizado con PayPal!"),X(!1),Q(!0)}},onError:e=>{alert("Error en el pago con PayPal: "+e)}}),e.jsxs("form",{action:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",method:"post",target:"_blank",className:"w-full flex flex-col items-center",children:[e.jsx("input",{type:"hidden",name:"merchantId",value:"508029"}),e.jsx("input",{type:"hidden",name:"accountId",value:"512321"}),e.jsx("input",{type:"hidden",name:"description",value:"Custom MIDI controller"}),e.jsx("input",{type:"hidden",name:"referenceCode",value:ke.referenceCode}),e.jsx("input",{type:"hidden",name:"amount",value:ke.amount}),e.jsx("input",{type:"hidden",name:"currency",value:ke.currency}),e.jsx("input",{type:"hidden",name:"signature",value:ke.signature}),e.jsx("input",{type:"hidden",name:"test",value:"1"}),e.jsx("button",{type:"submit",className:"w-full py-3 rounded-lg bg-gradient-to-r from-green-400 to-cyan-400 text-white font-bold text-lg shadow-[0_0_12px_2px_#0ff580] hover:scale-105 transition-all mt-2",children:"Pagar con PayU"})]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-6 text-center",children:"Tu compra es 100% segura y protegida."})]})})]})]})},Rt=Object.freeze(Object.defineProperty({__proto__:null,default:It},Symbol.toStringTag,{value:"Module"})),Lt=({className:t="",style:n={}})=>{const[a,r]=k.useState(!1),[o]=k.useState(Date.now());return k.useEffect(()=>{const e=setTimeout(()=>{r(!0)},4100);return()=>clearTimeout(e)},[]),e.jsxs("div",{className:t,style:n,children:[e.jsx(jt,{isVisible:!a}),e.jsx("div",{style:{width:"100%",height:"100%",opacity:a?1:0},children:e.jsx(It,{})})]})},zt=Object.freeze(Object.defineProperty({__proto__:null,default:Lt},Symbol.toStringTag,{value:"Module"})),_t=({isVisible:t,onComplete:n})=>{const[a,r]=k.useState(0),[o]=k.useState(Date.now()),[s,i]=k.useState(!1),[l,c]=k.useState(!1),d=k.useRef(null);return k.useEffect(()=>{if(t){const e=setInterval(()=>{const t=Date.now()-o,a=Math.min(t/4100*100,100);r(e=>Math.abs(e-a)>=1||a>=100?a:e),a>=100&&(clearInterval(e),d.current&&(d.current.pause(),d.current.currentTime=0),null==n||n())},100);return()=>clearInterval(e)}r(0)},[t,o]),k.useEffect(()=>{if(d.current&&t){const e=d.current;e.playbackRate=1,e.volume=0;const t=()=>{c(!0),e.play().catch(e=>{i(!0)})},n=e=>{i(!0)},a=()=>{},r=()=>{},o=()=>{},s=()=>{};return e.addEventListener("canplay",t),e.addEventListener("error",n),e.addEventListener("loadstart",a),e.addEventListener("loadeddata",r),e.addEventListener("waiting",o),e.addEventListener("playing",s),e.load(),()=>{e.removeEventListener("canplay",t),e.removeEventListener("error",n),e.removeEventListener("loadstart",a),e.removeEventListener("loadeddata",r),e.removeEventListener("waiting",o),e.removeEventListener("playing",s)}}if(d.current&&!t){const e=d.current;e.pause(),e.currentTime=0,c(!1),i(!1)}},[t]),e.jsx(S,{children:t&&e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:9999,color:"white",fontFamily:"Arial, sans-serif",overflow:"hidden"},children:[e.jsxs("video",{ref:d,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:-2},muted:!0,loop:!0,playsInline:!0,preload:"metadata",crossOrigin:"anonymous",autoPlay:!0,children:[e.jsx("source",{src:"/CONFIGURATOR/videos/video.mp4",type:"video/mp4"}),e.jsx("img",{src:"/CONFIGURATOR/textures/carga.jpg",alt:"Loading background",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})]}),e.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:-1}}),e.jsx(N.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},style:{fontSize:"32px",fontWeight:"bold",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 20px #00FFFF, 0 0 40px #00FFFF, 0 0 60px #00FFFF",position:"relative",zIndex:1},children:"MIXO"}),e.jsx(N.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeOut"},style:{fontSize:"18px",fontWeight:"bold",marginBottom:"40px",color:"#FFFFFF",textShadow:"0 0 15px #FFFFFF, 0 0 30px #FFFFFF",position:"relative",zIndex:1},children:"Features: Mix controller with 8 assignable faders and LED indicators."}),e.jsx(N.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},style:{width:"100px",height:"100px",border:"6px solid rgba(0, 255, 255, 0.3)",borderTop:"6px solid #00FFFF",borderRadius:"50%",marginBottom:"40px",boxShadow:"0 0 30px rgba(0, 255, 255, 0.8), 0 0 60px rgba(0, 255, 255, 0.4)",position:"relative",zIndex:1}}),e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},style:{fontSize:"20px",fontWeight:"bold",textAlign:"center",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 15px #00FFFF, 0 0 30px #00FFFF",position:"relative",zIndex:1},children:["Cargando MIXO... ",Math.round(a),"%"]}),a>=100&&e.jsx(N.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.8},style:{fontSize:"18px",color:"#00FF80",fontWeight:"bold",marginBottom:"30px",textShadow:"0 0 15px #00FF80, 0 0 30px #00FF80",position:"relative",zIndex:1},children:"¡MIXO listo para configurar!"}),e.jsx(N.div,{style:{width:"400px",height:"8px",backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:"4px",overflow:"hidden",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.3)",marginBottom:"40px",position:"relative",zIndex:1},children:e.jsx(N.div,{initial:{width:0},animate:{width:`${a}%`},transition:{duration:.1,ease:"linear"},style:{width:"100%",height:"100%",background:"linear-gradient(90deg, #00FFFF, #00CCFF, #00FFFF)",borderRadius:"4px",boxShadow:"0 0 20px rgba(0, 255, 255, 0.8), 0 0 40px rgba(0, 255, 255, 0.4)",backgroundSize:"200% 100%",animation:"shimmer 2s infinite"}})}),e.jsx(N.div,{style:{display:"flex",gap:"12px",marginTop:"20px",position:"relative",zIndex:1},children:[0,1,2].map(t=>e.jsx(N.div,{animate:{scale:[1,1.3,1],opacity:[.4,1,.4]},transition:{duration:2,repeat:1/0,delay:.3*t,ease:"easeInOut"},style:{width:"12px",height:"12px",backgroundColor:"#00FFFF",borderRadius:"50%",boxShadow:"0 0 15px rgba(0, 255, 255, 0.8), 0 0 30px rgba(0, 255, 255, 0.4)"}},t))}),e.jsx("style",{children:"\n            @keyframes shimmer {\n              0% { background-position: -200% 0; }\n              100% { background-position: 200% 0; }\n            }\n          "})]})})},Tt=({onProductChange:t})=>{const[f,y]=k.useState(""),[j,C]=k.useState(""),F=k.useRef(null),E=k.useRef(null),S=k.useRef(null),N=k.useRef(null),R=k.useRef(null),z=k.useRef(null),T=k.useRef(null),[B,D]=k.useState("normal"),[M,A]=k.useState(null),[$,P]=k.useState(!1),[H,U]=k.useState(()=>window.innerWidth<=768);k.useEffect(()=>{const e=()=>{P(window.innerWidth>window.innerHeight)},t=()=>{U(window.innerWidth<=768)};return e(),t(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),window.addEventListener("resize",t),window.addEventListener("orientationchange",t),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e),window.removeEventListener("resize",t),window.removeEventListener("orientationchange",t)}},[]);const[W,G]=k.useState(()=>{const e=localStorage.getItem("mixo_chosenColors");if(e)try{return JSON.parse(e)}catch(Jt){}return{type:"configUpdate",chasis:"Gris",buttons:{},knobs:{},faders:{}}}),[V,K]=k.useState({chasis:[],buttons:[],knobs:[],faders:[]}),[Y,X]=k.useState(!1),[J,Z]=k.useState(null),q=k.useRef(B),[Q,ee]=k.useState([]),[te,ne]=k.useState([]),[ae,re]=k.useState([]),[oe,se]=k.useState(!1),[ie,le]=k.useState(!1),[ce,de]=k.useState(!1),[ue,pe]=k.useState({x:0,y:0}),me={chasis:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},buttons:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},knobs:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},faders:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}}},he={normal:{pos:new p(2,1,-.1),target:new p(0,-.5,-.1)},top:{pos:new p(1,1.95,-.4),target:new p(-.35,-1.4,-.4)}};k.useCallback(()=>{var e,t,n;const a=null==(e=N.current)?void 0:e.position.clone(),r=null==(t=R.current)?void 0:t.target.clone(),o=null==(n=N.current)?void 0:n.fov,s=he.normal.pos.clone(),i=he.normal.target.clone();N.current.position.copy(s),N.current.fov=35,N.current.updateProjectionMatrix(),R.current&&(R.current.target.copy(i),R.current.update()),setTimeout(()=>{S.current.render(E.current,N.current);const e=S.current.domElement.toDataURL("image/png");Z(e),N.current.position.copy(a),N.current.fov=o,N.current.updateProjectionMatrix(),R.current&&r&&(R.current.target.copy(r),R.current.update()),X(!0)},50)},[S,E,N,R,he,Z,X]);const xe=k.useRef(null),fe=k.useRef(null);k.useEffect(()=>{localStorage.setItem("mixo_currentView",B)},[B]),k.useEffect(()=>{localStorage.setItem("mixo_chosenColors",JSON.stringify(W))},[W]),k.useEffect(()=>{X(!1)},[]),k.useEffect(()=>{},[Y]),k.useCallback(()=>{if(!S.current)return null;try{return S.current.domElement.toDataURL("image/png")}catch(Jt){return null}},[]);const ge=k.useCallback(()=>{if(!(S.current&&N.current&&R.current&&E.current))return null;const e=S.current,t=N.current,n=R.current,a=t.position.clone(),r=n.target.clone(),o=n.enabled;t.position.copy(he.normal.pos),n.target.copy(he.normal.target),n.enabled=!1,n.update(),e.render(E.current,t);let s=null;try{s=e.domElement.toDataURL("image/png")}catch(Jt){}return t.position.copy(a),n.target.copy(r),n.enabled=o,n.update(),e.render(E.current,t),s},[]),be=k.useCallback(async()=>{const e=ge();e&&Z(e);const t=Object.entries(W.buttons||{}).filter(([e])=>!/aro/i.test(e)),a=Object.entries(W.knobs||{}),r=Object.entries(W.faders||{}),o={Verde:"Green",Amarillo:"Yellow",Azul:"Blue",Blanco:"White",Naranja:"Orange",Morado:"Purple",Rojo:"Red",Negro:"Black",Rosa:"Pink",Gris:"Gray"},s=e=>o[e]||e,i=e=>(e=>e.replace(/Boton/gi,"Button").replace(/fader/gi,"Fader"))(e).replace(/_\d+\b/i,""),l=(e,t)=>e.length?e.map(([e,t])=>`<li style="margin:4px 0"><strong>${i(e)}</strong>: ${s(t)}</li>`).join(""):`<li>${t}</li>`,c=`\n      <div style="display:flex; flex-direction:column; gap:12px; text-align:left;">\n        <div style="display:flex; gap:16px; align-items:flex-start;">\n          ${e?`<img src="${e}" alt="Screenshot" style="width:260px; height:auto; border-radius:8px; border:1px solid #4b5563"/>`:'<div style="width:260px;height:160px;display:flex;align-items:center;justify-content:center;border:1px solid #4b5563;border-radius:8px;">No screenshot</div>'}\n          <div style="flex:1">\n            <p style="margin:0 0 6px 0"><strong style="color:#FCD34D">Chassis:</strong> ${s(W.chasis)}</p>\n            <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px; align-items:start;"> \n              <div>\n                <p style="margin:0 0 6px 0; color:#FCD34D;"><strong>Buttons:</strong></p>\n                <ul style="margin:0; padding-left:16px; columns:2; column-gap:16px;">${l(t,"Default")}</ul>\n              </div>\n              <div>\n                <p style="margin:0 0 6px 0; color:#FCD34D;"><strong>Knobs:</strong></p>\n                <ul style="margin:0; padding-left:16px; columns:2; column-gap:16px;">${l(a,"Default")}</ul>\n                <p style="margin:12px 0 6px 0; color:#FCD34D;"><strong>Faders:</strong></p>\n                <ul style="margin:0; padding-left:16px; columns:2; column-gap:16px;">${l(r,"Default")}</ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>`;if((await I.fire({title:"Configuration Summary",html:c,width:860,background:"#0b1220",color:"#e5e7eb",showCancelButton:!0,showDenyButton:!0,confirmButtonText:"Send by email",denyButtonText:"Download image",cancelButtonText:"Close",focusConfirm:!1,allowOutsideClick:!1,preDeny:async()=>{var e,t;try{const a=null==(t=(e=I).getPopup)?void 0:t.call(e);if(!a)return;const{default:r}=await n(async()=>{const{default:e}=await import("./ui-BPY6V10C.js");return{default:e}},[]),o=(await r(a,{background:"#0b1220"})).toDataURL("image/png"),s=document.createElement("a");s.href=o,s.download="mixo-configuration-summary.png",document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(Jt){}},customClass:{popup:"swal2-border-radius",confirmButton:"swal2-confirm-custom",denyButton:"swal2-deny-custom",cancelButton:"swal2-cancel-custom"}})).isConfirmed){const e="your-business-email@example.com",t="Mixo Configuration",n=`\nHello,\n\nHere is my configuration for the Mixo:\n\n- Chassis: ${s(W.chasis)}\n- Buttons: ${Object.entries(W.buttons).map(([e,t])=>`${i(e)}: ${s(t)}`).join(", ")||"Default"}\n- Knobs: ${Object.entries(W.knobs).map(([e,t])=>`${i(e)}: ${s(t)}`).join(", ")||"Default"}\n- Faders: ${Object.entries(W.faders).map(([e,t])=>`${i(e)}: ${s(t)}`).join(", ")||"Default"}\n\n(Attached is the image downloaded from the configurator)\n`,a=`mailto:${e}?subject=${encodeURIComponent(t)}&body=${encodeURIComponent(n)}`;window.location.href=a}},[W,ge]),[we,ve]=k.useState(null);k.useEffect(()=>{(new a).load("/CONFIGURATOR/textures/blackhole.jpg.avif",e=>{e.mapping=r,ve(e)})},[]);const ye=k.useCallback((e,t)=>{const n=new o(16777215,.9);e.add(n);const a=new s(16777215,1.2);a.position.set(5,4,-1),a.castShadow=!0,e.add(a);const r=new s(10079487,1);r.position.set(-8,3,-9),e.add(r);const l=new s(10079487,1);l.position.set(-8,3,15),e.add(l);const c=new i(16777215,.7,.5);c.position.set(0,5,5),e.add(c);const d=new s(16777215,1.2);d.position.set(-5,30,0),d.castShadow=!0,e.add(d)},[]),je=k.useCallback(e=>{const t=(new u).setFromObject(e),n=t.getSize(new p),a=t.getCenter(new p),r=1.8/Math.max(n.x,n.y,n.z);e.scale.set(r,r,r),e.position.copy(a).multiplyScalar(-r),e.position.y-=n.y/2*r},[]),Ce=k.useCallback(e=>{const t={chasis:[],buttons:[],knobs:[],faders:[]};let n={type:"configUpdate",chasis:"Gris",buttons:{},knobs:{},faders:{}};try{const e=localStorage.getItem("mixo_chosenColors");if(e){const t=JSON.parse(e);t&&"object"==typeof t&&(n={type:"configUpdate",chasis:t.chasis||"Gris",buttons:t.buttons||{},knobs:t.knobs||{},faders:t.faders||{}})}}catch(Jt){}e.traverse(e=>{var a;if(!(e instanceof l))return;e.castShadow=!0,e.receiveShadow=!0;const r="string"==typeof e.name?e.name.toLowerCase():"";if((r.includes("logo")||r.includes("mixo")||r.includes("knobo02")||r.includes("knobo-02")||r.includes("crearttech")||r.includes("custom midi"))&&e.material&&"map"in e.material&&e.material.map&&(e.material.transparent=!0,e.material.alphaTest=.9),r.includes("cubechasis")){const a=n.chasis&&me.chasis[n.chasis]?n.chasis:"Gris";e.material=new c({color:me.chasis[a].hex,metalness:.8,roughness:.35,clearcoat:.85,clearcoatRoughness:.1}),t.chasis.push(e),n.chasis=a}else if(r.includes("boton")){const a=n.buttons[e.name],r=a&&me.buttons[a]?a:"Amarillo";e.material=new c({color:me.buttons[r].hex,metalness:0,roughness:0,clearcoat:1,clearcoatRoughness:0,reflectivity:1,transmission:0,thickness:.3,ior:1.5,attenuationDistance:.5,attenuationColor:16776960,transparent:!1,opacity:1,emissive:16776960,emissiveIntensity:3}),t.buttons.push(e),n.buttons[e.name]=r}else if(r.includes("aro"))e.material=new c({color:0,metalness:0,roughness:.2,clearcoat:.8,clearcoatRoughness:.1,reflectivity:.5,transmission:.3,thickness:.5,ior:1.4,attenuationDistance:1,attenuationColor:16777215,transparent:!0,opacity:.7}),t.buttons.push(e),n.buttons[e.name]="Negro";else if(r.startsWith("knob1_")||r.startsWith("knob2_")||r.startsWith("knob3_")||r.startsWith("knob4_")){if(null==(a=e.material)?void 0:a.color){const a=e.material;if((a.color.r+a.color.g+a.color.b)/3<.5){const a=n.knobs[e.name],r=a&&me.knobs[a]?a:"Negro";e.material=new d({color:me.knobs[r].hex,metalness:0,roughness:1}),t.knobs.push(e),n.knobs[e.name]=r}else e.material=new d({color:16777215})}}else if(r.includes("fader"))if("fader1_1"===r||"fader2_1"===r||"fader3_1"===r||"fader4_1"===r){const a=n.faders[e.name],r=a&&me.knobs[a]?a:"Negro";e.material=new d({color:me.knobs[r].hex,metalness:0,roughness:1}),t.faders.push(e),n.faders[e.name]=r}else if(e.material){const a=e.material;if(a.color){if((a.color.r+a.color.g+a.color.b)/3<.8){const r=n.faders[e.name],o=r&&me.knobs[r]?r:"Negro";a.color.setHex(parseInt(me.knobs[o].hex.replace("#",""),16)),t.faders.push(e),n.faders[e.name]=o}}}}),K(t),G(n)},[we]),Fe=k.useCallback(e=>{if(e.material instanceof c){const t=e.material,n=W.buttons[e.name];if(n&&me.buttons[n]){const e=me.buttons[n].hex;t.emissive.setHex(parseInt(e.replace("#",""),16)),t.emissiveIntensity=3}}},[W,me]),ke=k.useCallback(async()=>{try{const{GLTFLoader:e}=await n(async()=>{const{GLTFLoader:e}=await import("./GLTFLoader-DIUHo4Jg.js");return{GLTFLoader:e}},__vite__mapDeps([4,1,2]));(new e).load("/CONFIGURATOR/models/mixo.glb",e=>{var t;const n=e.scene;z.current=n,Ce(n),je(n),null==(t=E.current)||t.add(n),T.current||(T.current=n.position.clone());n.traverse(e=>{e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&e.material&&"color"in e.material&&e.material.color.setHex(1842204),e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&(e.material=e.material.clone())})},void 0,e=>{})}catch(e){}},[Ce,je]),Ee=k.useCallback((e,t=0)=>{var n;if(e&&(null==(n=e.material)?void 0:n.emissive)){const n=e.material;if(e.name.toLowerCase().includes("boton")&&0===t)return void Fe(e);n.emissive.setHex(t),e.name.toLowerCase().includes("boton")?n.emissiveIntensity=3:e.name.toLowerCase().includes("aro")&&(n.emissiveIntensity=.3,n.opacity=.8)}},[Fe]),Se=k.useCallback(e=>{var t;const n=null==(t=e.match(/\d+/))?void 0:t[0];if(!n)return null;const a=`Boton${n}`;return V.buttons.find(e=>e.name===a)||null},[V.buttons]),Ne=k.useCallback(e=>{var t;if(!E.current||!N.current)return;if("chasis"===B)return A(null),ee([]),ne([]),void re([]);const n=null==(t=F.current)?void 0:t.getBoundingClientRect();if(!n)return;const a=new w;a.x=(e.clientX-n.left)/n.width*2-1,a.y=-(e.clientY-n.top)/n.height*2+1;const r=new b;r.setFromCamera(a,N.current);let o=[];if("buttons"===B?o=V.buttons:"knobs"===B?o=V.knobs:"faders"===B?o=V.faders:"normal"===B&&(o=V.buttons),0===o.length)return;const s=r.intersectObjects(o,!1);if("buttons"===B&&V.buttons.forEach(e=>Ee(e,0)),M&&"normal"!==B&&Ee(M,0),s.length>0){const e=s[0].object,t=e.name.toLowerCase();if("normal"===B)return;if(t.includes("boton")||t.includes("aro")){ne([]),re([]);let n=e;if(t.includes("aro")){const t=Se(e.name);if(!t)return;n=t}A(null),ee(e=>{const t=e.includes(n)?e.filter(e=>e!==n):[...e,n];return V.buttons.forEach(e=>Ee(e,0)),t.forEach(e=>Ee(e,4473924)),t})}else t.startsWith("knob1_")||t.startsWith("knob2_")||t.startsWith("knob3_")||t.startsWith("knob4_")?(ee([]),re([]),A(null),ne(t=>{const n=t.includes(e)?t.filter(t=>t!==e):[...t,e];return V.knobs.forEach(e=>Ee(e,0)),n.forEach(e=>Ee(e,4473924)),n})):t.startsWith("fader1")||t.startsWith("fader2")||t.startsWith("fader3")||t.startsWith("fader4")?(ee([]),ne([]),A(null),re(t=>{const n=t.includes(e)?t.filter(t=>t!==e):[...t,e];return V.faders.forEach(e=>Ee(e,0)),n.forEach(e=>Ee(e,4473924)),n})):t.includes("cubechasis")&&(ee([]),ne([]),re([]),A(e))}},[B,V,M,Ee,Q,te,ae,Se]),Oe=k.useCallback((e,t)=>{if("chasis"===B)return V.chasis.forEach(e=>{e.material.color.set(t.hex)}),void G(t=>({...t,chasis:e}));if("buttons"===B&&Q.length>0){const n={...W,buttons:{...W.buttons}};return Q.forEach(a=>{const r=a.material;r.color.set(t.hex),r.emissive.setHex(parseInt(t.hex.replace("#",""),16)),n.buttons[a.name]=e;const o=a.name.replace("boton","aro"),s=V.buttons.find(e=>e.name===o);if(s&&s.material instanceof c){const a=s.material;a.color.setHex(parseInt(t.hex.replace("#",""),16)),a.attenuationColor.setHex(parseInt(t.hex.replace("#",""),16)),n.buttons[o]=e}}),G(n),void ee([])}if("knobs"===B&&te.length>0){const n={...W,knobs:{...W.knobs}};return te.forEach(a=>{a.material.color.set(t.hex),n.knobs[a.name]=e}),G(n),void ne([])}if("faders"===B&&ae.length>0){const n={...W,faders:{...W.faders}};return ae.forEach(a=>{a.material=new d({color:t.hex,metalness:0,roughness:1}),n.faders[a.name]=e}),G(n),void re([])}if(!M)return void I.fire({title:"Selecciona una parte",text:"Haz clic en una pieza del controlador para aplicar el color.",imageUrl:"models/logo.png",imageWidth:120,imageHeight:120,background:"#232846",color:"#fff",confirmButtonColor:"#a259ff",confirmButtonText:"Entendido"});const n=M.name.toLowerCase(),a=new v(t.hex);if(n.includes("cubechasis"))G(t=>({...t,chasis:e})),M.material instanceof d&&(M.material.color=a);else if(n.includes("boton")){if(G(t=>({...t,buttons:{...t.buttons,[M.name]:e}})),M.material instanceof c){const n=M.material;n.color=a,n.emissive.setHex(parseInt(t.hex.replace("#",""),16));const r=M.name.replace("boton","aro"),o=V.buttons.find(e=>e.name===r);if(o&&o.material instanceof c){const n=o.material;n.color.setHex(parseInt(t.hex.replace("#",""),16)),n.attenuationColor.setHex(parseInt(t.hex.replace("#",""),16)),G(t=>({...t,buttons:{...t.buttons,[r]:e}}))}}}else n.startsWith("knob1_")||n.startsWith("knob2_")||n.startsWith("knob3_")||n.startsWith("knob4_")?(G(t=>({...t,knobs:{...t.knobs,[M.name]:e}})),M.material&&"color"in M.material&&(M.material.color=a,M.material.metalness=0,M.material.roughness=1)):(n.startsWith("fader1")||n.startsWith("fader2")||n.startsWith("fader3")||n.startsWith("fader4"))&&(G(t=>({...t,faders:{...t.faders,[M.name]:e}})),M.material=new d({color:t.hex,metalness:0,roughness:1}))},[M,Q,te,ae,W,V,B,Ee]),Ie=k.useCallback(e=>{if(D(e),M&&Ee(M,0),Q.forEach(e=>Ee(e,0)),te.forEach(e=>Ee(e,0)),ae.forEach(e=>Ee(e,0)),"chasis"===e&&V.chasis.length>0?A(V.chasis[0]):A(null),!N.current||!R.current)return;let t,n;"normal"===e?(t=he.normal,n=!0):(t=he.top,n=!1),R.current.enabled=n,O.to(N.current.position,{duration:1.2,ease:"power3.inOut",...t.pos}),O.to(R.current.target,{duration:1.2,ease:"power3.inOut",...t.target,onUpdate:()=>R.current.update()})},[V,M,Ee,Q,te,ae]);k.useEffect(()=>{q.current=B},[B]),k.useEffect(()=>{setTimeout(()=>{N.current&&R.current&&(xe.current=N.current.position.clone(),fe.current=R.current.target.clone())},100)},[]),k.useEffect(()=>{if(!F.current)return;const e=new m;e.background=null,E.current=e;const t=new h({antialias:!0,alpha:!0,preserveDrawingBuffer:!0});t.setSize(F.current.clientWidth,F.current.clientHeight),t.setPixelRatio(Math.min(window.devicePixelRatio,2)),t.outputColorSpace=x,t.shadowMap.enabled=!0,S.current=t,F.current.appendChild(t.domElement);const a=new g(45,F.current.clientWidth/F.current.clientHeight,.1,200);let r;a.position.copy(he.normal.pos),N.current=a,n(async()=>{const{OrbitControls:e}=await import("./OrbitControls-DdcQk7R8.js");return{OrbitControls:e}},__vite__mapDeps([5,1,2])).then(({OrbitControls:e})=>{const n=new e(a,t.domElement);n.target.copy(he.normal.target),n.enableDamping=!0,R.current=n}),ye(e,t),ke();const o=()=>{r=requestAnimationFrame(o),R.current&&R.current.update(),t.render(e,a)};return o(),()=>{cancelAnimationFrame(r),F.current&&t.domElement&&F.current.removeChild(t.domElement),t.dispose()}},[ye,ke]),k.useEffect(()=>{if(z.current&&V.chasis.length>0){const e=me.chasis[W.chasis];e&&V.chasis.forEach(t=>{t.material instanceof d&&(t.material.color=new v(e.hex))}),Object.entries(W.buttons).forEach(([e,t])=>{const n=V.buttons.find(t=>t.name===e);if(n&&me.buttons[t]&&n.material instanceof c){const e=n.material;e.color=new v(me.buttons[t].hex),n.name.toLowerCase().includes("boton")?(e.emissive.setHex(parseInt(me.buttons[t].hex.replace("#",""),16)),e.attenuationColor.setHex(parseInt(me.buttons[t].hex.replace("#",""),16))):n.name.toLowerCase().includes("aro")&&e.attenuationColor.setHex(parseInt(me.buttons[t].hex.replace("#",""),16))}}),Object.entries(W.faders).forEach(([e,t])=>{const n=V.faders.find(t=>t.name===e);n&&me.faders[t]&&n.material instanceof d&&(n.material.color=new v(me.faders[t].hex))})}},[W,me,V]);const[Re,Le]=k.useState("USD"),[ze,_e]=k.useState({referenceCode:`mixo_${Date.now()}`,amount:"200.00",currency:"USD",signature:"",description:"Mixo Configurator",buyerEmail:"customer@email.com"});k.useEffect(()=>{const e=Nt(Re);_e(t=>({...t,amount:e.amount,currency:Re,description:`Mixo Configurator - ${Re} ${e.symbol}${e.amount}`}))},[Re]),k.useEffect(()=>{if(Y){const e=`mixo-${Date.now()}`;_e(t=>({...t,referenceCode:e}))}},[Y]);const[Te,Be]=k.useState([]);return e.jsxs(L,{options:{clientId:"test",currency:"USD"},children:[!$&&window.innerWidth<=768&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col items-center justify-center text-white text-center p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mx-auto mb-4 animate-bounce text-cyan-400",children:[e.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),e.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),e.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]})}),e.jsx("h2",{className:"text-2xl font-bold mb-4 text-cyan-400",children:"Rotate your device!"}),e.jsx("p",{className:"text-lg mb-2",children:"to use the configurator"}),e.jsx("p",{className:"text-base opacity-80",children:"Please turn your device to landscape mode"}),e.jsxs("div",{className:"mt-8 flex items-center space-x-2 text-sm opacity-60",children:[e.jsx("div",{className:"w-8 h-5 border-2 border-current rounded-sm"}),e.jsx("span",{children:"→"}),e.jsx("div",{className:"w-5 h-8 border-2 border-current rounded-sm"})]})]}),e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:-1,backgroundImage:"url(/CONFIGURATOR/textures/fondo.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}}),e.jsxs("div",{className:"w-full h-screen text-gray-200 overflow-hidden relative",style:{background:"transparent"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none",background:"transparent"}}),e.jsx("div",{className:"fixed top-2 md:top-4 z-50 flex items-center gap-2 md:gap-3",style:{left:"-20px"},children:e.jsx("button",{onClick:()=>window.location.href="https://www.crearttech.com/",className:"relative px-3 md:px-5 py-1 md:py-2 rounded-full font-bold text-xs md:text-sm uppercase tracking-wider text-white transition-all duration-300 hover:-translate-y-0.5 bg-gradient-to-r from-cyan-500/20 via-purple-500/20 to-pink-500/20 border border-cyan-500/55",children:e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:[e.jsx("path",{d:"M3 10.5L12 3l9 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M5 9.5V21h14V9.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{children:"Home"})]})})}),e.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 z-10 flex items-center gap-3",children:e.jsx("h1",{className:"text-2xl font-bold leading-none m-0",style:{fontFamily:"Gotham Black, Arial, sans-serif",color:"#fff",letterSpacing:"0.04em"},children:"MIXO"})}),e.jsx("main",{className:"flex w-full h-full",style:{minHeight:"100vh",height:"100vh",position:"relative",zIndex:1,overflow:"hidden",background:"transparent"},children:e.jsxs("div",{className:"flex-grow h-full",style:{position:"relative",zIndex:1,background:"transparent"},children:[e.jsx("div",{ref:F,className:"w-full h-full transition-all duration-300",onClick:Ne,style:{position:"relative",zIndex:1}}),"normal"===B&&e.jsx("button",{onClick:be,className:"fixed bottom-10 left-1/2 transform -translate-x-1/2 z-50 px-6 py-3 text-lg font-bold uppercase tracking-wide text-black bg-purple-400 border-none rounded cursor-pointer transition-all duration-200 shadow-lg hover:bg-yellow-200 hover:scale-105 hover:shadow-xl",children:"Finish and Send Configuration"})]})}),e.jsxs("div",{style:{position:"fixed",top:0,width:"normal"===B?"clamp(80px, 20vw, 112px)":"clamp(300px, 35vw, 360px)",height:"100vh",display:"flex",zIndex:10,transition:"all 0.4s ease",right:window.innerWidth<=768?-35:-20},className:"mobile-panel",children:[e.jsx("div",{style:{width:"clamp(60px, 15vw, 112px)",flexShrink:0,paddingTop:"clamp(20px, 5vh, 160px)"},children:e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(4px, 1vw, 6px)"},children:[{id:"normal",icon:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5M12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17M12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z",title:"Full View - See complete MIDI controller"},{id:"chasis",icon:"mixo.png",title:"Customize Chassis - Change main body color",isImage:!0},{id:"buttons",icon:"M12 1.999c5.524 0 10.002 4.478 10.002 10.002c0 5.523-4.478 10.001-10.002 10.001S1.998 17.524 1.998 12.001C1.998 6.477 6.476 1.999 12 1.999m0 1.5a8.502 8.502 0 1 0 0 17.003A8.502 8.502 0 0 0 12 3.5M11.996 6a5.998 5.998 0 1 1 0 11.996a5.998 5.998 0 0 1 0-11.996",title:"Customize Buttons - Change trigger pad colors"},{id:"knobs",icon:"M9.42 4.074a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56M11.554 8.8a.5.5 0 0 1 0 .707l-1.78 1.78a.5.5 0 1 1-.708-.707l1.78-1.78a.5.5 0 0 1 .708 0 M9.42 15.444c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.03 1.32-3.19 1.32m0-1.1a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82M6.757 5.2a.56.56 0 1 0-.965.567l.465.809l.005.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm5.315.012a.55.55 0 0 1 .761-.206c.277.152.36.5.203.764l-.458.797a.56.56 0 0 1-.478.277a.564.564 0 0 1-.487-.834zm7.598 5.722a.5.5 0 0 1 .5-.5h2.52a.5.5 0 1 1 0 1h-2.52a.5.5 0 0 1-.5-.5 M22.69 15.454c2.49 0 4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52s2.03 4.52 4.52 4.52m0-1.11a3.41 3.41 0 1 1 0-6.82a3.41 3.41 0 0 1 0 6.82m-.56-9.7c0-.308.252-.56.56-.56s.56.252.56.56v.945a.566.566 0 0 1-.56.535a.56.56 0 0 1-.56-.56zm-2.103.566a.557.557 0 0 0-.763-.202a.566.566 0 0 0-.204.753l.468.815l.004.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm6.086-.204a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759a.5.5 0 0 0 .282.077a.6.6 0 0 0 .478-.261l.005-.007l.463-.805a.55.55 0 0 0-.203-.764 M11.93 22.636H9.42a.5.5 0 0 0 0 1h2.51a.5.5 0 1 0 0-1 M4.9 23.136c0 2.49 2.03 4.52 4.52 4.52s4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52m7.93 0a3.41 3.41 0 1 1-6.82 0a3.41 3.41 0 0 1 6.82 0m-3.41-6.86a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56m-3.418.93a.566.566 0 0 1 .755.206l.464.807c.137.258.06.6-.205.753a.53.53 0 0 1-.276.074a.58.58 0 0 1-.478-.261l-.005-.007l-.468-.814a.566.566 0 0 1 .207-.755zm6.08.209a.55.55 0 0 1 .761-.206c.277.151.36.499.203.764l-.462.802a.567.567 0 0 1-.766.194a.55.55 0 0 1-.194-.76zm8.475 3.588a.5.5 0 0 1 .707 0l1.78 1.78a.5.5 0 0 1-.707.707l-1.78-1.78a.5.5 0 0 1 0-.707 M22.69 27.656c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.04 1.32-3.19 1.32m0-1.11a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82 M22.13 16.836c0-.308.252-.56.56-.56s.56.252.56.56v.945a.57.57 0 0 1-.56.545a.56.56 0 0 1-.56-.56zm-2.103.576a.566.566 0 0 0-.755-.206l-.006.003a.565.565 0 0 0-.206.755l.468.814l.004.007a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.074a.566.566 0 0 0 .205-.753z",title:"Customize Knobs - Change rotary control colors"},{id:"faders",icon:"fader.png",isImage:!0,title:"Customize Faders - Change slider control colors"}].map(({id:t,icon:n,title:a,isImage:r})=>e.jsx("button",{onClick:()=>Ie(t),style:{width:"clamp(40px, 10vw, 70px)",height:"clamp(40px, 10vw, 70px)",padding:"clamp(4px, 1vw, 8px)",aspectRatio:"1 / 1",border:"2px solid #00FFFF",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",transition:"all 0.3s ease",color:"white",cursor:"pointer",background:B===t?"linear-gradient(to bottom right, #00FFFF, #0080FF)":"linear-gradient(to bottom right, #000000, #1a1a1a)",boxShadow:B===t?"0 10px 15px -3px rgba(0, 0, 0, 0.1)":"none"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(to bottom right, #00FFFF, #0080FF)",e.currentTarget.style.boxShadow="0 10px 15px -3px rgba(0, 0, 0, 0.1)";const t=document.createElement("div");t.className="custom-tooltip",t.textContent=a,t.style.cssText=`\n                      position: fixed;\n                      left: ${e.clientX-20}px;\n                      top: ${e.clientY-20}px;\n                      transform: translateX(-100%);\n                      background: #8503adcc;\n                      color: white;\n                      padding: 12px 16px;\n                      border-radius: 8px;\n                      font-size: 14px;\n                      font-weight: bold;\n                      white-space: nowrap;\n                      z-index: 999999;\n                      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n                      border: 2px solid #f87171;\n                      pointer-events: none;\n                    `,t.id="temp-tooltip",document.body.appendChild(t)},onMouseLeave:e=>{B!==t&&(e.currentTarget.style.background="linear-gradient(to bottom right, #000000, #1a1a1a)",e.currentTarget.style.boxShadow="none");const n=document.getElementById("temp-tooltip");n&&n.remove()},children:r?e.jsx("img",{src:`textures/${n}`,alt:a,style:{width:"clamp(20px, 5vw, 40px)",height:"clamp(20px, 5vw, 40px)",objectFit:"contain",margin:"auto",filter:"faders"===t?"brightness(1.5) contrast(1.3) saturate(1.2) drop-shadow(0 0 6px rgba(0, 255, 255, 0.5))":"none",backgroundColor:"faders"===t?"rgba(0, 0, 0, 0.1)":"transparent"},onError:e=>{}}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"chasis"===t||"knobs"===t?"0 0 32 32":"0 0 24 24",style:{width:"clamp(20px, 5vw, 40px)",height:"clamp(20px, 5vw, 40px)",fill:"white",color:"white",margin:"auto"},fill:"#fff",children:e.jsx("path",{d:n})})},t))})}),e.jsxs("div",{style:{flex:1,padding:"normal"===B?"clamp(4px, 1vw, 8px)":"clamp(12px, 2vw, 16px)",display:"flex",flexDirection:"column",background:"normal"===B?"transparent":"rgba(17, 24, 39, 0.65)",borderLeft:"normal"===B?"none":"1px solid #4b5563",backdropFilter:"normal"===B?void 0:"blur(6px)",overflowY:"normal"===B?"visible":"auto"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",paddingBottom:"clamp(12px, 3vw, 20px)",borderBottom:"1px solid #4b5563",paddingLeft:0,justifyContent:"center",gap:"normal"===B?0:"clamp(4px, 1vw, 8px)",minHeight:"normal"===B?"clamp(40px, 10vw, 48px)":"auto"},children:e.jsx("img",{src:"/CONFIGURATOR/models/logo.png",alt:"Logo",style:{height:"normal"===B?"clamp(20px, 5vw, 24px)":"clamp(28px, 7vw, 32px)",width:"auto",filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}})}),"normal"!==B&&e.jsxs("div",{style:{marginTop:"clamp(12px, 2.5vw, 20px)"},className:"animate-fadeIn",children:[e.jsx("p",{style:{fontWeight:900,fontSize:"clamp(12px, 3vw, 16px)",letterSpacing:"0.05em",textTransform:"uppercase",margin:"0 0 clamp(10px, 2vw, 14px) 0",color:"#e5e7eb",textAlign:"left"},className:"animate-fadeIn",children:(()=>{switch(B){case"chasis":return"CHOOSE THE CHASSIS COLOR";case"buttons":return"CUSTOMIZE THE BUTTONS";case"knobs":return"CUSTOMIZE THE KNOBS";case"faders":return"CUSTOMIZE THE FADERS";default:return"CHOOSE A COLOR"}})()}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",rowGap:"5px",columnGap:"0px",padding:0,justifyItems:"start",marginLeft:H?"-24px":"35px",transform:H?"translateX(-36px)":"none",transition:"transform 150ms ease"},className:"animate-scaleIn",children:Object.entries((()=>{switch(B){case"chasis":return me.chasis;case"buttons":return me.buttons;case"knobs":return me.knobs;case"faders":return me.faders;default:return{}}})()).map(([t,n],a)=>e.jsx("div",{style:{width:"clamp(30px, 7vw, 44px)",height:"clamp(30px, 7vw, 44px)",borderRadius:"50%",cursor:"pointer",border:"1px solid #a259ff",boxShadow:"0 0 6px 1px rgba(162, 89, 255, 0.33)",transition:"transform 0.15s ease, margin-left 0.15s ease",backgroundColor:n.hex,animationDelay:40*a+"ms",marginLeft:"0px"},title:t,onClick:()=>Oe(t,n),onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.07)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)"},className:"animate-fadeInUp"},t))})]}),(Q.length>0||te.length>0||ae.length>0)&&e.jsxs("div",{style:{marginBottom:"clamp(16px, 4vw, 24px)",padding:"clamp(8px, 2vw, 16px)",background:"#1f2937",borderRadius:"8px"},children:[e.jsxs("h4",{style:{fontSize:"clamp(12px, 3vw, 18px)",fontWeight:600,color:"white",marginBottom:"clamp(4px, 1vw, 8px)"},children:["Selección múltiple (",Q.length+te.length+ae.length," elementos)"]}),e.jsx("p",{style:{color:"#d1d5db",fontSize:"clamp(10px, 2vw, 14px)"},children:"Haz clic en un color para aplicarlo a todos los elementos seleccionados"})]})]})]}),oe&&e.jsxs("div",{className:"fixed bg-black bg-opacity-90 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap z-[9999] border border-[#00FFFF] shadow-lg pointer-events-none",style:{left:ue.x-10,top:ue.y-50,transform:"translateX(-100%)"},children:["Cambia el color de tu chasis",e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-black border-t-opacity-90"})]}),ie&&e.jsxs("div",{className:"fixed bg-black bg-opacity-90 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap z-[9999] border border-[#00FFFF] shadow-lg pointer-events-none",style:{left:ue.x-10,top:ue.y-50,transform:"translateX(-100%)"},children:["Cambia el color de tus knobs",e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-black border-t-opacity-90"})]}),ce&&e.jsxs("div",{className:"fixed bg-black bg-opacity-90 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap z-[9999] border border-[#00FFFF] shadow-lg pointer-events-none",style:{left:ue.x-10,top:ue.y-50,transform:"translateX(-100%)"},children:["Cambia el color de tus faders",e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-black border-t-opacity-90"})]}),Y&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:e.jsxs("div",{className:"relative bg-[#3a4060] rounded-2xl shadow-2xl border-2 border-[#a259ff] p-4 md:py-4 md:px-8 w-full max-w-4xl mx-4 animate-fade-in",children:[e.jsx("button",{onClick:()=>X(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-pink-400 text-2xl font-bold",children:"×"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-purple-400 mb-4 text-center tracking-widest",children:"PAGO SEGURO - MIXO"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center mb-4",children:[e.jsx("div",{className:"w-full max-w-[320px] md:max-w-[380px] aspect-[4/3] flex items-center justify-center ml-16 md:ml-24",children:J&&e.jsx("img",{src:J,alt:"Custom controller",className:"w-full h-full object-contain",style:{background:"none",boxShadow:"none",border:"none"}})}),e.jsxs("div",{className:"flex-1 mt-8 md:mt-0",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2 text-cyan-400",children:"Tu configuración:"}),e.jsxs("ul",{className:"text-base space-y-1",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Chasis:"})," ",W.chasis]}),e.jsxs("li",{children:[e.jsx("b",{children:"Buttons:"})," ",Object.values(W.buttons).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Knobs:"})," ",Object.values(W.knobs).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Faders:"})," ",Object.values(W.faders).join(", ")||"Default"]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-cyan-400",children:"Select your currency:"}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx("button",{onClick:()=>Le("USD"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("USD"===Re?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"USD $200.00"}),e.jsx("button",{onClick:()=>Le("COP"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("COP"===Re?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"COP $800,000"})]}),e.jsxs("p",{className:"text-center text-sm text-gray-400 mt-2",children:["Selected price: ",Re," ",Nt(Re).symbol,Nt(Re).amount]})]}),e.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[e.jsx("div",{className:"w-full py-3 rounded-lg bg-gray-600 text-gray-400 font-bold text-lg text-center",children:"PayPal temporarily unavailable"}),e.jsxs("button",{onClick:()=>{const e="payu_checkout";if(!window.open("",e))return void alert("Please allow popups to continue with payment");const t=Nt(Re),n=`${Ct}~${Ft}~${ze.referenceCode}~${t.amount}~${Re}`,a=_(n).toString(),r=document.createElement("form");r.method="POST",r.action=t.url,r.target=e;const o={merchantId:Ft,accountId:t.accountId,description:`Mixo Configurator - ${Re} ${t.symbol}${t.amount}`,referenceCode:ze.referenceCode,amount:t.amount,currency:Re,buyerEmail:ze.buyerEmail,signature:a,test:"1",confirmationUrl:kt,responseUrl:Et,lng:t.language,extra1:"Mixo",extra2:W.chasis||"Custom",extra3:`Applied colors - Faders: ${Object.keys(W.faders||{}).length}`,extra4:`Mixo Configurator - ${Re} ${t.symbol}${t.amount}`,payerCountry:"CO",payerCity:"Bogota",payerPhone:"+57-300-1234567",country:"CO",ipAddress:"8.8.4.4"};Object.entries(o).forEach(([e,t])=>{const n=document.createElement("input");n.type="hidden",n.name=e,n.value=t,r.appendChild(n)}),document.body.appendChild(r),r.submit(),document.body.removeChild(r)},className:"w-full py-3 rounded-lg bg-gradient-to-r from-green-400 to-cyan-400 text-white font-bold text-lg shadow-[0_0_12px_2px_#0ff580] hover:scale-105 transition-all mt-2",children:["Pay with PayU (",Re," ",Nt(Re).symbol,Nt(Re).amount,")"]})]})]})})]})]})},Bt=Object.freeze(Object.defineProperty({__proto__:null,default:Tt},Symbol.toStringTag,{value:"Module"})),Dt=({className:t="",style:n={}})=>{const[a,r]=k.useState(!1),[o]=k.useState(Date.now());return k.useEffect(()=>{const e=setTimeout(()=>{r(!0)},4100);return()=>clearTimeout(e)},[]),e.jsxs("div",{className:t,style:n,children:[e.jsx(_t,{isVisible:!a}),e.jsx("div",{style:{width:"100%",height:"100%",opacity:a?1:0},children:e.jsx(Tt,{})})]})},Mt=Object.freeze(Object.defineProperty({__proto__:null,default:Dt},Symbol.toStringTag,{value:"Module"})),At=({isVisible:t,onComplete:n})=>{const[a,r]=k.useState(0),[o]=k.useState(Date.now()),[s,i]=k.useState(!1),[l,c]=k.useState(!1),d=k.useRef(null);return k.useEffect(()=>{if(t){const e=setInterval(()=>{const t=Date.now()-o,a=Math.min(t/4100*100,100);r(e=>Math.abs(e-a)>=1||a>=100?a:e),a>=100&&(clearInterval(e),d.current&&(d.current.pause(),d.current.currentTime=0),null==n||n())},100);return()=>clearInterval(e)}r(0)},[t,o]),k.useEffect(()=>{if(d.current&&t){const e=d.current;e.playbackRate=1,e.volume=0;const t=()=>{c(!0),e.play().catch(e=>{i(!0)})},n=e=>{i(!0)},a=()=>{},r=()=>{},o=()=>{},s=()=>{};return e.addEventListener("canplay",t),e.addEventListener("error",n),e.addEventListener("loadstart",a),e.addEventListener("loadeddata",r),e.addEventListener("waiting",o),e.addEventListener("playing",s),e.load(),()=>{e.removeEventListener("canplay",t),e.removeEventListener("error",n),e.removeEventListener("loadstart",a),e.removeEventListener("loadeddata",r),e.removeEventListener("waiting",o),e.removeEventListener("playing",s)}}if(d.current&&!t){const e=d.current;e.pause(),e.currentTime=0,c(!1),i(!1)}},[t]),e.jsx(S,{children:t&&e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:9999,color:"white",fontFamily:"Arial, sans-serif",overflow:"hidden"},children:[e.jsxs("video",{ref:d,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:-2},muted:!0,loop:!0,playsInline:!0,preload:"metadata",crossOrigin:"anonymous",autoPlay:!0,children:[e.jsx("source",{src:"/CONFIGURATOR/videos/video.mp4",type:"video/mp4"}),e.jsx("img",{src:"/CONFIGURATOR/textures/carga.jpg",alt:"Loading background",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})]}),e.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:-1}}),e.jsx(N.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},style:{fontSize:"32px",fontWeight:"bold",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 20px #00FFFF, 0 0 40px #00FFFF, 0 0 60px #00FFFF",position:"relative",zIndex:1},children:"LOOPO"}),e.jsx(N.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeOut"},style:{fontSize:"18px",fontWeight:"bold",marginBottom:"40px",color:"#FFFFFF",textShadow:"0 0 15px #FFFFFF, 0 0 30px #FFFFFF",position:"relative",zIndex:1},children:"Features: Loop controller with 4 assignable buttons and LED indicators."}),e.jsx(N.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},style:{width:"100px",height:"100px",border:"6px solid rgba(0, 255, 255, 0.3)",borderTop:"6px solid #00FFFF",borderRadius:"50%",marginBottom:"40px",boxShadow:"0 0 30px rgba(0, 255, 255, 0.8), 0 0 60px rgba(0, 255, 255, 0.4)",position:"relative",zIndex:1}}),e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},style:{fontSize:"20px",fontWeight:"bold",textAlign:"center",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 15px #00FFFF, 0 0 30px #00FFFF",position:"relative",zIndex:1},children:["Cargando LOOPO... ",Math.round(a),"%"]}),a>=100&&e.jsx(N.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.8},style:{fontSize:"18px",color:"#00FF80",fontWeight:"bold",marginBottom:"30px",textShadow:"0 0 15px #00FF80, 0 0 30px #00FF80",position:"relative",zIndex:1},children:"¡LOOPO listo para configurar!"}),e.jsx(N.div,{style:{width:"400px",height:"8px",backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:"4px",overflow:"hidden",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.3)",marginBottom:"40px",position:"relative",zIndex:1},children:e.jsx(N.div,{initial:{width:0},animate:{width:`${a}%`},transition:{duration:.1,ease:"linear"},style:{width:"100%",height:"100%",background:"linear-gradient(90deg, #00FFFF, #00CCFF, #00FFFF)",borderRadius:"4px",boxShadow:"0 0 20px rgba(0, 255, 255, 0.8), 0 0 40px rgba(0, 255, 255, 0.4)",backgroundSize:"200% 100%",animation:"shimmer 2s infinite"}})}),e.jsx(N.div,{style:{display:"flex",gap:"12px",marginTop:"20px",position:"relative",zIndex:1},children:[0,1,2].map(t=>e.jsx(N.div,{animate:{scale:[1,1.3,1],opacity:[.4,1,.4]},transition:{duration:2,repeat:1/0,delay:.3*t,ease:"easeInOut"},style:{width:"12px",height:"12px",backgroundColor:"#00FFFF",borderRadius:"50%",boxShadow:"0 0 15px rgba(0, 255, 255, 0.8), 0 0 30px rgba(0, 255, 255, 0.4)"}},t))}),e.jsx("style",{children:"\n            @keyframes shimmer {\n              0% { background-position: -200% 0; }\n              100% { background-position: 200% 0; }\n            }\n          "})]})})},$t=({onProductChange:t})=>{const a=k.useRef(null),r=k.useRef(null),v=k.useRef(null),F=k.useRef(null),E=k.useRef(null),S=k.useRef(null),[N,R]=k.useState("normal"),[L,z]=k.useState(null),[_,T]=k.useState(!1),[B,D]=k.useState(()=>window.innerWidth<=768);k.useEffect(()=>{const e=()=>{T(window.innerWidth>window.innerHeight)},t=()=>{D(window.innerWidth<=768)};return e(),t(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),window.addEventListener("resize",t),window.addEventListener("orientationchange",t),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e),window.removeEventListener("resize",t),window.removeEventListener("orientationchange",t)}},[]);const[M,A]=k.useState(()=>{const e=localStorage.getItem("loopo_chosenColors");if(e)try{return JSON.parse(e)}catch(Jt){}return{type:"configUpdate",chasis:"Gris",knobs:{}}}),[$,P]=k.useState({chasis:[],knobs:[]}),[H,U]=k.useState(null),[W,G]=k.useState([]),V=k.useCallback((e,t=0)=>{var n;e&&(null==(n=e.material)?void 0:n.emissive)&&e.material.emissive.setHex(t)},[]),K={chasis:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},knobs:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}}},Y={normal:{pos:new p(2,1,0),target:new p(0,-.3,0)},top:{pos:new p(1,1.95,-.3),target:new p(-.35,-1,-.3)}},X=k.useCallback((e,t)=>{const n=new o(16777215,.6);e.add(n);const a=new s(16777215,1.5);a.position.set(5,4,-1),a.castShadow=!0,a.shadow.mapSize.width=4096,a.shadow.mapSize.height=4096,a.shadow.camera.near=.5,a.shadow.camera.far=50,a.shadow.normalBias=.02,a.shadow.bias=-.001,e.add(a);const r=new s(10079487,.8);r.position.set(-8,3,-9),e.add(r);const l=new s(10079487,.8);l.position.set(-8,3,15),e.add(l);const c=new i(16777215,.5,.5);c.position.set(0,5,5),e.add(c);const d=new s(16777215,1);d.position.set(-5,30,0),d.castShadow=!0,d.shadow.mapSize.width=2048,d.shadow.mapSize.height=2048,d.shadow.camera.near=.5,d.shadow.camera.far=50,d.shadow.normalBias=.02,d.shadow.bias=-.001,e.add(d);const u=new y(16777215,.3,10,Math.PI/6,.5);u.position.set(0,8,2),u.target.position.set(0,0,0),e.add(u),e.add(u.target)},[]),J=k.useCallback(e=>{const t=(new u).setFromObject(e),n=t.getSize(new p),a=t.getCenter(new p),r=1.8/Math.max(n.x,n.y,n.z);e.scale.set(r,r,r),e.position.copy(a).multiplyScalar(-r),e.position.y-=n.y/2*r},[]),Z=k.useCallback(e=>{const t={chasis:[],knobs:[]};let n={type:"configUpdate",chasis:"Gris",knobs:{}};try{const e=localStorage.getItem("loopo_chosenColors");if(e){const t=JSON.parse(e);t&&"object"==typeof t&&(n={type:"configUpdate",chasis:t.chasis||"Gris",knobs:t.knobs||{}})}}catch(Jt){}e.traverse(e=>{var a;if(!(e instanceof l))return;e.castShadow=!0,e.receiveShadow=!0;const r="string"==typeof e.name?e.name.toLowerCase():"";if(r.includes("cubechasis"))e.material=new c({color:K.chasis[n.chasis]?K.chasis[n.chasis].hex:K.chasis.Gris.hex,metalness:.8,roughness:.35,clearcoat:.85,clearcoatRoughness:.1}),t.chasis.push(e),n.chasis=n.chasis||"Gris";else if(r.includes("aro"))e.material=new c({color:0,metalness:0,roughness:.2,clearcoat:.8,clearcoatRoughness:.1,reflectivity:.5,transmission:.3,thickness:.5,ior:1.4,attenuationDistance:1,attenuationColor:16777215,transparent:!0,opacity:.7}),t.buttons.push(e),newChosenColors.buttons[e.name]="Negro";else if(r.includes("knob")&&(null==(a=e.material)?void 0:a.color)){const a=e.material;if((a.color.r+a.color.g+a.color.b)/3<.5){const a=n.knobs[e.name],r=a&&K.knobs[a]?a:"Negro";e.material=new d({color:K.knobs[r].hex,metalness:0,roughness:1}),t.knobs.push(e),n.knobs[e.name]=r}else e.material=new d({color:16777215})}}),P(t),A(n)},[]),q=k.useCallback(async()=>{try{const{GLTFLoader:e}=await n(async()=>{const{GLTFLoader:e}=await import("./GLTFLoader-DIUHo4Jg.js");return{GLTFLoader:e}},__vite__mapDeps([4,1,2]));(new e).load("/CONFIGURATOR/models/loopo.glb",e=>{var t;const n=e.scene;S.current=n,Z(n),J(n),null==(t=r.current)||t.add(n),modelOriginalPositionRef.current||(modelOriginalPositionRef.current=n.position.clone());n.traverse(e=>{e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&e.material&&"color"in e.material&&e.material.color.setHex(1842204),e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&(e.material=e.material.clone())})},void 0,e=>{})}catch(e){}},[Z,J]);k.useEffect(()=>{if(!a.current)return;const e=new m;e.background=null,e.fog=new j(0,10,50),r.current=e;const t=new h({antialias:!0,alpha:!0,preserveDrawingBuffer:!0,powerPreference:"high-performance"});t.setSize(a.current.clientWidth,a.current.clientHeight),t.setPixelRatio(Math.min(window.devicePixelRatio,3)),t.outputColorSpace=x,t.shadowMap.enabled=!0,t.shadowMap.type=f,t.toneMapping=C,t.toneMappingExposure=1.2,v.current=t,a.current.appendChild(t.domElement);const o=new g(35,a.current.clientWidth/a.current.clientHeight,.1,200);let s;o.position.copy(Y.normal.pos),F.current=o,n(async()=>{const{OrbitControls:e}=await import("./OrbitControls-DdcQk7R8.js");return{OrbitControls:e}},__vite__mapDeps([5,1,2])).then(({OrbitControls:e})=>{const n=new e(o,t.domElement);n.target.copy(Y.normal.target),n.enableDamping=!0,n.dampingFactor=.05,n.minDistance=2,n.maxDistance=5,n.enablePan=!1,E.current=n}),X(e,t),q();const i=()=>{s=requestAnimationFrame(i),E.current&&E.current.update(),t.render(e,o)};return i(),()=>{s&&cancelAnimationFrame(s),a.current&&t.domElement&&a.current.removeChild(t.domElement),t.dispose()}},[X,q]),k.useEffect(()=>{const e=()=>{if(a.current&&F.current&&v.current){const e=a.current.clientWidth,t=a.current.clientHeight;F.current.aspect=e/t,F.current.updateProjectionMatrix(),v.current.setSize(e,t)}};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),k.useEffect(()=>{localStorage.setItem("loopo_currentView",N)},[N]),k.useEffect(()=>{localStorage.setItem("loopo_chosenColors",JSON.stringify(M))},[M]),k.useEffect(()=>{if($.chasis.length>0||$.knobs.length>0){if(M.chasis&&K.chasis[M.chasis]){const e=K.chasis[M.chasis].hex;$.chasis.forEach(t=>{t.material&&"color"in t.material&&t.material.color.setHex(parseInt(e.replace("#",""),16))})}Object.entries(M.knobs).forEach(([e,t])=>{if(K.knobs[t]){const n=K.knobs[t].hex,a=$.knobs.find(t=>t.name===e);a&&a.material&&"color"in a.material&&a.material.color.setHex(parseInt(n.replace("#",""),16))}})}},[$,M]);const Q=k.useCallback(e=>{if(R(e),"chasis"===e&&$.chasis.length>0?z($.chasis[0]):z(null),"normal"===e&&(L&&V(L,0),W.forEach(e=>V(e,0)),G([]),z(null)),!F.current||!E.current)return;let t,n;"normal"===e?(t=Y.normal,n=!0):(t=Y.top,n=!1),E.current.enabled=n,O.to(F.current.position,{duration:1.2,ease:"power3.inOut",...t.pos}),O.to(E.current.target,{duration:1.2,ease:"power3.inOut",...t.target,onUpdate:()=>E.current.update()})},[$,L,W,V]);k.useCallback(e=>{if(!L)return;const t=L.name.toLowerCase();let n=null,a=null;if(t.includes("cubechasis")?(n=K.chasis,a="chasis"):t.includes("knob")&&(n=K.knobs,a=L.name),n&&a&&n[e]){const t=n[e].hex;L.material&&"color"in L.material&&L.material.color.setHex(parseInt(t.replace("#",""),16)),A(t=>({...t,["chasis"===a?"chasis":"knobs"]:"chasis"===a?e:{...t.knobs,[a]:e}}))}},[L]);const ee=k.useCallback(e=>{if(!F.current||!v.current)return;if("chasis"===N)return void z(null);const t=new b,n=new w,a=v.current.domElement.getBoundingClientRect();n.x=(e.clientX-a.left)/a.width*2-1,n.y=-(e.clientY-a.top)/a.height*2+1,t.setFromCamera(n,F.current);let r=[];if(("knobs"===N||"normal"===N)&&(r=$.knobs),0===r.length)return;const o=t.intersectObjects(r,!1);if(o.length>0){const e=o[0].object;if("normal"===N)return;"knobs"===N?(z(null),G(t=>{const n=t.includes(e)?t.filter(t=>t!==e):[...t,e];return $.knobs.forEach(e=>V(e,0)),n.forEach(e=>V(e,4473924)),n})):(G([]),z(e),V(e,4473924))}else z(null),G([])},[N,$,V]),te=k.useCallback((e,t)=>{if("chasis"===N)A(t=>({...t,chasis:e})),$.chasis.forEach(e=>{e.material&&"color"in e.material&&e.material.color.setHex(parseInt(t.hex.replace("#",""),16))});else if("knobs"===N&&W.length>0){const n={...M,knobs:{...M.knobs}};W.forEach(a=>{a.material&&"color"in a.material&&a.material.color.setHex(parseInt(t.hex.replace("#",""),16)),n.knobs[a.name]=e}),A(n),W.forEach(e=>V(e,0)),G([])}else"knobs"===N&&L&&(A(t=>({...t,knobs:{...t.knobs,[L.name]:e}})),L.material&&"color"in L.material&&L.material.color.setHex(parseInt(t.hex.replace("#",""),16)))},[N,$,L,W,M,V]),ne=k.useCallback(()=>{if(!(v.current&&F.current&&E.current&&r.current))return null;const e=v.current,t=F.current,n=E.current,a=t.position.clone(),o=n.target.clone(),s=n.enabled;t.position.copy(Y.normal.pos),n.target.copy(Y.normal.target),n.enabled=!1,n.update(),e.render(r.current,t);let i=null;try{i=e.domElement.toDataURL("image/png")}catch(Jt){}return t.position.copy(a),n.target.copy(o),n.enabled=s,n.update(),e.render(r.current,t),i},[]),ae=k.useCallback(async()=>{const e=ne();e&&U(e);try{const t={product:"loopo",chassis:M.chasis,knobs:M.knobs,screenshot:e||null,savedAt:(new Date).toISOString()};localStorage.setItem("loopo_last_summary",JSON.stringify(t))}catch(Jt){}const t={Verde:"Green",Amarillo:"Yellow",Azul:"Blue",Blanco:"White",Naranja:"Orange",Morado:"Purple",Rojo:"Red",Negro:"Black",Rosa:"Pink",Gris:"Gray"},a=e=>t[e]||e,r=Object.entries(M.knobs||{}),o=r.length?r.map(([e,t])=>{return`<li style="margin:4px 0"><strong>${n=e,n.replace(/_1\b/gi,"")}</strong>: ${a(t)}</li>`;var n}).join(""):"<li>Default</li>",s=`\n      <div style="display:flex; flex-direction:column; gap:12px; text-align:left;">\n        <div style="display:flex; gap:16px; align-items:flex-start;">\n          ${e?`<img src="${e}" alt="Screenshot" style="width:280px; height:auto; border-radius:8px; border:1px solid #4b5563"/>`:'<div style="width:280px;height:180px;display:flex;align-items:center;justify-content:center;border:1px solid #4b5563;border-radius:8px;">No screenshot</div>'}\n          <div style="flex:1">\n            <p style="margin:0 0 8px 0"><strong>Chassis:</strong> ${a(M.chasis)}</p>\n            <p style="margin:0 0 6px 0"><strong>Knobs:</strong></p>\n            <ul style="margin:0; padding-left:16px;">${o}</ul>\n          </div>\n        </div>\n      </div>`;if((await I.fire({title:"Configuration Summary",html:s,width:860,background:"#0b1220",color:"#e5e7eb",showCancelButton:!0,showDenyButton:!0,confirmButtonText:"Send by email",denyButtonText:"Download image",cancelButtonText:"Close",focusConfirm:!1,allowOutsideClick:!1,preDeny:async()=>{var e,t;try{const a=null==(t=(e=I).getPopup)?void 0:t.call(e);if(!a)return;const{default:r}=await n(async()=>{const{default:e}=await import("./ui-BPY6V10C.js");return{default:e}},[]),o=(await r(a,{background:"#0b1220"})).toDataURL("image/png"),s=document.createElement("a");s.href=o,s.download="resumen-configuracion-loopo.png",document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(Jt){}},customClass:{popup:"swal2-border-radius",confirmButton:"swal2-confirm-custom",denyButton:"swal2-deny-custom",cancelButton:"swal2-cancel-custom"}})).isConfirmed){const e="tu-email-de-negocio@ejemplo.com",t="Configuración de Loopo",n=`\nHola,\n\nEsta es mi configuración para el Loopo:\n\n- Chasis: ${M.chasis}\n- Knobs: ${Object.entries(M.knobs).map(([e,t])=>`${e}: ${t}`).join(", ")||"Default"}\n\n(Adjunto la imagen descargada desde el configurador)\n`,a=`mailto:${e}?subject=${encodeURIComponent(t)}&body=${encodeURIComponent(n)}`;window.location.href=a}},[M,ne]);return e.jsxs("div",{children:[!_&&window.innerWidth<=768&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col items-center justify-center text-white text-center p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mx-auto mb-4 animate-bounce text-cyan-400",children:[e.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),e.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),e.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]})}),e.jsx("h2",{className:"text-2xl font-bold mb-4 text-cyan-400",children:"Rotate your device!"}),e.jsx("p",{className:"text-lg mb-2",children:"to use the configurator"}),e.jsx("p",{className:"text-base opacity-80",children:"Please turn your device to landscape mode"}),e.jsxs("div",{className:"mt-8 flex items-center space-x-2 text-sm opacity-60",children:[e.jsx("div",{className:"w-8 h-5 border-2 border-current rounded-sm"}),e.jsx("span",{children:"→"}),e.jsx("div",{className:"w-5 h-8 border-2 border-current rounded-sm"})]})]}),e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:-1,backgroundImage:"url(/CONFIGURATOR/textures/fondo.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}}),e.jsxs("div",{className:"w-full h-screen text-gray-200 overflow-hidden relative",style:{background:"transparent"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none",background:"transparent"}}),e.jsx("div",{className:"fixed top-2 md:top-4 z-50 flex items-center gap-2 md:gap-3",style:{left:"-20px"},children:e.jsx("button",{onClick:()=>window.location.href="https://www.crearttech.com/",className:"relative px-3 md:px-5 py-1 md:py-2 rounded-full font-bold text-xs md:text-sm uppercase tracking-wider text-white transition-all duration-300 hover:-translate-y-0.5 bg-gradient-to-r from-cyan-500/20 via-purple-500/20 to-pink-500/20 border border-cyan-500/55",children:e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:[e.jsx("path",{d:"M3 10.5L12 3l9 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M5 9.5V21h14V9.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{children:"Home"})]})})}),e.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 z-10 flex items-center gap-3",children:e.jsx("h1",{className:"text-2xl font-bold leading-none m-0",style:{fontFamily:"Gotham Black, Arial, sans-serif",color:"#fff",textShadow:"0 0 12px #a259ff, 0 0 24px #0ff, 0 0 2px #fff",letterSpacing:"0.04em"},children:"LOOPO"})}),e.jsx("main",{className:"flex w-full h-full",style:{minHeight:"100vh",height:"100vh",position:"relative",zIndex:1,overflow:"hidden",background:"transparent"},children:e.jsx("div",{className:"flex-grow h-full",style:{position:"relative",zIndex:1,background:"transparent"},children:e.jsx("div",{ref:a,className:"w-full h-full transition-all duration-300",onClick:ee,style:{position:"relative",zIndex:1}})})}),e.jsxs("div",{style:{position:"fixed",top:0,width:"normal"===N?"clamp(80px, 20vw, 112px)":"clamp(300px, 35vw, 360px)",height:"100vh",display:"flex",zIndex:10,transition:"all 0.4s ease",right:B?-35:-20},className:"mobile-panel",children:[e.jsx("div",{style:{width:"clamp(60px, 15vw, 112px)",flexShrink:0,paddingTop:"clamp(30px, 8vh, 100px)"},children:e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(4px, 1vw, 6px)"},children:[{id:"normal",icon:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5M12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17M12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z",title:"Full View - See complete MIDI controller"},{id:"chasis",icon:"loopo.png",title:"Customize Chassis - Change main body color",isImage:!0},{id:"knobs",icon:"M9.42 4.074a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56M11.554 8.8a.5.5 0 0 1 0 .707l-1.78 1.78a.5.5 0 1 1-.708-.707l1.78-1.78a.5.5 0 0 1 .708 0 M9.42 15.444c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.03 1.32-3.19 1.32m0-1.1a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82M6.757 5.2a.56.56 0 1 0-.965.567l.465.809l.005.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm5.315.012a.55.55 0 0 1 .761-.206c.277.152.36.5.203.764l-.458.797a.56.56 0 0 1-.478.277a.564.564 0 0 1-.487-.834zm7.598 5.722a.5.5 0 0 1 .5-.5h2.52a.5.5 0 1 1 0 1h-2.52a.5.5 0 0 1-.5-.5 M22.69 15.454c2.49 0 4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52s2.03 4.52 4.52 4.52m0-1.11a3.41 3.41 0 1 1 0-6.82a3.41 3.41 0 0 1 0 6.82m-.56-9.7c0-.308.252-.56.56-.56s.56.252.56.56v.945a.566.566 0 0 1-.56.535a.56.56 0 0 1-.56-.56zm-2.103.566a.557.557 0 0 0-.763-.202a.566.566 0 0 0-.204.753l.468.815l.004.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm6.086-.204a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759a.5.5 0 0 0 .282.077a.6.6 0 0 0 .478-.261l.005-.007l.463-.805a.55.55 0 0 0-.203-.764 M11.93 22.636H9.42a.5.5 0 0 0 0 1h2.51a.5.5 0 1 0 0-1 M4.9 23.136c0 2.49 2.03 4.52 4.52 4.52s4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52m7.93 0a3.41 3.41 0 1 1-6.82 0a3.41 3.41 0 0 1 6.82 0m-3.41-6.86a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56m-3.418.93a.566.566 0 0 1 .755.206l.464.807c.137.258.06.6-.205.753a.53.53 0 0 1-.276.074a.58.58 0 0 1-.478-.261l-.005-.007l-.468-.814a.566.566 0 0 1 .207-.755zm6.08.209a.55.55 0 0 1 .761-.206c.277.151.36.499.203.764l-.462.802a.567.567 0 0 1-.766.194a.55.55 0 0 1-.194-.76zm8.475 3.588a.5.5 0 0 1 .707 0l1.78 1.78a.5.5 0 0 1-.707.707l-1.78-1.78a.5.5 0 0 1 0-.707 M22.69 27.656c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.04 1.32-3.19 1.32m0-1.11a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82 M22.13 16.836c0-.308.252-.56.56-.56s.56.252.56.56v.945a.57.57 0 0 1-.56.545a.56.56 0 0 1-.56-.56zm-2.103.576a.566.566 0 0 0-.755-.206l-.006.003a.565.565 0 0 0-.206.755l.468.814l.004.007a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.074a.566.566 0 0 0 .205-.753zm6.086-.203a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759a.5.5 0 0 0 .282.077a.6.6 0 0 0 .478-.261l.005-.007l.463-.805a.55.55 0 0 0-.203-.764 M1 5.75A4.75 4.75 0 0 1 5.75 1h20.52a4.75 4.75 0 0 1 4.75 4.75v20.48a4.75 4.75 0 0 1-4.75 4.75H5.75A4.75 4.75 0 0 1 1 26.23zM5.75 3A2.75 2.75 0 0 0 3 5.75v20.48a2.75 2.75 0 0 0 2.75 2.75h20.52a2.75 2.75 0 0 0 2.75-2.75V5.75A2.75 2.75 0 0 0 26.27 3z",title:"Customize Knobs - Change rotary control colors"}].map(({id:t,icon:n,title:a,isImage:r})=>e.jsx("button",{onClick:"faders"===t?void 0:()=>Q(t),style:{width:"clamp(40px, 10vw, 70px)",height:"clamp(40px, 10vw, 70px)",padding:"clamp(4px, 1vw, 8px)",aspectRatio:"1 / 1",border:"2px solid #00FFFF",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",transition:"all 0.3s ease",color:"white",cursor:"faders"===t?"not-allowed":"pointer",background:N===t?"linear-gradient(to bottom right, #00FFFF, #0080FF)":"linear-gradient(to bottom right, #000000, #1a1a1a)",boxShadow:N===t?"0 10px 15px -3px rgba(0, 0, 0, 0.1)":"none"},disabled:"faders"===t,onMouseEnter:e=>{"faders"!==t&&(e.currentTarget.style.background="linear-gradient(to bottom right, #00FFFF, #0080FF)",e.currentTarget.style.boxShadow="0 10px 15px -3px rgba(0, 0, 0, 0.1)");const n=document.createElement("div");n.className="custom-tooltip",n.textContent=a,n.style.cssText=`\n                      position: fixed;\n                      left: ${e.clientX-20}px;\n                      top: ${e.clientY-20}px;\n                      transform: translateX(-100%);\n                      background: #8503adcc;\n                      color: white;\n                      padding: 12px 16px;\n                      border-radius: 8px;\n                      font-size: 14px;\n                      font-weight: bold;\n                      white-space: nowrap;\n                      z-index: 999999;\n                      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n                      border: 2px solid #f87171;\n                      pointer-events: none;\n                    `,n.id="temp-tooltip",document.body.appendChild(n)},onMouseLeave:e=>{"faders"!==t&&N!==t&&(e.currentTarget.style.background="linear-gradient(to bottom right, #000000, #1a1a1a)",e.currentTarget.style.boxShadow="none");const n=document.getElementById("temp-tooltip");n&&n.remove()},children:r?e.jsx("img",{src:`/CONFIGURATOR/textures/${n}`,alt:a,style:{width:"clamp(20px, 5vw, 40px)",height:"clamp(20px, 5vw, 40px)",objectFit:"contain",margin:"auto"},onError:e=>{}}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"knobs"===t?"0 0 32 32":"faders"===t?"0 0 256 256":"0 0 24 24",style:{width:"clamp(20px, 5vw, 40px)",height:"clamp(20px, 5vw, 40px)",fill:"white",color:"white",margin:"auto"},fill:"#fff",children:e.jsx("path",{d:n})})},t))})}),e.jsxs("div",{style:{flex:1,padding:"normal"===N?"clamp(4px, 1vw, 8px)":"clamp(12px, 2vw, 16px)",display:"flex",flexDirection:"column",background:"normal"===N?"transparent":"rgba(17, 24, 39, 0.65)",borderLeft:"normal"===N?"none":"1px solid #4b5563",backdropFilter:"normal"===N?void 0:"blur(6px)",overflowY:"normal"===N?"visible":"auto"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",paddingBottom:"clamp(12px, 3vw, 20px)",borderBottom:"1px solid #4b5563",paddingLeft:0,justifyContent:"center",gap:"normal"===N?0:"clamp(4px, 1vw, 8px)",minHeight:"normal"===N?"clamp(40px, 10vw, 48px)":"auto"},children:e.jsx("img",{src:"/CONFIGURATOR/models/logo.png",alt:"Logo",style:{height:"normal"===N?"clamp(20px, 5vw, 24px)":"clamp(28px, 7vw, 32px)",width:"auto",filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}})}),"normal"!==N&&e.jsxs("div",{style:{marginTop:"clamp(12px, 2.5vw, 20px)"},className:"animate-fadeIn",children:[e.jsx("p",{style:{fontWeight:900,fontSize:"clamp(12px, 3vw, 16px)",letterSpacing:"0.05em",textTransform:"uppercase",margin:"0 0 clamp(10px, 2vw, 14px) 0",color:"#e5e7eb",textAlign:"left"},className:"animate-fadeIn",children:"chasis"===N?"CHASIS":"knobs"===N?"KNOBS":"LOOPO"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",rowGap:"5px",columnGap:"0px",padding:0,justifyItems:"start",marginLeft:B?"-24px":"35px",transform:B?"translateX(-36px)":"none",transition:"transform 150ms ease"},className:"animate-scaleIn",children:Object.entries("chasis"===N?K.chasis:"knobs"===N?K.knobs:K.chasis).map(([t,n],a)=>e.jsx("div",{style:{width:"clamp(30px, 7vw, 44px)",height:"clamp(30px, 7vw, 44px)",borderRadius:"50%",cursor:"pointer",border:"1px solid #a259ff",boxShadow:"0 0 6px 1px rgba(162, 89, 255, 0.33)",transition:"transform 0.15s ease, margin-left 0.15s ease",backgroundColor:n.hex,animationDelay:40*a+"ms",marginLeft:"0px"},title:t,onClick:()=>te(t,n),onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.07)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)"},className:"animate-fadeInUp"},t))})]}),"knobs"===N&&L&&e.jsxs("div",{style:{marginBottom:"clamp(16px, 4vw, 24px)",padding:"clamp(8px, 2vw, 16px)",background:"#1f2937",borderRadius:"8px"},className:"animate-scaleIn",children:[e.jsxs("h4",{style:{fontSize:"clamp(12px, 3vw, 18px)",fontWeight:600,color:"white",marginBottom:"clamp(4px, 1vw, 8px)"},className:"animate-fadeIn",children:["Seleccionado: ",L.name]}),e.jsx("p",{style:{color:"#d1d5db",fontSize:"clamp(10px, 2vw, 14px)"},className:"animate-fadeIn",children:"Haz clic en un color para aplicarlo al knob seleccionado"})]})]})]}),"normal"===N&&e.jsx("button",{onClick:ae,className:"fixed bottom-10 left-1/2 transform -translate-x-1/2 z-50 px-6 py-3 text-lg font-bold uppercase tracking-wide text-black bg-purple-400 border-none rounded cursor-pointer transition-all duración-200 shadow-lg hover:bg-yellow-200 hover:scale-105 hover:shadow-xl shadow-[0_0_8px_2px_#a259ff80,0_0_16px_4px_#0ff5]",children:"Finish and Send Configuration"})]})]})},Pt=Object.freeze(Object.defineProperty({__proto__:null,default:$t},Symbol.toStringTag,{value:"Module"})),Ht=({className:t="",style:n={}})=>{const[a,r]=k.useState(!1),[o]=k.useState(Date.now());return k.useEffect(()=>{const e=setTimeout(()=>{r(!0)},4100);return()=>clearTimeout(e)},[]),e.jsxs("div",{className:t,style:n,children:[e.jsx(At,{isVisible:!a}),e.jsx("div",{style:{width:"100%",height:"100%",opacity:a?1:0},children:e.jsx($t,{})})]})},Ut=Object.freeze(Object.defineProperty({__proto__:null,default:Ht},Symbol.toStringTag,{value:"Module"})),Wt=({isVisible:t,onComplete:n})=>{const[a,r]=k.useState(0),[o]=k.useState(Date.now()),[s,i]=k.useState(!1),[l,c]=k.useState(!1),d=k.useRef(null);return k.useEffect(()=>{if(t){const e=setInterval(()=>{const t=Date.now()-o,a=Math.min(t/4100*100,100);r(e=>Math.abs(e-a)>=1||a>=100?a:e),a>=100&&(clearInterval(e),d.current&&(d.current.pause(),d.current.currentTime=0),null==n||n())},100);return()=>clearInterval(e)}r(0)},[t,o]),k.useEffect(()=>{if(d.current&&t){const e=d.current;e.playbackRate=1,e.volume=0;const t=()=>{c(!0),e.play().catch(e=>{i(!0)})},n=e=>{i(!0)},a=()=>{},r=()=>{},o=()=>{},s=()=>{};return e.addEventListener("canplay",t),e.addEventListener("error",n),e.addEventListener("loadstart",a),e.addEventListener("loadeddata",r),e.addEventListener("waiting",o),e.addEventListener("playing",s),e.load(),()=>{e.removeEventListener("canplay",t),e.removeEventListener("error",n),e.removeEventListener("loadstart",a),e.removeEventListener("loadeddata",r),e.removeEventListener("waiting",o),e.removeEventListener("playing",s)}}if(d.current&&!t){const e=d.current;e.pause(),e.currentTime=0,c(!1),i(!1)}},[t]),e.jsx(S,{children:t&&e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:9999,color:"white",fontFamily:"Arial, sans-serif",overflow:"hidden"},children:[e.jsxs("video",{ref:d,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:-2},muted:!0,loop:!0,playsInline:!0,preload:"metadata",crossOrigin:"anonymous",autoPlay:!0,children:[e.jsx("source",{src:"/CONFIGURATOR/videos/video.mp4",type:"video/mp4"}),e.jsx("img",{src:"/CONFIGURATOR/textures/carga.jpg",alt:"Loading background",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})]}),e.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:-1}}),e.jsx(N.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},style:{fontSize:"32px",fontWeight:"bold",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 20px #00FFFF, 0 0 40px #00FFFF, 0 0 60px #00FFFF",position:"relative",zIndex:1},children:"FADO"}),e.jsx(N.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeOut"},style:{fontSize:"18px",fontWeight:"bold",marginBottom:"40px",color:"#FFFFFF",textShadow:"0 0 15px #FFFFFF, 0 0 30px #FFFFFF",position:"relative",zIndex:1},children:"Features: Compact design with 4 assignable knobs and LED indicators."}),e.jsx(N.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},style:{width:"100px",height:"100px",border:"6px solid rgba(0, 255, 255, 0.3)",borderTop:"6px solid #00FFFF",borderRadius:"50%",marginBottom:"40px",boxShadow:"0 0 30px rgba(0, 255, 255, 0.8), 0 0 60px rgba(0, 255, 255, 0.4)",position:"relative",zIndex:1}}),e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},style:{fontSize:"20px",fontWeight:"bold",textAlign:"center",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 15px #00FFFF, 0 0 30px #00FFFF",position:"relative",zIndex:1},children:["Cargando FADO... ",Math.round(a),"%"]}),a>=100&&e.jsx(N.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.8},style:{fontSize:"18px",color:"#00FF80",fontWeight:"bold",marginBottom:"30px",textShadow:"0 0 15px #00FF80, 0 0 30px #00FF80",position:"relative",zIndex:1},children:"¡FADO listo para configurar!"}),e.jsx(N.div,{style:{width:"400px",height:"8px",backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:"4px",overflow:"hidden",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.3)",marginBottom:"40px",position:"relative",zIndex:1},children:e.jsx(N.div,{initial:{width:0},animate:{width:`${a}%`},transition:{duration:.1,ease:"linear"},style:{width:"100%",height:"100%",background:"linear-gradient(90deg, #00FFFF, #00CCFF, #00FFFF)",borderRadius:"4px",boxShadow:"0 0 20px rgba(0, 255, 255, 0.8), 0 0 40px rgba(0, 255, 255, 0.4)",backgroundSize:"200% 100%",animation:"shimmer 2s infinite"}})}),e.jsx(N.div,{style:{display:"flex",gap:"12px",marginTop:"20px",position:"relative",zIndex:1},children:[0,1,2].map(t=>e.jsx(N.div,{animate:{scale:[1,1.3,1],opacity:[.4,1,.4]},transition:{duration:2,repeat:1/0,delay:.3*t,ease:"easeInOut"},style:{width:"12px",height:"12px",backgroundColor:"#00FFFF",borderRadius:"50%",boxShadow:"0 0 15px rgba(0, 255, 255, 0.8), 0 0 30px rgba(0, 255, 255, 0.4)"}},t))}),e.jsx("style",{children:"\n            @keyframes shimmer {\n              0% { background-position: -200% 0; }\n              100% { background-position: 200% 0; }\n            }\n          "})]})})},Gt=({onProductChange:t})=>{const a=k.useRef(null),r=k.useRef(null),v=k.useRef(null),F=k.useRef(null),E=k.useRef(null),S=k.useRef(null),N=k.useRef(null),[R,L]=k.useState("normal"),[z,_]=k.useState(null),[T,B]=k.useState(!1),[D,M]=k.useState(()=>window.innerWidth<=768);k.useEffect(()=>{const e=()=>{B(window.innerWidth>window.innerHeight)},t=()=>{M(window.innerWidth<=768)};return e(),t(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),window.addEventListener("resize",t),window.addEventListener("orientationchange",t),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e),window.removeEventListener("resize",t),window.removeEventListener("orientationchange",t)}},[]);const[A,$]=k.useState(()=>{const e=localStorage.getItem("fado_chosenColors");if(e)try{return JSON.parse(e)}catch(Jt){}return{type:"configUpdate",chasis:"Gray",faders:{}}}),[P,H]=k.useState({chasis:[],faders:[]}),[U,W]=k.useState([]),G={chasis:{Green:{hex:"#7CBA40"},Yellow:{hex:"#F3E600"},Blue:{hex:"#325EB7"},White:{hex:"#F5F5F5"},Orange:{hex:"#F47119"},Purple:{hex:"#7B217E"},Red:{hex:"#E52421"},Black:{hex:"#1C1C1C"},Pink:{hex:"#FF007F"},Gray:{hex:"#808080"}},faders:{Green:{hex:"#7CBA40"},Yellow:{hex:"#F3E600"},Blue:{hex:"#325EB7"},White:{hex:"#F5F5F5"},Orange:{hex:"#F47119"},Purple:{hex:"#7B217E"},Red:{hex:"#E52421"},Black:{hex:"#1C1C1C"},Pink:{hex:"#FF007F"},Gray:{hex:"#808080"}}},V={normal:{pos:new p(2,1,-.1),target:new p(0,-.3,-.1)},top:{pos:new p(1,1.65,-.3),target:new p(-.35,-.9,-.3)}},K=k.useCallback((e,t)=>{e.material&&"emissive"in e.material&&e.material.emissive.setHex(t)},[]),Y=k.useCallback(e=>{const t=new o(16777215,.6);e.add(t);const n=new s(16777215,1.5);n.position.set(5,4,-1),n.castShadow=!0,n.shadow.mapSize.width=4096,n.shadow.mapSize.height=4096,n.shadow.camera.near=.5,n.shadow.camera.far=50,n.shadow.normalBias=.02,n.shadow.bias=-.001,e.add(n);const a=new s(10079487,.8);a.position.set(-8,3,-9),e.add(a);const r=new s(10079487,.8);r.position.set(-8,3,15),e.add(r);const l=new i(16777215,.5,.5);l.position.set(0,5,5),e.add(l);const c=new s(16777215,1);c.position.set(-5,30,0),c.castShadow=!0,c.shadow.mapSize.width=2048,c.shadow.mapSize.height=2048,c.shadow.camera.near=.5,c.shadow.camera.far=50,c.shadow.normalBias=.02,c.shadow.bias=-.001,e.add(c);const d=new y(16777215,.3,10,Math.PI/6,.5);d.position.set(0,8,2),d.target.position.set(0,0,0),e.add(d),e.add(d.target)},[]),X=k.useCallback(e=>{const t=(new u).setFromObject(e),n=t.getSize(new p),a=t.getCenter(new p),r=1.8/Math.max(n.x,n.y,n.z);e.scale.set(r,r,r),e.position.copy(a).multiplyScalar(-r),e.position.y-=n.y/2*r},[]),J=k.useCallback(e=>{const t={chasis:[],faders:[]};let n={type:"configUpdate",chasis:"Gray",faders:{}};try{const e=localStorage.getItem("fado_chosenColors");if(e){const t=JSON.parse(e);t&&"object"==typeof t&&(n={type:"configUpdate",chasis:t.chasis||"Gray",faders:t.faders||{}})}}catch(Jt){}const a=[],r=(e,t=0)=>{"  ".repeat(t),e.type,e.name;e.children.forEach(e=>r(e,t+1))};r(e);const o=e=>{if("faders"===e.name.toLowerCase())return e;for(const t of e.children){const e=o(t);if(e)return e}return null},s=o(e);s&&s.children.forEach((e,t)=>{}),e.traverse(e=>{if(!(e instanceof l))return;e.castShadow=!0,e.receiveShadow=!0;const r="string"==typeof e.name?e.name.toLowerCase():"";if(a.push(e.name),r.includes("fader"),r.includes("cubechasis"))e.material=new c({color:G.chasis[n.chasis]?G.chasis[n.chasis].hex:G.chasis.Gray.hex,metalness:.8,roughness:.35,clearcoat:.85,clearcoatRoughness:.1}),t.chasis.push(e),n.chasis=n.chasis||"Gray";else if(r.includes("aro"))e.material=new c({color:0,metalness:0,roughness:.2,clearcoat:.8,clearcoatRoughness:.1,reflectivity:.5,transmission:.3,thickness:.5,ior:1.4,attenuationDistance:1,attenuationColor:16777215,transparent:!0,opacity:.7});else if(r.includes("fader"))if("fader1_1"===r||"fader2_1"===r||"fader3_1"===r||"fader4_1"===r||"fader5_1"===r||"fader6_1"===r||"fader7_1"===r||"fader8_1"===r){const a=n.faders[e.name],r=a&&G.faders[a]?a:"Black";e.material=new d({color:G.faders[r].hex,metalness:0,roughness:1}),t.faders.push(e),n.faders[e.name]=r}else if(e.material){const a=e.material;if(a.color){if((a.color.r+a.color.g+a.color.b)/3<.8){const r=n.faders[e.name],o=r&&G.faders[r]?r:"Black";a.color.setHex(parseInt(G.faders[o].hex.replace("#",""),16)),t.faders.push(e),n.faders[e.name]=o}}}}),H(t),$(n)},[]),Z=k.useCallback(async()=>{try{const{GLTFLoader:e}=await n(async()=>{const{GLTFLoader:e}=await import("./GLTFLoader-DIUHo4Jg.js");return{GLTFLoader:e}},__vite__mapDeps([4,1,2]));(new e).load("./models/fado.glb",e=>{var t;const n=e.scene;S.current=n,J(n),X(n),null==(t=r.current)||t.add(n),N.current||(N.current=n.position.clone());n.traverse(e=>{e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&e.material&&"color"in e.material&&e.material.color.setHex(1842204),e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&(e.material=e.material.clone())})},void 0,e=>{})}catch(e){}},[J,X]);k.useEffect(()=>{if(!a.current)return;const e=new m;e.background=null,e.fog=new j(0,10,50),r.current=e;const t=new h({antialias:!0,alpha:!0,preserveDrawingBuffer:!0,powerPreference:"high-performance"});t.setSize(a.current.clientWidth,a.current.clientHeight),t.setPixelRatio(Math.min(window.devicePixelRatio,3)),t.outputColorSpace=x,t.shadowMap.enabled=!0,t.shadowMap.type=f,t.toneMapping=C,t.toneMappingExposure=1.2,v.current=t,a.current.appendChild(t.domElement);const o=new g(35,a.current.clientWidth/a.current.clientHeight,.1,200);let s;o.position.copy(V.normal.pos),F.current=o,n(async()=>{const{OrbitControls:e}=await import("./OrbitControls-DdcQk7R8.js");return{OrbitControls:e}},__vite__mapDeps([5,1,2])).then(({OrbitControls:e})=>{const n=new e(o,t.domElement);n.target.copy(V.normal.target),n.enableDamping=!0,n.dampingFactor=.05,n.minDistance=2,n.maxDistance=5,n.enablePan=!1,E.current=n}),Y(e),Z();const i=()=>{s=requestAnimationFrame(i),E.current&&E.current.update(),t.render(e,o)};return i(),()=>{s&&cancelAnimationFrame(s),a.current&&t.domElement&&a.current.removeChild(t.domElement),t.dispose()}},[Y,Z]),k.useEffect(()=>{const e=()=>{if(a.current&&F.current&&v.current){const e=a.current.clientWidth,t=a.current.clientHeight;F.current.aspect=e/t,F.current.updateProjectionMatrix(),v.current.setSize(e,t)}};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),k.useEffect(()=>{localStorage.setItem("fado_currentView",R)},[R]),k.useEffect(()=>{localStorage.setItem("fado_chosenColors",JSON.stringify(A))},[A]),k.useEffect(()=>{if(P.chasis.length>0||P.faders.length>0){if(A.chasis&&G.chasis[A.chasis]){const e=G.chasis[A.chasis].hex;P.chasis.forEach(t=>{t.material&&"color"in t.material&&t.material.color.setHex(parseInt(e.replace("#",""),16))})}Object.entries(A.faders).forEach(([e,t])=>{if(G.faders[t]){const n=G.faders[t].hex,a=P.faders.find(t=>t.name===e);a&&(a.material=new d({color:n,metalness:0,roughness:1}))}})}},[P,A]),k.useEffect(()=>{P.faders.length>0&&P.faders.forEach((e,t)=>{const n=G.faders.Black.hex;e.material=new d({color:n,metalness:0,roughness:1})})},[P.faders.length]);const q=k.useCallback(e=>{if(L(e),z&&K(z,0),U.forEach(e=>K(e,0)),"chasis"===e&&P.chasis.length>0?_(P.chasis[0]):_(null),!F.current||!E.current)return;let t,n;"normal"===e?(t=V.normal,n=!0):(t=V.top,n=!1),E.current.enabled=n,O.to(F.current.position,{duration:1.2,ease:"power3.inOut",...t.pos}),O.to(E.current.target,{duration:1.2,ease:"power3.inOut",...t.target,onUpdate:()=>E.current.update()})},[P,z,K,U]),Q=k.useCallback(e=>{if(!F.current||!v.current)return;if("chasis"===R)return void _(null);if("normal"===R)return;const t=new b,n=new w,a=v.current.domElement.getBoundingClientRect();n.x=(e.clientX-a.left)/a.width*2-1,n.y=-(e.clientY-a.top)/a.height*2+1,t.setFromCamera(n,F.current);let r=[];if("faders"===R&&(r=P.faders),0===r.length)return;const o=t.intersectObjects(r,!1);if(o.length>0){const e=o[0].object,t=e.name.toLowerCase();t.includes("fader")?(_(null),W(t=>{const n=t.includes(e)?t.filter(t=>t!==e):[...t,e];return P.faders.forEach(e=>K(e,0)),n.forEach(e=>K(e,4473924)),n})):t.includes("cubechasis")&&(W([]),_(e))}else _(null),W([])},[R,P,z,K,U]),ee=k.useCallback((e,t)=>{if("chasis"===R)$(t=>({...t,chasis:e})),P.chasis.forEach(e=>{e.material&&"color"in e.material&&e.material.color.setHex(parseInt(t.hex.replace("#",""),16))});else{if("faders"===R&&U.length>0){const n={...A,faders:{...A.faders}};return U.forEach(a=>{a.material=new d({color:t.hex,metalness:0,roughness:1}),n.faders[a.name]=e}),$(n),void W([])}"faders"===R&&z&&($(t=>({...t,faders:{...t.faders,[z.name]:e}})),z.material=new d({color:t.hex,metalness:0,roughness:1}))}},[R,P,z,U,A]);k.useCallback(()=>{if(!v.current)return null;try{return v.current.domElement.toDataURL("image/png")}catch(Jt){return null}},[]);const te=k.useCallback(()=>{if(!(v.current&&F.current&&E.current&&r.current))return null;const e=v.current,t=F.current,n=E.current,a=t.position.clone(),o=n.target.clone(),s=n.enabled;t.position.copy(V.normal.pos),n.target.copy(V.normal.target),n.enabled=!1,n.update(),e.render(r.current,t);let i=null;try{i=e.domElement.toDataURL("image/png")}catch(Jt){}return t.position.copy(a),n.target.copy(o),n.enabled=s,n.update(),e.render(r.current,t),i},[]),ne=k.useCallback(async()=>{const e=te();try{const t={product:"fado",chassis:A.chasis,faders:A.faders,screenshot:e||null,savedAt:(new Date).toISOString()};localStorage.setItem("fado_last_summary",JSON.stringify(t))}catch(Jt){}const t=Object.entries(A.faders||{}),a={Green:"Green",Yellow:"Yellow",Blue:"Blue",White:"White",Orange:"Orange",Purple:"Purple",Red:"Red",Black:"Black",Pink:"Pink",Gray:"Gray"},r=e=>a[e]||e,o=e=>e.replace(/_\d+\b/i,""),s=t.length?t.map(([e,t])=>`<li style="margin:4px 0"><strong>${o(e)}</strong>: ${r(t)}</li>`).join(""):"<li>Default</li>",i=`\n      <div style="display:flex; flex-direction:column; gap:12px; text-align:left;">\n        <div style="display:flex; gap:16px; align-items:flex-start;">\n          ${e?`<img src="${e}" alt="Screenshot" style="width:280px; height:auto; border-radius:8px; border:1px solid #4b5563"/>`:'<div style="width:280px;height:180px;display:flex;align-items:center;justify-content:center;border:1px solid #4b5563;border-radius:8px;">No screenshot</div>'}\n          <div style="flex:1">\n            <p style="margin:0 0 8px 0"><strong>Chassis:</strong> ${A.chasis}</p>\n            <p style="margin:0 0 6px 0"><strong>Faders:</strong></p>\n            <ul style="margin:0; padding-left:16px;">${s}</ul>\n          </div>\n        </div>\n      </div>`;if((await I.fire({title:"Configuration Summary",html:i,width:860,background:"#0b1220",color:"#e5e7eb",showCancelButton:!0,showDenyButton:!0,confirmButtonText:"Send by email",denyButtonText:"Download image",cancelButtonText:"Close",focusConfirm:!1,allowOutsideClick:!1,preDeny:async()=>{var e,t;try{const a=null==(t=(e=I).getPopup)?void 0:t.call(e);if(!a)return;const{default:r}=await n(async()=>{const{default:e}=await import("./ui-BPY6V10C.js");return{default:e}},[]),o=(await r(a,{background:"#0b1220"})).toDataURL("image/png"),s=document.createElement("a");s.href=o,s.download="fado-configuration-summary.png",document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(Jt){}},customClass:{popup:"swal2-border-radius",confirmButton:"swal2-confirm-custom",denyButton:"swal2-deny-custom",cancelButton:"swal2-cancel-custom"}})).isConfirmed){const e="your-business-email@example.com",t="Fado Configuration",n=`\nHello,\n\nHere is my configuration for the Fado:\n\n- Chassis: ${r(A.chasis)}\n- Faders: ${Object.entries(A.faders).map(([e,t])=>`${o(e)}: ${r(t)}`).join(", ")||"Default"}\n\n(Attached is the image downloaded from the configurator)\n`,a=`mailto:${e}?subject=${encodeURIComponent(t)}&body=${encodeURIComponent(n)}`;window.location.href=a}},[A,te]);return e.jsxs("div",{children:[!T&&window.innerWidth<=768&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col items-center justify-center text-white text-center p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"mx-auto mb-4 animate-bounce text-cyan-400",children:[e.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),e.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),e.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]})}),e.jsx("h2",{className:"text-2xl font-bold mb-4 text-cyan-400",children:"Rotate your device!"}),e.jsx("p",{className:"text-lg mb-2",children:"to use the configurator"}),e.jsx("p",{className:"text-base opacity-80",children:"Please turn your device to landscape mode"}),e.jsxs("div",{className:"mt-8 flex items-center space-x-2 text-sm opacity-60",children:[e.jsx("div",{className:"w-8 h-5 border-2 border-current rounded-sm"}),e.jsx("span",{children:"→"}),e.jsx("div",{className:"w-5 h-8 border-2 border-current rounded-sm"})]})]}),e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:-1,backgroundImage:"url(/textures/fondo.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}}),e.jsxs("div",{className:"w-full h-screen text-gray-200 overflow-hidden relative",style:{background:"transparent"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none",background:"transparent"}}),e.jsx("div",{className:"fixed top-2 md:top-4 z-50 flex items-center gap-2 md:gap-3",style:{left:"80px"},children:e.jsx("button",{onClick:()=>window.location.href="https://www.crearttech.com/",className:"relative px-3 md:px-5 py-1 md:py-2 rounded-full font-bold text-xs md:text-sm uppercase tracking-wider text-white transition-all duration-300 hover:-translate-y-0.5 bg-gradient-to-r from-cyan-500/20 via-purple-500/20 to-pink-500/20 border border-cyan-500/55",children:e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:[e.jsx("path",{d:"M3 10.5L12 3l9 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M5 9.5V21h14V9.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{children:"Home"})]})})}),e.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 z-10 flex items-center gap-3",children:e.jsx("h1",{className:"text-2xl font-bold leading-none m-0",style:{fontFamily:"Gotham Black, Arial, sans-serif",color:"#fff",textShadow:"0 0 12px #a259ff, 0 0 24px #0ff, 0 0 2px #fff",letterSpacing:"0.04em"},children:"FADO"})}),e.jsx("main",{className:"flex w-full h-full",style:{minHeight:"100vh",height:"100vh",position:"relative",zIndex:1,overflow:"hidden",background:"transparent"},children:e.jsx("div",{className:"flex-grow h-full",style:{position:"relative",zIndex:1,background:"transparent"},children:e.jsx("div",{ref:a,className:"w-full h-full transition-all duration-300",onClick:Q,style:{position:"relative",zIndex:1}})})}),e.jsxs("div",{style:{position:"fixed",top:0,width:"normal"===R?"clamp(80px, 20vw, 112px)":"clamp(300px, 35vw, 360px)",height:"100vh",display:"flex",zIndex:100,transition:"all 0.4s ease",right:D?-35:-20},className:"mobile-panel",children:[e.jsx("div",{style:{width:"clamp(60px, 15vw, 112px)",flexShrink:0,paddingTop:"clamp(20px, 5vh, 160px)",position:"relative",zIndex:50},children:e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(4px, 1vw, 6px)"},children:[{id:"normal",icon:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5M12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17M12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z",title:"Full View - See complete MIDI controller"},{id:"chasis",icon:"fado.png",isImage:!0,title:"Customize Chassis - Change main body color"},{id:"faders",icon:"fader.png",isImage:!0,title:"Customize Faders - Change slider control colors"}].map(({id:t,icon:n,isImage:a,title:r})=>e.jsx("button",{onClick:()=>q(t),style:{width:"clamp(40px, 10vw, 70px)",height:"clamp(40px, 10vw, 70px)",padding:"clamp(4px, 1vw, 8px)",aspectRatio:"1 / 1",border:"2px solid #00FFFF",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",zIndex:100,transition:"all 0.3s ease",color:"white",cursor:"pointer",background:R===t?"linear-gradient(to bottom right, #00FFFF, #0080FF)":"linear-gradient(to bottom right, #000000, #1a1a1a)",boxShadow:R===t?"0 10px 15px -3px rgba(0, 0, 0, 0.1)":"none"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(to bottom right, #00FFFF, #0080FF)",e.currentTarget.style.boxShadow="0 10px 15px -3px rgba(0, 0, 0, 0.1)";const t=document.createElement("div");t.className="custom-tooltip",t.textContent=r,t.style.cssText=`\n                      position: fixed;\n                      left: ${e.clientX-20}px;\n                      top: ${e.clientY-20}px;\n                      transform: translateX(-100%);\n                      background: #8503adcc;\n                      color: white;\n                      padding: 12px 16px;\n                      border-radius: 8px;\n                      font-size: 14px;\n                      font-weight: bold;\n                      white-space: nowrap;\n                      z-index: 999999;\n                      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n                      border: 2px solid #f87171;\n                      pointer-events: none;\n                    `,t.id="temp-tooltip",document.body.appendChild(t)},onMouseLeave:e=>{R!==t&&(e.currentTarget.style.background="linear-gradient(to bottom right, #000000, #1a1a1a)",e.currentTarget.style.boxShadow="none");const n=document.getElementById("temp-tooltip");n&&n.remove()},children:a?e.jsx("img",{src:`textures/${n}`,alt:"Menu icon",style:{width:"clamp(20px, 5vw, 40px)",height:"clamp(20px, 5vw, 40px)",objectFit:"contain",margin:"auto",pointerEvents:"none",filter:"faders"===t?"brightness(1.5) contrast(1.3) saturate(1.2) drop-shadow(0 0 6px rgba(0, 255, 255, 0.5))":"none",backgroundColor:"faders"===t?"rgba(0, 0, 0, 0.1)":"transparent"},onError:e=>{}}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",style:{width:"clamp(20px, 5vw, 40px)",height:"clamp(20px, 5vw, 40px)",fill:"white",color:"white",margin:"auto",pointerEvents:"none"},fill:"#fff",children:e.jsx("path",{d:n})})},t))})}),e.jsxs("div",{style:{flex:1,padding:"normal"===R?"clamp(4px, 1vw, 8px)":"clamp(12px, 2vw, 16px)",display:"flex",flexDirection:"column",background:"normal"===R?"transparent":"rgba(17, 24, 39, 0.65)",borderLeft:"normal"===R?"none":"1px solid #4b5563",backdropFilter:"normal"===R?void 0:"blur(6px)",overflowY:"normal"===R?"visible":"auto"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",paddingBottom:"clamp(12px, 3vw, 20px)",borderBottom:"1px solid #4b5563",paddingLeft:0,justifyContent:"center",gap:"normal"===R?0:"clamp(4px, 1vw, 8px)",minHeight:"normal"===R?"clamp(40px, 10vw, 48px)":"auto"},children:e.jsx("img",{src:"models/logo.png",alt:"Logo",style:{height:"normal"===R?"clamp(20px, 5vw, 24px)":"clamp(28px, 7vw, 32px)",width:"auto",filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}})}),"normal"!==R&&e.jsxs("div",{style:{marginTop:"clamp(12px, 2.5vw, 20px)"},className:"animate-fadeIn",children:[e.jsx("p",{style:{fontWeight:900,fontSize:"clamp(12px, 3vw, 16px)",letterSpacing:"0.05em",textTransform:"uppercase",margin:"0 0 clamp(10px, 2vw, 14px) 0",color:"#e5e7eb",textAlign:"left"},className:"animate-fadeIn",children:"chasis"===R?"CHOOSE THE CHASSIS COLOR":"faders"===R?"CUSTOMIZE THE FADERS":"🎵 FADO"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",rowGap:"5px",columnGap:"0px",padding:0,justifyItems:"start",marginLeft:D?"-24px":"35px",transform:D?"translateX(-36px)":"none",transition:"transform 150ms ease"},className:"animate-scaleIn",children:Object.entries("chasis"===R?G.chasis:"faders"===R?G.faders:G.chasis).map(([t,n],a)=>e.jsx("div",{style:{width:"clamp(30px, 7vw, 44px)",height:"clamp(30px, 7vw, 44px)",borderRadius:"50%",cursor:"pointer",border:"1px solid #a259ff",boxShadow:"0 0 6px 1px rgba(162, 89, 255, 0.33)",transition:"transform 0.15s ease, margin-left 0.15s ease",backgroundColor:n.hex,animationDelay:40*a+"ms",marginLeft:"0px"},title:t,onClick:()=>ee(t,n),onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.07)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)"},className:"animate-fadeInUp"},t))})]}),"faders"===R&&(z||U.length>0)&&e.jsxs("div",{style:{marginBottom:"clamp(12px, 3vw, 16px)",padding:"clamp(8px, 2vw, 12px)",background:"#1f2937",borderRadius:"8px"},className:"animate-scaleIn",children:[e.jsx("h4",{style:{fontSize:"clamp(12px, 3vw, 18px)",fontWeight:600,color:"white",marginBottom:"clamp(4px, 1vw, 8px)"},className:"animate-fadeIn",children:U.length>0?`Selección múltiple (${U.length} elementos)`:`Seleccionado: ${z?z.name:""}`}),e.jsx("p",{style:{color:"#d1d5db",fontSize:"clamp(10px, 2vw, 14px)"},className:"animate-fadeIn",children:U.length>0?"Haz clic en un color para aplicarlo a todos los faders seleccionados":"Haz clic en un color para aplicarlo al fader seleccionado"})]})]})]}),"normal"===R&&e.jsx("button",{onClick:ne,className:"fixed bottom-10 left-1/2 transform -translate-x-1/2 z-50 px-6 py-3 text-lg font-bold uppercase tracking-wide text-black bg-purple-400 border-none rounded cursor-pointer transition-all duration-200 shadow-lg hover:bg-yellow-200 hover:scale-105 hover:shadow-xl shadow-[0_0_8px_2px_#a259ff80,0_0_16px_4px_#0ff5]",children:"Finish and Send Configuration"})]})]})},Vt=Object.freeze(Object.defineProperty({__proto__:null,default:Gt},Symbol.toStringTag,{value:"Module"})),Kt=({className:t="",style:n={}})=>{const[a,r]=k.useState(!1),[o]=k.useState(Date.now());return k.useEffect(()=>{const e=setTimeout(()=>{r(!0)},4100);return()=>clearTimeout(e)},[]),e.jsxs("div",{className:t,style:n,children:[e.jsx(Wt,{isVisible:!a}),e.jsx("div",{style:{width:"100%",height:"100%",opacity:a?1:0},children:e.jsx(Gt,{})})]})},Yt=Object.freeze(Object.defineProperty({__proto__:null,default:Kt},Symbol.toStringTag,{value:"Module"}));function Xt(){const[a,r]=k.useState("beato8"),[o,s]=k.useState(!1),[i,l]=k.useState(null),[c,d]=k.useState(!1),[u,p]=k.useState(!1),{isLoading:m}=(()=>{const{progress:e,total:n,loaded:a}=t(),[r,o]=k.useState(!0),[s,i]=k.useState(!1),[l]=k.useState(Date.now());return k.useEffect(()=>{0!==n?e>=100&&a>=n&&i(!0):o(!1)},[e,n,a]),k.useEffect(()=>{if(s){const e=Date.now()-l,t=5e3,n=Math.max(0,t-e),a=setTimeout(()=>{o(!1)},n);return()=>clearTimeout(a)}},[s,l]),{isLoading:r,progress:e,total:n,loaded:a}})(),{prefetchOnHover:h,prefetchOnIntersection:x}=(()=>{const e=k.useCallback(e=>{e().catch(e=>{})},[]),t=k.useCallback((t,n)=>{e(t)},[e]),n=k.useCallback((t,n)=>{if(!n)return;const a=new IntersectionObserver(n=>{n.forEach(n=>{n.isIntersecting&&(e(t),a.disconnect())})},{threshold:.1});return a.observe(n),()=>a.disconnect()},[e]);return{prefetchComponent:e,prefetchOnHover:t,prefetchOnIntersection:n}})(),f=k.useRef(null);k.useEffect(()=>{const e=new URLSearchParams(window.location.search);(e.has("referenceCode")||e.has("reference_sale")||e.has("status")||e.has("state_pol"))&&(s(!0),l({referenceCode:e.get("referenceCode")||e.get("reference_sale"),status:e.get("status")||e.get("state_pol"),amount:e.get("amount")||e.get("value"),currency:e.get("currency"),description:e.get("description"),transactionId:e.get("transaction_id")||e.get("transactionId")}))},[]),k.useEffect(()=>{const e=()=>{const e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),t=window.innerWidth<=768;d(e||t),p(window.innerWidth>window.innerHeight)};return e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),k.useEffect(()=>{f.current&&x(()=>n(()=>Promise.resolve().then(()=>ft),void 0),f.current)},[x]);return o?e.jsx(dt,{children:e.jsx(k.Suspense,{fallback:e.jsx(ct,{type:"payment"}),children:e.jsx(ut,{})})}):e.jsxs("div",{className:"App "+(c?"mobile-device":""),children:[c&&!u&&e.jsx("div",{className:"rotate-screen-overlay",children:e.jsxs("div",{className:"rotate-screen-content",children:[e.jsx("div",{className:"rotate-icon",children:"📱"}),e.jsx("h2",{children:"Gira tu dispositivo"}),e.jsx("p",{children:"Para una mejor experiencia, usa el configurador en modo horizontal"}),e.jsx("div",{className:"rotate-arrow",children:"↻"})]})}),e.jsx(lt,{isVisible:m}),e.jsx("div",{className:"product-menu",children:[{id:"beato8",name:"BEATO8",icon:"textures/beato.png",isImage:!0},{id:"beato16",name:"BEATO16",icon:"textures/beato16.png",isImage:!0},{id:"knobo",name:"KNOBO",icon:"textures/knobo.png",isImage:!0},{id:"mixo",name:"MIXO",icon:"textures/mixo.png",isImage:!0},{id:"loopo",name:"LOOPO",icon:"textures/loopo.png",isImage:!0},{id:"fado",name:"FADO",icon:"textures/fado.png",isImage:!0}].map(t=>e.jsxs("button",{className:"product-menu-item",onClick:()=>{return e=t.id,void r(e);var e},ref:"beato8"===t.id?f:void 0,style:{backgroundColor:a===t.id?"rgba(4, 19, 19, 0.3)":"transparent",background:a===t.id?"linear-gradient(135deg, rgba(0, 255, 255, 0.3) 0%, rgba(0, 128, 255, 0.2) 100%)":"transparent",border:a===t.id?"1px solid #00FFFF":"1px solid rgba(0, 255, 255, 0.3)",color:a===t.id?"#00FFFF":"#ffffff",boxShadow:a===t.id?"0 0 8px 2px rgba(0, 255, 255, 0.4)":"none"},onMouseEnter:e=>{var r;r=t.id,h({beato8:()=>n(()=>Promise.resolve().then(()=>ft),void 0),beato16:()=>n(()=>Promise.resolve().then(()=>yt),void 0),knobo:()=>n(()=>Promise.resolve().then(()=>zt),void 0),mixo:()=>n(()=>Promise.resolve().then(()=>Mt),void 0),loopo:()=>n(()=>Promise.resolve().then(()=>Ut),void 0),fado:()=>n(()=>Promise.resolve().then(()=>Yt),void 0)}[r],{}),a!==t.id&&(e.currentTarget.style.backgroundColor="rgba(0, 255, 255, 0.2)",e.currentTarget.style.transform="translateX(3px) scale(1.02)",e.currentTarget.style.boxShadow="0 8px 25px rgba(0, 255, 255, 0.4)")},onMouseLeave:e=>{a!==t.id&&(e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.transform="translateX(0) scale(1)",e.currentTarget.style.boxShadow="none")},children:[t.isImage?e.jsx("img",{src:t.icon,alt:t.name,style:{width:"30px",height:"30px",objectFit:"contain",filter:a===t.id?"drop-shadow(0 1px 2px rgba(0,0,0,0.3))":"none"},onError:e=>{e.currentTarget.style.display="none"}}):e.jsx("span",{style:{fontSize:"14px",filter:a===t.id?"drop-shadow(0 1px 2px rgba(0,0,0,0.3))":"none"},children:t.icon}),e.jsx("div",{style:{textAlign:"center"},children:e.jsx("div",{style:{fontSize:"8px",fontWeight:"bold",marginBottom:"1px"},children:t.name})}),a===t.id&&e.jsx("div",{style:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",width:"2px",height:"50%",backgroundColor:"#00FFFF",borderRadius:"1px",boxShadow:"0 0 4px 1px rgba(6, 27, 27, 0.6)"}})]},t.id))}),e.jsx("main",{className:"canvas-wrap",children:e.jsx(dt,{children:e.jsx(k.Suspense,{fallback:e.jsx(ct,{type:"configurator"}),children:e.jsxs(pt,{children:["beato8"===a&&e.jsx(xt,{}),"knobo"===a&&e.jsx(Lt,{}),"mixo"===a&&e.jsx(Dt,{}),"beato16"===a&&e.jsx(vt,{}),"loopo"===a&&e.jsx(Ht,{}),"fado"===a&&e.jsx(Kt,{})]})})})})]})}F(document.getElementById("root")).render(e.jsx(k.StrictMode,{children:e.jsx(nt,{children:e.jsx(Xt,{})})}));
